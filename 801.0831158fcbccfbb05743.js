(self.webpackChunketam_prime=self.webpackChunketam_prime||[]).push([[801],{82801:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AdministrationModule:()=>dn});var n=i(9550),o=i(92290),s=i(74855),a=i(61116),r=i(68003),l=i(16304),c=i(81888),d=i(35366),u=i(22671),h=i(9017),p=i(37456),g=i(31041),m=i(2619),f=i(62707),Z=i(82051),b=i(39627),T=i(42655),A=i(99276),v=i(90611);let y,x=(()=>{class e{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter(t=>t!==e);let t=this._focusTrapStack;t.length&&t[t.length-1]._disable(),t.push(e),e._enable()}deregister(e){e._disable();const t=this._focusTrapStack,i=t.indexOf(e);-1!==i&&(t.splice(i,1),t.length&&t[t.length-1]._enable())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,d.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e})();try{y="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(un){y=!1}let _=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,a.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!y)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(d.Lbi))},e.\u0275prov=(0,d.Yz7)({factory:function(){return new e((0,d.LFG)(d.Lbi))},token:e,providedIn:"root"}),e})(),q=(()=>{class e{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(un){return null}}((i=e).ownerDocument&&i.ownerDocument.defaultView||window);var i;if(t){if(-1===M(t))return!1;if(!this.isVisible(t))return!1}let n=e.nodeName.toLowerCase(),o=M(e);return e.hasAttribute("contenteditable")?-1!==o:"iframe"!==n&&"object"!==n&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),i="input"===t&&e.type;return"text"===i||"password"===i||"select"===t||"textarea"===t}(e))&&("audio"===n?!!e.hasAttribute("controls")&&-1!==o:"video"===n?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,t){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||w(e))}(e)&&!this.isDisabled(e)&&((null==t?void 0:t.ignoreVisibility)||this.isVisible(e))}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(_))},e.\u0275prov=(0,d.Yz7)({factory:function(){return new e((0,d.LFG)(_))},token:e,providedIn:"root"}),e})();function w(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function M(e){if(!w(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function k(e){return null!=e&&"false"!=`${e}`}class C{constructor(e,t,i,n,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=n,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let i=0;i<t.length;i++)t[i].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[i]):t[i].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[i]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let i=0;i<t.length;i++){let e=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let i=t.length-1;i>=0;i--){let e=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,v.q)(1)).subscribe(e)}}let U=(()=>{class e{constructor(e,t,i){this._checker=e,this._ngZone=t,this._document=i}create(e,t=!1){return new C(e,this._checker,this._ngZone,this._document,t)}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(q),d.LFG(d.R0b),d.LFG(a.K0))},e.\u0275prov=(0,d.Yz7)({factory:function(){return new e((0,d.LFG)(q),(0,d.LFG)(d.R0b),(0,d.LFG)(a.K0))},token:e,providedIn:"root"}),e})(),E=(()=>{class e{constructor(e,t,i){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=k(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=k(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq),d.Y36(U),d.Y36(a.K0))},e.\u0275dir=d.lG2({type:e,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[d.TTD]}),e})(),I=(()=>{class e{static forRoot(){return{ngModule:e,providers:[x,_,q]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[a.ez]]}),e})();const S=["*"];let D=(()=>{class e{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e})();const L={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},J=new d.OlP("override-default-config"),F="modal-open",O="show";let G=(()=>{class e{constructor(e,t,i){this._element=t,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,(0,b.XA)()?"in":O)},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,F)),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(e){this.clickStartedInContent=e.target!==this._element.nativeElement}onClickStop(e){var t;this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(t=this.bsModalService)||void 0===t||t.setDismissReason("backdrop-click"),this.hide())}onPopState(){var e;null===(e=this.bsModalService)||void 0===e||e.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(e){var t,i;this.isShown&&(27!==e.keyCode&&"Escape"!==e.key||e.preventDefault(),this.config.keyboard&&this.level===(null===(t=this.bsModalService)||void 0===t?void 0:t.getModalsCount())&&(null===(i=this.bsModalService)||void 0===i||i.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){!this.isModalHiding&&this.isShown&&(this.config.closeInterceptor?this.config.closeInterceptor().then(()=>this._hide(),()=>{}):this._hide())}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,(0,b.XA)()?"in":O),setTimeout(()=>{var e,t;this.isShown=!1,document&&document.body&&1===(null===(e=this.bsModalService)||void 0===e?void 0:e.getModalsCount())&&this._renderer.removeClass(document.body,F),null===(t=this.bsModalService)||void 0===t||t.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(N),d.Y36(d.SBq),d.Y36(d.Qsj))},e.\u0275cmp=d.Xpm({type:e,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(e,t){1&e&&d.NdJ("mousedown",function(e){return t.onClickStarted(e)})("click",function(e){return t.onClickStop(e)})("popstate",function(){return t.onPopState()},!1,d.Jf7)("keydown.esc",function(e){return t.onEsc(e)},!1,d.Jf7),2&e&&d.uIk("aria-modal",!0)("aria-labelledby",t.config.ariaLabelledBy)("aria-describedby",t.config.ariaDescribedby)},ngContentSelectors:S,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(e,t){1&e&&(d.F$t(),d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.Hsn(2),d.qZA(),d.qZA()),2&e&&d.Tol("modal-dialog"+(t.config.class?" "+t.config.class:""))},directives:[E],encapsulation:2}),e})(),R=(()=>{class e{constructor(e,t){this._isAnimated=!1,this._isShown=!1,this.element=e,this.renderer=t}get isAnimated(){return this._isAnimated}set isAnimated(e){this._isAnimated=e}get isShown(){return this._isShown}set isShown(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),(0,b.XA)()||(e?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),b.cQ.reflow(this.element.nativeElement)),this.isShown=!0}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq),d.Y36(d.Qsj))},e.\u0275cmp=d.Xpm({type:e,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),Y=(()=>{class e{constructor(e,t,i){this.clf=t,this.modalDefaultOption=i,this.onShow=new d.vpe,this.onShown=new d.vpe,this.onHide=new d.vpe,this.onHidden=new d.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=e.createRenderer(null,null),this.config=i?Object.assign({},L,i):L}show(e,t){this.modalsCount++,this._createLoaders();const i=(null==t?void 0:t.id)||(new Date).getUTCMilliseconds();return this.config=this.modalDefaultOption?Object.assign({},L,this.modalDefaultOption,t):Object.assign({},L,t),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(e)}hide(e){1!==this.modalsCount&&null!=e||(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=e?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(e),this.removeLoaders(e)},this.config.animated?150:0)}_showBackdrop(){const e=!0===this.config.backdrop||"static"===this.config.backdrop,t=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),e&&t&&(this._backdropLoader.attach(R).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(e){var t;const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const s of this.config.providers)i.provide(s);const n=new D,o=i.provide({provide:N,useValue:this.config}).provide({provide:D,useValue:n}).attach(G).to("body");return n.hide=()=>{var e;return null===(e=o.instance)||void 0===e?void 0:e.hide()},n.setClass=e=>{o.instance&&(o.instance.config.class=e)},n.onHidden=new d.vpe,n.onHide=new d.vpe,this.copyEvent(i.onBeforeHide,n.onHide),this.copyEvent(i.onHidden,n.onHidden),o.show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),o.instance&&(o.instance.level=this.getModalsCount(),n.content=i.getInnerComponent(),n.id=null===(t=o.instance.config)||void 0===t?void 0:t.id),n}_hideModal(e){if(null!=e){const t=this.loaders.findIndex(t=>{var i;return(null===(i=t.instance)||void 0===i?void 0:i.config.id)===e}),i=this.loaders[t];i&&i.hide(e)}else this.loaders.forEach(e=>{e.instance&&e.hide(e.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(e){this.lastDismissReason=e}removeBackdrop(){this._renderer.removeClass(document.body,F),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const e=this._renderer.createElement("div");this._renderer.addClass(e,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,e);const t=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(document.body,e),t}_createLoaders(){const e=this.clf.createLoader();this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)}removeLoaders(e){if(null!=e){const t=this.loaders.findIndex(t=>{var i;return(null===(i=t.instance)||void 0===i?void 0:i.config.id)===e});t>=0&&(this.loaders.splice(t,1),this.loaders.forEach((e,t)=>{e.instance&&(e.instance.level=t+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(e,t){e.subscribe(e=>{t.emit(this.lastDismissReason||e)})}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(d.FYo),d.LFG(T.oj),d.LFG(J,8))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e})();I.forRoot();let Q=(()=>{class e{static forRoot(){return{ngModule:e,providers:[Y,T.oj,A.sA]}}static forChild(){return{ngModule:e,providers:[Y,T.oj,A.sA]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[I]]}),e})();var B=i(3492),P=i(7436),H=i(19861),z=i(87064),j=i(26136),W=i(27853),V=i(97388);const $=["input"],K=function(e){return{enterDuration:e}},X=["*"],ee=new d.OlP("mat-checkbox-default-options",{providedIn:"root",factory:te});function te(){return{color:"accent",clickAction:"check-indeterminate"}}let ie=0;const ne=te(),oe={provide:g.JU,useExisting:(0,d.Gpc)(()=>le),multi:!0};class se{}class ae{constructor(e){this._elementRef=e}}const re=(0,z.sb)((0,z.pj)((0,z.Kr)((0,z.Id)(ae))));let le=(()=>{class e extends re{constructor(e,t,i,n,o,s,a){super(e),this._changeDetectorRef=t,this._focusMonitor=i,this._ngZone=n,this._animationMode=s,this._options=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++ie,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new d.vpe,this.indeterminateChange=new d.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||ne,this.color=this.defaultColor=this._options.color||ne.color,this.tabIndex=parseInt(o)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=(0,H.Ig)(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const t=(0,H.Ig)(e);t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const t=e!=this._indeterminate;this._indeterminate=(0,H.Ig)(e),t&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let t=this._currentCheckState,i=this._elementRef.nativeElement;if(t!==e&&(this._currentAnimationClass.length>0&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);const e=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(e)},1e3)})}}_emitChangeEvent(){const e=new se;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(e){var t;const i=null===(t=this._options)||void 0===t?void 0:t.clickAction;e.stopPropagation(),this.disabled||"noop"===i?this.disabled||"noop"!==i||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==i&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,t){e?this._focusMonitor.focusVia(this._inputElement,e,t):this._inputElement.nativeElement.focus(t)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,t){if("NoopAnimations"===this._animationMode)return"";let i="";switch(e){case 0:if(1===t)i="unchecked-checked";else{if(3!=t)return"";i="unchecked-indeterminate"}break;case 2:i=1===t?"unchecked-checked":"unchecked-indeterminate";break;case 1:i=2===t?"checked-unchecked":"checked-indeterminate";break;case 3:i=1===t?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${i}`}_syncIndeterminate(e){const t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(V.tE),d.Y36(d.R0b),d.$8M("tabindex"),d.Y36(j.Qb,8),d.Y36(ee,8))},e.\u0275cmp=d.Xpm({type:e,selectors:[["mat-checkbox"]],viewQuery:function(e,t){if(1&e&&(d.Gf($,5),d.Gf(z.wG,5)),2&e){let e;d.iGM(e=d.CRH())&&(t._inputElement=e.first),d.iGM(e=d.CRH())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,t){2&e&&(d.Ikx("id",t.id),d.uIk("tabindex",null),d.ekj("mat-checkbox-indeterminate",t.indeterminate)("mat-checkbox-checked",t.checked)("mat-checkbox-disabled",t.disabled)("mat-checkbox-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[d._Bn([oe]),d.qOj],ngContentSelectors:X,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,t){if(1&e&&(d.F$t(),d.TgZ(0,"label",0,1),d.TgZ(2,"span",2),d.TgZ(3,"input",3,4),d.NdJ("change",function(e){return t._onInteractionEvent(e)})("click",function(e){return t._onInputClick(e)}),d.qZA(),d.TgZ(5,"span",5),d._UZ(6,"span",6),d.qZA(),d._UZ(7,"span",7),d.TgZ(8,"span",8),d.O4$(),d.TgZ(9,"svg",9),d._UZ(10,"path",10),d.qZA(),d.kcU(),d._UZ(11,"span",11),d.qZA(),d.qZA(),d.TgZ(12,"span",12,13),d.NdJ("cdkObserveContent",function(){return t._onLabelTextChange()}),d.TgZ(14,"span",14),d._uU(15,"\xa0"),d.qZA(),d.Hsn(16),d.qZA(),d.qZA()),2&e){const e=d.MAs(1),i=d.MAs(13);d.uIk("for",t.inputId),d.xp6(2),d.ekj("mat-checkbox-inner-container-no-side-margin",!i.textContent||!i.textContent.trim()),d.xp6(1),d.Q6J("id",t.inputId)("required",t.required)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex),d.uIk("value",t.value)("name",t.name)("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-checked",t._getAriaChecked())("aria-describedby",t.ariaDescribedby),d.xp6(2),d.Q6J("matRippleTrigger",e)("matRippleDisabled",t._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",d.VKq(19,K,"NoopAnimations"===t._animationMode?0:150))}},directives:[z.wG,W.wD],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),e})(),ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({}),e})(),de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[z.si,z.BQ,W.Q8,ce],z.BQ,ce]}),e})();var ue=i(5592),he=i(46726),pe=i(20322),ge=i(7627);const me=["compareModal"];function fe(e,t){if(1&e&&(d.TgZ(0,"option",21),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("value",e.Alias),d.xp6(1),d.Oqu(e.Alias)}}function Ze(e,t){1&e&&(d.TgZ(0,"h2",22),d._uU(1,"Online"),d.qZA())}function be(e,t){1&e&&(d.TgZ(0,"h2",23),d._uU(1,"Offline"),d.qZA())}function Te(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",10),d.TgZ(1,"label",11),d._uU(2,"Gender"),d.qZA(),d.TgZ(3,"div",24),d.TgZ(4,"mat-radio-group",2),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).gendertype=t})("change",function(){return d.CHM(e),d.oxw(2).genderchange()}),d.TgZ(5,"mat-radio-button",25),d._uU(6,"Male"),d.qZA(),d._uU(7,"\xa0 "),d.TgZ(8,"mat-radio-button",26),d._uU(9,"Female"),d.qZA(),d._uU(10,"\xa0 "),d.TgZ(11,"mat-radio-button",27),d._uU(12,"All"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw(2);d.xp6(4),d.Q6J("ngModel",e.gendertype),d.xp6(7),d.Q6J("checked",!0)}}function Ae(e,t){1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"th"),d._uU(2,"Numeric Id"),d.qZA(),d.TgZ(3,"th"),d._uU(4,"Alpha-Numeric Id"),d.qZA(),d.TgZ(5,"th"),d._uU(6,"Name"),d.qZA(),d.qZA())}function ve(e,t){if(1&e&&(d.TgZ(0,"tr",59),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.qZA()),2&e){const e=t.$implicit,i=t.rowIndex,n=d.oxw(4);d.Udp("background-color",n.statusColor[e.Status]),d.Q6J("pSelectableRow",e)("pSelectableRowIndex",i)("id",e.EmpId),d.xp6(2),d.Oqu(e.EmpId),d.xp6(2),d.Oqu(e.AlfaNumeric),d.xp6(2),d.Oqu(e.EmpName)}}function ye(e,t){1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"th"),d._uU(2,"ID"),d.qZA(),d.TgZ(3,"th"),d._uU(4,"Alpha-Numeric"),d.qZA(),d.TgZ(5,"th"),d._uU(6,"Name"),d.qZA(),d._UZ(7,"th"),d.qZA())}function xe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td",60),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw(4).deselectId(t.EmpId)}),d._UZ(8,"i",61),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit;d.xp6(2),d.Oqu(e.EmpId),d.xp6(2),d.Oqu(e.AlfaNumeric),d.xp6(2),d.Oqu(e.EmpName)}}function _e(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",62),d.NdJ("click",function(){return d.CHM(e),d.oxw(4).dialogVisible=!1}),d.qZA()}}const qe=function(){return{width:"50vw"}},we=function(){return{height:"300px"}};function Me(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",48),d.TgZ(1,"p-table",49),d.NdJ("onRowSelect",function(t){return d.CHM(e),d.oxw(3).onRowSelect(t)})("onRowUnselect",function(t){return d.CHM(e),d.oxw(3).onRowUnSelect(t)})("selectionChange",function(t){return d.CHM(e),d.oxw(3).selectedEmployees=t}),d.YNc(2,Ae,7,0,"ng-template",50),d.YNc(3,ve,7,8,"ng-template",51),d.qZA(),d.TgZ(4,"div",52),d.TgZ(5,"div",10),d.TgZ(6,"p"),d._uU(7),d.qZA(),d.qZA(),d.TgZ(8,"div",53),d.TgZ(9,"input",54),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(3).checkboxFlag=t})("change",function(){return d.CHM(e),d.oxw(3).selectAll()}),d.qZA(),d.TgZ(10,"label"),d._uU(11,"\xa0Select All"),d.qZA(),d.qZA(),d.TgZ(12,"div",10),d.TgZ(13,"button",55),d.NdJ("click",function(){return d.CHM(e),d.oxw(3).showDialog()}),d.qZA(),d.TgZ(14,"p-dialog",56),d.NdJ("visibleChange",function(t){return d.CHM(e),d.oxw(3).dialogVisible=t}),d.TgZ(15,"p-table",57),d.YNc(16,ye,8,0,"ng-template",50),d.YNc(17,xe,9,3,"ng-template",51),d.qZA(),d.YNc(18,_e,1,0,"ng-template",58),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw(3);d.xp6(1),d.Q6J("value",e.emp_list)("scrollable",!0)("selection",e.selectedEmployees),d.xp6(6),d.hij("Selected Employees : ",e.selectedEmployees.length,""),d.xp6(2),d.Q6J("ngModel",e.checkboxFlag),d.xp6(5),d.Akn(d.DdM(14,qe)),d.Q6J("resizable",!1)("modal",!0)("maximizable",!0)("visible",e.dialogVisible)("contentStyle",d.DdM(15,we)),d.xp6(1),d.Q6J("value",e.selectedEmployees)("scrollable",!0)}}function ke(e,t){if(1&e&&(d.TgZ(0,"div",63),d._uU(1),d.qZA()),2&e){const e=d.oxw(3);d.xp6(1),d.Oqu(e.warning)}}function Ce(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",28),d.TgZ(1,"div",29),d.TgZ(2,"section"),d.TgZ(3,"mat-checkbox",30),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).pid=t})("change",function(t){return d.CHM(e),d.oxw(2).getStatusChange(t,"pid")}),d.TgZ(4,"span",31),d._uU(5,"Present in Device "),d.TgZ(6,"mdb-badge",32),d._uU(7),d.qZA(),d.qZA(),d.qZA(),d._uU(8,"\xa0 "),d.TgZ(9,"mat-checkbox",30),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).nemp=t})("change",function(t){return d.CHM(e),d.oxw(2).getStatusChange(t,"nemp")}),d.TgZ(10,"span",33),d._uU(11,"New Employee "),d.TgZ(12,"mdb-badge",32),d._uU(13),d.qZA(),d.qZA(),d.qZA(),d._uU(14,"\xa0 "),d.TgZ(15,"mat-checkbox",30),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).remp=t})("change",function(t){return d.CHM(e),d.oxw(2).getStatusChange(t,"remp")}),d.TgZ(16,"span",34),d._uU(17,"Remove Pending "),d.TgZ(18,"mdb-badge",35),d._uU(19),d.qZA(),d.qZA(),d.qZA(),d._uU(20,"\xa0 "),d.TgZ(21,"mat-checkbox",30),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).addp=t})("change",function(t){return d.CHM(e),d.oxw(2).getStatusChange(t,"addp")}),d.TgZ(22,"span",36),d._uU(23,"Add Pending "),d.TgZ(24,"mdb-badge",32),d._uU(25),d.qZA(),d.qZA(),d.qZA(),d._uU(26,"\xa0 "),d.TgZ(27,"mat-checkbox",30),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).ntad=t})("change",function(t){return d.CHM(e),d.oxw(2).getStatusChange(t,"ntad")}),d.TgZ(28,"span",37),d._uU(29,"Not Added "),d.TgZ(30,"mdb-badge",32),d._uU(31),d.qZA(),d.qZA(),d.qZA(),d._uU(32,"\xa0 "),d.TgZ(33,"mat-checkbox",30),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).rpid=t})("change",function(t){return d.CHM(e),d.oxw(2).getStatusChange(t,"rpid")}),d.TgZ(34,"span",38),d._uU(35,"Resigned (Present)"),d.TgZ(36,"mdb-badge",32),d._uU(37),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(38,"div",39),d.TgZ(39,"div",10),d.TgZ(40,"label",40),d._uU(41,"Total Employees : "),d.TgZ(42,"span",41),d._uU(43),d.qZA(),d.qZA(),d.qZA(),d.TgZ(44,"div",10),d.TgZ(45,"form",42),d.TgZ(46,"input",43,44),d.NdJ("keyup",function(){d.CHM(e);const t=d.MAs(47);return d.oxw(2).searchData(t.value)}),d.qZA(),d.qZA(),d.TgZ(48,"small",45),d._uU(49,"Search by Numeric Id or Alpha-Numeric Id or Name"),d.qZA(),d.qZA(),d.qZA(),d.YNc(50,Me,19,16,"div",46),d.YNc(51,ke,2,1,"div",47),d.qZA()}if(2&e){const e=d.oxw(2);d.xp6(3),d.Q6J("ngModel",e.pid),d.xp6(3),d.Q6J("pill",!0)("primary",!0),d.xp6(1),d.Oqu(e.presentcnt),d.xp6(2),d.Q6J("ngModel",e.nemp),d.xp6(3),d.Q6J("pill",!0)("primary",!0),d.xp6(1),d.Oqu(e.newempcnt),d.xp6(2),d.Q6J("ngModel",e.remp),d.xp6(3),d.Q6J("pill",!0)("info",!0),d.xp6(1),d.Oqu(e.removependingcnt),d.xp6(2),d.Q6J("ngModel",e.addp),d.xp6(3),d.Q6J("pill",!0)("primary",!0),d.xp6(1),d.Oqu(e.addpendingcnt),d.xp6(2),d.Q6J("ngModel",e.ntad),d.xp6(3),d.Q6J("pill",!0)("primary",!0),d.xp6(1),d.Oqu(e.notaddedcnt),d.xp6(2),d.Q6J("ngModel",e.rpid),d.xp6(3),d.Q6J("pill",!0)("primary",!0),d.xp6(1),d.Oqu(e.resignpresentcnt),d.xp6(6),d.Oqu(e.totalcount),d.xp6(7),d.Q6J("ngIf",0!=e.emp_list.length),d.xp6(1),d.Q6J("ngIf",0==e.emp_list.length)}}function Ue(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",64),d.TgZ(1,"div"),d.TgZ(2,"button",65),d.NdJ("click",function(){return d.CHM(e),d.oxw(2).addInDevice()}),d._uU(3,"Add"),d.qZA(),d.qZA(),d.TgZ(4,"div",66),d.TgZ(5,"button",65),d.NdJ("click",function(){return d.CHM(e),d.oxw(2).refreshList()}),d._UZ(6,"mdb-icon",67),d._uU(7,"\xa0Refresh "),d.qZA(),d.qZA(),d.TgZ(8,"div",66),d.TgZ(9,"button",65),d.NdJ("click",function(){return d.CHM(e),d.oxw(2).removeFromDevice()}),d._uU(10,"Remove"),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw(2);d.xp6(2),d.Q6J("disabled",e.disable),d.xp6(3),d.Q6J("disabled",e.disable),d.xp6(4),d.Q6J("disabled",e.disable)}}function Ee(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",8),d.TgZ(1,"div",9),d.TgZ(2,"div",10),d.TgZ(3,"form"),d.TgZ(4,"label",11),d._uU(5,"Gate"),d.qZA(),d.TgZ(6,"div",12),d.TgZ(7,"select",13),d.NdJ("change",function(t){return d.CHM(e),d.oxw().getEmpList(t)}),d.TgZ(8,"option",14),d._uU(9,"--Select Gates--"),d.qZA(),d.YNc(10,fe,2,2,"option",15),d.qZA(),d._UZ(11,"br"),d.YNc(12,Ze,2,0,"h2",16),d.YNc(13,be,2,0,"h2",17),d.qZA(),d.qZA(),d.qZA(),d.YNc(14,Te,13,2,"div",18),d.qZA(),d.YNc(15,Ce,52,27,"div",19),d.YNc(16,Ue,11,3,"div",20),d.qZA()}if(2&e){const e=d.oxw();d.xp6(8),d.Q6J("value","select"),d.xp6(2),d.Q6J("ngForOf",e.gate_list),d.xp6(2),d.Q6J("ngIf","online"==e.status),d.xp6(1),d.Q6J("ngIf","offline"==e.status),d.xp6(1),d.Q6J("ngIf",e.show),d.xp6(1),d.Q6J("ngIf",e.show),d.xp6(1),d.Q6J("ngIf",e.show)}}function Ie(e,t){if(1&e&&(d.TgZ(0,"option",21),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("value",e.Alias),d.xp6(1),d.Oqu(e.Alias)}}function Se(e,t){1&e&&(d.TgZ(0,"h2",22),d._uU(1,"Online"),d.qZA())}function De(e,t){1&e&&(d.TgZ(0,"h2",23),d._uU(1,"Offline"),d.qZA())}function Ne(e,t){1&e&&(d.TgZ(0,"small",88),d._uU(1,"Please select Gate "),d.qZA())}function Le(e,t){1&e&&(d.TgZ(0,"small",88),d._uU(1,"Please select Process "),d.qZA())}function Je(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",89),d.NdJ("click",function(){return d.CHM(e),d.oxw(2).exportExcel()}),d._UZ(1,"i",90),d._uU(2,"\xa0Download"),d.qZA()}}function Fe(e,t){if(1&e&&(d.TgZ(0,"tr",98),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.qZA()),2&e){const e=t.$implicit;d.Q6J("id",t.index),d.xp6(2),d.Oqu(e.id),d.xp6(2),d.Oqu(e.Name),d.xp6(2),d.Oqu(e.Status),d.xp6(2),d.Oqu(e.Description)}}function Oe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"table",91),d.TgZ(1,"thead"),d.TgZ(2,"tr"),d.TgZ(3,"th",92),d.TgZ(4,"form",42),d._uU(5,"Id "),d.TgZ(6,"input",93,94),d.NdJ("keyup",function(){d.CHM(e);const t=d.MAs(7);return d.oxw(2).getEmpId(t.value)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"th",92),d.TgZ(9,"form",42),d._uU(10," Name "),d.TgZ(11,"input",95,96),d.NdJ("keyup",function(){d.CHM(e);const t=d.MAs(12);return d.oxw(2).getEmpName(t.value)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(13,"th",92),d._uU(14,"Status"),d.qZA(),d.TgZ(15,"th",92),d._uU(16,"Description"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(17,"tbody"),d.YNc(18,Fe,9,5,"tr",97),d.qZA(),d.qZA()}if(2&e){const e=d.oxw(2);d.xp6(18),d.Q6J("ngForOf",e.showlog_list)}}function Ge(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"td",100),d.NdJ("click",function(){d.CHM(e);const t=d.oxw().index,i=d.oxw(3),n=d.MAs(12);return i.compareImage(t),i.openModal(n)}),d._UZ(1,"i",101),d.qZA()}}function Re(e,t){if(1&e&&(d.TgZ(0,"tr",98),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.YNc(11,Ge,2,0,"td",99),d.qZA()),2&e){const e=t.$implicit;d.Q6J("id",t.index),d.xp6(2),d.Oqu(e.id),d.xp6(2),d.Oqu(e.Name),d.xp6(2),d.Oqu(e.Description),d.xp6(2),d.Oqu(e.duplicateid),d.xp6(2),d.Oqu(e.duplicatename),d.xp6(1),d.Q6J("ngIf","244"==e.Status)}}function Ye(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"table",91),d.TgZ(1,"thead"),d.TgZ(2,"tr"),d.TgZ(3,"th",92),d.TgZ(4,"form",42),d._uU(5,"Id "),d.TgZ(6,"input",93,94),d.NdJ("keyup",function(){d.CHM(e);const t=d.MAs(7);return d.oxw(2).getEmpId(t.value)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"th",92),d.TgZ(9,"form",42),d._uU(10," Name "),d.TgZ(11,"input",95,96),d.NdJ("keyup",function(){d.CHM(e);const t=d.MAs(12);return d.oxw(2).getEmpName(t.value)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(13,"th",92),d._uU(14,"Description"),d.qZA(),d.TgZ(15,"th",92),d._uU(16,"Duplicate Id"),d.qZA(),d.TgZ(17,"th",92),d._uU(18,"Name"),d.qZA(),d.TgZ(19,"th",92),d._uU(20,"Compare"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"tbody"),d.YNc(22,Re,12,7,"tr",97),d.qZA(),d.qZA()}if(2&e){const e=d.oxw(2);d.xp6(22),d.Q6J("ngForOf",e.showlog_list)}}function Qe(e,t){1&e&&(d.TgZ(0,"div"),d.TgZ(1,"h3",23),d._uU(2,"Data Not Available"),d.qZA(),d.qZA())}function Be(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",68),d.TgZ(1,"div",69),d.TgZ(2,"div",10),d.TgZ(3,"form"),d.TgZ(4,"div",70),d.TgZ(5,"label",71),d._uU(6,"Gate ID "),d.TgZ(7,"sup",72),d._uU(8,"*"),d.qZA(),d.qZA(),d.TgZ(9,"div",73),d.TgZ(10,"select",74),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().selectedgate=t})("change",function(t){return d.CHM(e),d.oxw().getStatus(null==t?null:t.target.value)}),d.TgZ(11,"option",14),d._uU(12,"--Select Gates--"),d.qZA(),d.YNc(13,Ie,2,2,"option",15),d.qZA(),d._UZ(14,"br"),d.YNc(15,Se,2,0,"h2",16),d.YNc(16,De,2,0,"h2",17),d.YNc(17,Ne,2,0,"small",75),d.qZA(),d.qZA(),d.TgZ(18,"div",69),d.TgZ(19,"div",10),d.TgZ(20,"label",76),d._uU(21,"Error Log for"),d.TgZ(22,"sup",72),d._uU(23,"*"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(24,"div",73),d.TgZ(25,"mat-radio-group",77),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().process=t}),d.TgZ(26,"mat-radio-button",78),d._uU(27,"Addition Process "),d.qZA(),d._uU(28,"\xa0 "),d.TgZ(29,"mat-radio-button",79),d._uU(30,"Removal Process"),d.qZA(),d.qZA(),d.YNc(31,Le,2,0,"small",75),d.qZA(),d.qZA(),d.TgZ(32,"button",80),d.NdJ("click",function(){return d.CHM(e),d.oxw().showLogError()}),d._uU(33,"Show"),d.qZA(),d._uU(34,"\xa0 "),d.TgZ(35,"button",81),d.NdJ("click",function(){return d.CHM(e),d.oxw().resetLog()}),d._uU(36,"Reset"),d.qZA(),d.YNc(37,Je,3,0,"button",82),d.qZA(),d.qZA(),d.TgZ(38,"div",83),d.TgZ(39,"div",84),d.YNc(40,Oe,19,1,"table",85),d.YNc(41,Ye,23,1,"table",85),d.YNc(42,Qe,3,0,"div",86),d.qZA(),d.qZA(),d.qZA(),d.TgZ(43,"label",87),d.TgZ(44,"sup",72),d._uU(45,"*"),d.qZA(),d._uU(46," Mandatory field"),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(10),d.Q6J("ngModel",e.selectedgate),d.xp6(1),d.Q6J("value","select"),d.xp6(2),d.Q6J("ngForOf",e.gatelist),d.xp6(2),d.Q6J("ngIf","online"==e.status),d.xp6(1),d.Q6J("ngIf","offline"==e.status),d.xp6(1),d.Q6J("ngIf",e.loggateerror),d.xp6(8),d.Q6J("ngModel",e.process),d.xp6(1),d.Q6J("value","addition"),d.xp6(3),d.Q6J("value","removal"),d.xp6(2),d.Q6J("ngIf",e.logprocesserror),d.xp6(6),d.Q6J("ngIf",e.showabstable||e.showfacetable),d.xp6(3),d.Q6J("ngIf",e.showabstable),d.xp6(1),d.Q6J("ngIf",e.showfacetable),d.xp6(1),d.Q6J("ngIf",e.nodata)}}function Pe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",102),d.TgZ(1,"h4",103),d._uU(2,"Compare Image"),d.qZA(),d.TgZ(3,"button",104),d.NdJ("click",function(){d.CHM(e);const t=d.oxw();return null==t.modalRef?null:t.modalRef.hide()}),d.TgZ(4,"span",105),d._uU(5,"\xd7"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(6,"div",106),d.TgZ(7,"div",69),d.TgZ(8,"div",107),d.TgZ(9,"div",108),d.TgZ(10,"label",109),d._uU(11),d.qZA(),d.qZA(),d.TgZ(12,"div",108),d._UZ(13,"img",110),d.qZA(),d.qZA(),d.TgZ(14,"div",107),d.TgZ(15,"div",108),d.TgZ(16,"label",109),d._uU(17),d.qZA(),d.qZA(),d.TgZ(18,"div",108),d._UZ(19,"img",110),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(11),d.hij("Employee Id - ",e.selectedId.id,""),d.xp6(2),d.s9C("src","data:image/jpeg;base64,"+e.originalImage,d.LSH),d.xp6(4),d.hij("Employee Id - ",e.selectedId.duplicateid,""),d.xp6(2),d.s9C("src","data:image/jpeg;base64,"+e.duplicateImage,d.LSH)}}let He=(()=>{class e{constructor(e,t,i,n,o){this.modalService=e,this.administration=t,this.toast=i,this.common=n,this.datepipe=o,this.gendertype="A",this.actiontype="master",this.selectedEmployees=[],this.emp_list=[],this.gatelist=[],this.gate_list=[],this.emplength=0,this.disable=!0,this.selectedgate="select",this.showlog_list=[],this.empid="",this.empname="",this.statusColor={addp:"rgb(170, 134, 230)",pid:"rgb(211, 212, 214)",nemp:"rgb(244, 217, 100)",remp:"rgb(254, 179, 0)",ntad:"rgb(168, 113, 181)",rpid:"rgb(125, 204, 218)"},this.pid=!1,this.nemp=!1,this.remp=!1,this.addp=!1,this.ntad=!1,this.rpid=!1,this.temp=[],this.log_list=[],this.showabstable=!1,this.showfacetable=!1,this.nodata=!1,this.selectedId=[{id:"",duplicateid:""}],this.dialogVisible=!1,this.status="",this.show=!1,this.spinner=c.aS,this.presentcnt=0,this.addpendingcnt=0,this.removependingcnt=0,this.newempcnt=0,this.notaddedcnt=0,this.satusdetector=[],this.lastselectedid=-1,this.warning="",this.gateerror=!1}ngOnInit(){var e=this;return(0,l.Z)(function*(){e.pageselection="controlcenter",document.getElementById(e.pageselection).style.fontWeight="bold",e.show=!1;let t=yield e.administration.getGateMasterList().toPromise();if(t=t.data,null!=t)if(0!=t.length)for(let i=0;i<t.length;i++)t[i].Alias.toLowerCase().includes("deleted")||"104"==t[i].GateId||"105"==t[i].GateId||e.gate_list.push(t[i]);else e.gate_list=[];else e.gate_list=[];e.getDeviceList()})()}getCount(){this.presentcnt=0,this.addpendingcnt=0,this.removependingcnt=0,this.notaddedcnt=0,this.newempcnt=0,this.resignpresentcnt=0;for(let e=0;e<this.emp_list.length;e++)"pid"==this.emp_list[e].Status?this.presentcnt++:"addp"==this.emp_list[e].Status?this.addpendingcnt++:"remp"==this.emp_list[e].Status?this.removependingcnt++:"nemp"==this.emp_list[e].Status?this.newempcnt++:"ntad"==this.emp_list[e].Status&&this.notaddedcnt++,"pid"==this.emp_list[e].Status&&null!=this.emp_list[e].Resign?(this.resignpresentcnt++,this.presentcnt--,this.emp_list[e].Status="rpid"):"rpid"==this.emp_list[e].Status&&this.resignpresentcnt++}onRowSelect(e){if(null==e.data.EmpId)for(let t=0;t<e.data.length;t++)document.getElementById(e.data[t].EmpId).style.opacity=.6;else document.getElementById(e.data.EmpId).style.opacity=.6}onRowUnSelect(e){if(null==e.data.EmpId)for(let t=0;t<e.data.length;t++)document.getElementById(e.data[t].EmpId).style.opacity=1;else document.getElementById(e.data.EmpId).style.opacity=1}deselectId(e){document.getElementById(e).style.opacity=1,this.selectedEmployees=this.selectedEmployees.filter(t=>t.EmpId!=e)}openModal(e){this.modalRef=this.modalService.show(e)}getEmpList(e){var t=this;return(0,l.Z)(function*(){if("select"!=e.target.value){t.show=!0,t.deselectAll();var i=document.getElementById("searchbox");i&&(i.value=""),t.pid=!1,t.nemp=!1,t.remp=!1,t.addp=!1,t.ntad=!1,t.gendertype="A",t.selectedEmployees=[],t.selectedGate=e.target.value,t.getStatus(t.selectedGate),t.employee=yield t.administration.getEmpList(t.selectedGate).toPromise(),1==t.employee.errorcode&&null!=t.employee.data?(t.totalcount=Number(t.employee.errormessage),t.emplength=t.employee.data.length,t.warning="",t.emp_list=t.employee.data,t.disable=!1,t.getCount()):(t.emp_list=[],t.totalcount=0,t.warning="Data Not Available",t.disable=!0)}else t.show=!1})()}getStatusChange(e,t){var i;if(this.deselectAll(),document.getElementById("searchbox").value="",e.checked?this.temp.push(t):this.temp=this.temp.filter(e=>e!=t),i="M"==this.gendertype?"F":"F"==this.gendertype?"M":"A",0==this.temp.length)return this.emp_list=[],void this.emp_list.push(...this.employee.data.filter(e=>e.Gender!=i));this.emp_list=[];for(let n=0;n<this.temp.length;n++)this.emp_list.push(...this.employee.data.filter(e=>e.Status==this.temp[n]&&e.Gender!=i))}genderchange(){var e=this;return(0,l.Z)(function*(){e.deselectAll(),e.temp=[],document.getElementById("searchbox").value="",e.pid=!1,e.nemp=!1,e.remp=!1,e.addp=!1,e.ntad=!1,"A"!=e.gendertype?(e.emp_list=e.employee.data.filter(t=>t.Gender==e.gendertype),e.getCount(),e.totalcount=e.emp_list.length-e.resignpresentcnt):(e.emp_list=e.employee.data,e.getCount(),e.totalcount=e.employee.errormessage)})()}selectAll1(){if(document.getElementById("selectall").checked){this.selectedEmployees=this.emp_list;for(let t=0;t<this.selectedEmployees.length;t++)(e=document.getElementById(t.toString())).checked||(e.checked=!0)}else{for(let t=0;t<this.selectedEmployees.length;t++){var e;(e=document.getElementById(t.toString())).checked&&(e.checked=!1)}this.selectedEmployees=[]}}showDialog(){this.dialogVisible=!0}gettabledata(e,t){var i=document.getElementById("selectall"),n=document.getElementById(t.toString());i.checked&&(i.checked=!1),n.checked?(this.selectedEmployees.push(e),this.lastselectedid=t):this.selectedEmployees=this.selectedEmployees.filter(t=>t.EmpId!=e.EmpId),this.selectedEmployees.length==this.emp_list.length&&(i.checked=!0)}deselectAll(){this.selectedEmployees.map(e=>{document.getElementById(e.EmpId).style.opacity=1}),this.selectedEmployees=[]}searchData(e){var t,i=[];if(this.deselectAll(),t="M"==this.gendertype?"F":"F"==this.gendertype?"M":"A",""!=e){for(let n=0;n<this.employee.data.length;n++)if((this.employee.data[n].EmpId.includes(e)||this.employee.data[n].AlfaNumeric.includes(e)||this.employee.data[n].EmpName.toLowerCase().includes(e.toLowerCase()))&&this.employee.data[n].Gender!=t)if(0!=this.temp.length&&5!=this.temp.length)for(let e=0;e<this.temp.length;e++)this.employee.data[n].Status==this.temp[e]&&i.push(this.employee.data[n]);else i.push(this.employee.data[n]);this.emp_list=i}else if(this.emp_list=[],0==this.temp.length||5==this.temp.length)this.emp_list.push(...this.employee.data.filter(e=>e.Gender!=t));else for(let n=0;n<this.temp.length;n++)this.emp_list.push(...this.employee.data.filter(e=>e.Status==this.temp[n]&&e.Gender!=t))}multipleSelect(e,t){if(e.shiftKey)if(Number(t)>=Number(this.lastselectedid))for(let n=Number(this.lastselectedid)+1;n<t;n++)null!=(i=document.getElementById(n.toString()))&&(i.checked=!0,this.selectedEmployees.push(...this.emp_list.filter((e,t)=>{if(t==n)return e})));else for(let n=Number(this.lastselectedid)-1;n>t;n--){var i;null!=(i=document.getElementById(n.toString()))&&(i.checked=!0,this.selectedEmployees.push(...this.emp_list.filter((e,t)=>{if(t==n)return e})))}}addInDevice(){var e=this;return(0,l.Z)(function*(){var t=0;for(let n=0;n<e.selectedEmployees.length;n++)if("remp"==e.selectedEmployees[n].Status){t=1;break}if(1!=t){var i={CID:e.common.getCid(),AliasName:e.selectedGate,employee:e.selectedEmployees};yield e.administration.addInDevice(i).toPromise(),e.common.insertLog("Administration/ControlCenter/AddToDevice-"+JSON.stringify(i)),e.refreshList()}else e.toast.error("Invalid Selection Of Employees")})()}removeFromDevice(){var e=this;return(0,l.Z)(function*(){var t=0;for(let n=0;n<e.selectedEmployees.length;n++)if("pid"!=e.selectedEmployees[n].Status&&"remp"!=e.selectedEmployees[n].Status&&"rpid"!=e.selectedEmployees[n].Status){t=1;break}if(1!=t){var i={CID:e.common.getCid(),AliasName:e.selectedGate,employee:e.selectedEmployees};yield e.administration.removeFromDevice(i).toPromise(),e.common.insertLog("Administration/ControlCenter/RemoveFromDevice-"+JSON.stringify(i)),e.refreshList(),e.checkboxFlag=!1}else e.toast.error("Invalid Selection Of Employees")})()}refreshList(){var e=this;return(0,l.Z)(function*(){e.deselectAll();var t,i=document.getElementById("searchbox");if(i&&(i.value=""),e.deselectAll(),e.employee=yield e.administration.getEmpList(e.selectedGate).toPromise(),"success"==e.employee.errorstring&&null!=e.employee.data){if(e.warning="",e.emp_list=e.employee.data,e.disable=!1,e.getCount(),t="M"==e.gendertype?"F":"F"==e.gendertype?"M":"A",0==e.temp.length&&"A"==t)return void(e.emp_list=e.employee.data);if(0==e.temp.length)return e.emp_list=[],void e.emp_list.push(...e.employee.data.filter(e=>e.Gender!=t));e.emp_list=[];for(let i=0;i<e.temp.length;i++)e.emp_list.push(...e.employee.data.filter(n=>n.Status==e.temp[i]&&n.Gender!=t))}else e.warning="Data Not Available",e.disable=!0})()}makeBold(){this.status="",this.show=!1;var e=document.getElementById(this.pageselection),t=["controlcenter","logerror"];for(let i=0;i<t.length;i++)t[i]!=this.pageselection&&(document.getElementById(t[i]).style.fontWeight="");e.style.fontWeight="bold"}selectAll(){this.checkboxFlag?(this.selectedEmployees=this.emp_list,this.selectedEmployees.map(e=>{document.getElementById(e.EmpId).style.opacity=.6})):(this.selectedEmployees.map(e=>{document.getElementById(e.EmpId).style.opacity=1}),this.selectedEmployees=[])}getDeviceList(){var e=this;return(0,l.Z)(function*(){e.gatelist=yield e.administration.getDeviceStatus().toPromise(),null!=e.gatelist.data&&(e.gatelist=e.gatelist.data,e.gatelist=e.gatelist.filter(e=>"104"!=e.GateId))})()}getStatus(e){var t=this;"select"!=e?this.gatelist.filter(function(){var i=(0,l.Z)(function*(i){i.Alias==e&&(t.status=i.Status)});return function(e){return i.apply(this,arguments)}}()):this.status=""}showLogError(){var e=this;if(this.loggateerror="select"==this.selectedgate||null==this.selectedgate,this.logprocesserror=""==this.process||null==this.process||null==this.process,this.logprocesserror||this.loggateerror)return;let t=this.gatelist.filter(e=>e.Alias==this.selectedgate),i={CID:this.common.getCid(),Process:"addition"==this.process?"0":"1",MACAddress:t[0].MACAddress,Device_Function:t[0].Device_Function.trim()};this.administration.getLogError(i).subscribe(function(){var i=(0,l.Z)(function*(i){e.log_list=yield i,1==e.log_list.errorcode?(e.nodata=!1,null==e.log_list.data&&null==e.log_list.data&&0==e.log_list.data.length||("5"==t[0].Device_Function.trim()?(e.log_list=e.log_list.data,e.showlog_list=e.log_list,e.showabstable=!1,e.showfacetable=!0):(e.log_list=e.log_list.data,e.showlog_list=e.log_list,e.showabstable=!0,e.showfacetable=!1))):(e.log_list=[],e.showlog_list=[],e.nodata=!0)});return function(e){return i.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Get Log Error"};this.common.saveLog(t,"ApiException")})}compareImage(e){var t=this;this.selectedId=this.log_list[e],this.administration.getDuplicatImages(this.log_list[e]).subscribe(function(){var i=(0,l.Z)(function*(i){let n=yield i;1==n.errorcode&&(n=n.data,t.originalImage=n[0][t.log_list[e].id],t.duplicateImage=n[1][t.log_list[e].duplicateid])});return function(e){return i.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Get Duplicate Images"};this.common.saveLog(t,"ApiException")})}getEmpId(e){this.empid=""==e?"":e,this.searchLogData()}getEmpName(e){this.empname=""==e?"":e.toLowerCase(),this.searchLogData()}searchLogData(){if(""!=this.empid||""!=this.empname||"IN/OUT"!=this.status){var e=[];for(let t=0;t<this.log_list.length;t++)this.log_list[t].id.includes(this.empid)&&this.log_list[t].Name.toLowerCase().includes(this.empname)&&e.push(this.log_list[t]);this.showlog_list=e}else this.showlog_list=this.log_list}resetLog(){this.showabstable=!1,this.showfacetable=!1,this.log_list=[]}exportExcel(){let e=[];if(this.showabstable){for(let u=0;u<this.log_list.length;u++)e.push([Number(this.log_list[u].id),this.log_list[u].Name,Number(this.log_list[u].Status),this.log_list[u].Description]);const t="Log Error Report",i=this.common.getLocalStorage().ClientName,n=["ID","NAME","STATUS","DESCRIPTION"],o=e,s=this.datepipe.transform(new Date,"dd/MM/yyyy");let a=new f.Workbook,r=a.addWorksheet("Log Error"),l=r.addRow([t]);r.addRow([i]),l.font={name:"Comic Sans MS",family:4,size:16,underline:"double",bold:!0},r.addRow([]),r.addRow(["Date : "+this.datepipe.transform(new Date,"dd MMM yyyy")]),r.addRow([]);let c=r.addRow(n);c.font={size:12,bold:!0},c.eachCell((e,t)=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFF00"},bgColor:{argb:"FF0000FF"}},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),o.forEach(e=>{let t=r.addRow(e);t.alignment={vertical:"middle",horizontal:"center"},t.eachCell(e=>{e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),r.getColumn(1).width=15,r.getColumn(2).width=20,r.getColumn(3).width=12,r.getColumn(4).width=30,r.addRow([]);let d=r.addRow(["This is system generated excel sheet."]);d.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFCCFFE5"}},d.getCell(1).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},r.mergeCells(`A${d.number}:D${d.number}`),a.xlsx.writeBuffer().then(e=>{let t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Z.saveAs(t,"LogError-"+s+".xlsx")})}else{for(let u=0;u<this.log_list.length;u++)e.push([Number(this.log_list[u].id),this.log_list[u].Name,Number(this.log_list[u].Status),this.log_list[u].Description,Number(this.log_list[u].duplicateid),this.log_list[u].duplicatename]);const t="Log Error Report",i=this.common.getLocalStorage().ClientName,n=["ID","NAME","STATUS","DESCRIPTION","DUPLICATE ID","DUPLICATE NAME"],o=e,s=this.datepipe.transform(new Date,"dd/MM/yyyy");let a=new f.Workbook,r=a.addWorksheet("Log Error"),l=r.addRow([t]);r.addRow([i]),l.font={name:"Comic Sans MS",family:4,size:16,underline:"double",bold:!0},r.addRow([]),r.addRow(["Date : "+this.datepipe.transform(new Date,"dd MMM yyyy")]),r.addRow([]);let c=r.addRow(n);c.font={size:12,bold:!0},c.eachCell((e,t)=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFF00"},bgColor:{argb:"FF0000FF"}},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),o.forEach(e=>{let t=r.addRow(e);t.alignment={vertical:"middle",horizontal:"center"},t.eachCell(e=>{e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),r.getColumn(1).width=15,r.getColumn(2).width=20,r.getColumn(3).width=12,r.getColumn(4).width=30,r.getColumn(5).width=15,r.getColumn(6).width=20,r.addRow([]);let d=r.addRow(["This is system generated excel sheet."]);d.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFCCFFE5"}},d.getCell(1).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},r.mergeCells(`A${d.number}:F${d.number}`),a.xlsx.writeBuffer().then(e=>{let t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Z.saveAs(t,"LogError-"+s+".xlsx")})}}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(Y),d.Y36(u.E),d.Y36(B._W),d.Y36(h.v),d.Y36(a.uU))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-control-centre"]],viewQuery:function(e,t){if(1&e&&d.Gf(me,7),2&e){let e;d.iGM(e=d.CRH())&&(t.compareModal=e.first)}},decls:13,vars:4,consts:[[1,"container-flex"],[1,"d-flex","justify-content-center"],["aria-labelledby","example-radio-group-label",1,"example-radio-group",3,"ngModel","ngModelChange","change"],["value","controlcenter","id","controlcenter",1,"example-radio-button",3,"checked"],["id","logerror","value","logerror",1,"example-radio-button"],["class","p-3",4,"ngIf","ngIfElse"],["elseBlock",""],["template",""],[1,"p-3"],[1,"row","mt-2"],[1,"col-sm-4"],["for","inputEmail3",1,"col-sm-1","col-form-label",2,"font-weight","bold"],[1,"col-sm-9"],[1,"browser-default","custom-select",2,"background-color","rgb(190, 191, 193)",3,"change"],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],["class","col-sm-4",4,"ngIf"],["class","p-2",4,"ngIf"],["class","row d-flex justify-content-center mt-4",4,"ngIf"],[3,"value"],[1,"text-success"],[1,"text-danger"],[1,"col-sm-10"],["value","M",1,"example-radio-button"],["value","F",1,"example-radio-button"],["value","A","id","A",1,"example-radio-button",3,"checked"],[1,"p-2"],[1,"row","mt-3","p-4","d-flex","justify-content-center"],[1,"mt-2",3,"ngModel","ngModelChange","change"],[2,"background-color","rgb(211, 212, 214)","padding","7px","border-radius","5px"],[3,"pill","primary"],[2,"background-color","rgb(244, 217, 100)","padding","7px","border-radius","5px"],[2,"background-color","rgb(254, 179, 0)","padding","7px","border-radius","5px"],[3,"pill","info"],[2,"background-color","rgb(170, 134, 230)","padding","7px","border-radius","5px"],[2,"background-color","rgb(168, 113, 181)","padding","7px","border-radius","5px"],[2,"background-color","rgb(125, 204, 218)","padding","7px","border-radius","5px"],[1,"row","d-flex","justify-content-between"],[1,"form-control",2,"background-color","#d2d3d5","text-align","center"],[2,"font-weight","bolder"],["autocomplete","off",2,"margin-bottom","-2px"],["type","text","id","searchbox","value","","name","fakeusernameremembered","placeholder","Search Here",1,"form-control",2,"background-color","rgb(216, 217, 218)",3,"keyup"],["searchbox",""],[1,"text-primary",2,"font-weight","500"],["class","table-responsive mx-auto mt-5 ",4,"ngIf"],["class","mt-3 p-3","style","text-align:center;font-weight:700;color:red;font-size:24px;",4,"ngIf"],[1,"table-responsive","mx-auto","mt-5"],["scrollHeight","280px","selectionMode","multiple","styleClass","p-datatable-sm","dataKey","EmpId",3,"value","scrollable","selection","onRowSelect","onRowUnselect","selectionChange"],["pTemplate","header"],["pTemplate","body"],[1,"row","p-3"],[1,"col-sm-3"],["type","checkbox",3,"ngModel","ngModelChange","change"],["type","button","pButton","","label","View Selection",1,"p-button-help","p-button-raised","p-button-rounded","p-button-sm",3,"click"],["header","Selected Employees","appendTo","body",3,"resizable","modal","maximizable","visible","contentStyle","visibleChange"],["responsive","true","scrollHeight","flex","styleClass","p-datatable-sm",3,"value","scrollable"],["pTemplate","footer"],[3,"pSelectableRow","pSelectableRowIndex","id"],["type","button",1,"text-danger",3,"click"],[1,"fas","fa-times"],["type","button","pButton","","pRipple","","icon","pi pi-times","label","Dismiss",1,"p-button-text",3,"click"],[1,"mt-3","p-3",2,"text-align","center","font-weight","700","color","red","font-size","24px"],[1,"row","d-flex","justify-content-center","mt-4"],["appHeading","","type","button","size","md","mdbWavesEffect","",1,"btn","text-white","buttonhover",3,"disabled","click"],[1,"ml-1"],["fas","","icon","sync","size","md"],[1,"py-2","container-flex"],[1,"row"],[1,"row","mb-3"],["for","input1",1,"col-sm-4","col-form-label",2,"font-weight","bold"],[2,"color","red"],[1,"col-sm-8"],["name","selectedgate",1,"browser-default","custom-select",2,"background-color","rgb(190, 191, 193)",3,"ngModel","ngModelChange","change"],["class","text-danger","style","color: red;",4,"ngIf"],["for","input2",1,"col-form-label",2,"font-weight","bold"],["name","process",3,"ngModel","ngModelChange"],["id","addition",3,"value"],["id","removal",3,"value"],["appHeading","","mdbBtn","","type","submit","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],["appHeading","","mdbBtn","","type","reset","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],["appHeading","","mdbBtn","","type","button","class","buttonhover","size","md","mdbWavesEffect","",3,"click",4,"ngIf"],[1,"col-sm-8",2,"border-left","1px solid black"],[1,"table-responsive","scrollbig"],["class","table table-hover table-sm",4,"ngIf"],[4,"ngIf"],[1,"col-sm-2","col-form-label"],[1,"text-danger",2,"color","red"],["appHeading","","mdbBtn","","type","button","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],[1,"fas","fa-download",2,"font-size","20px"],[1,"table","table-hover","table-sm"],["appTableHeader","",1,"sticky-top","text-white"],["type","number","placeholder","Search Id",1,"form-control",3,"keyup"],["empid",""],["type","text","name","employeename","placeholder","Search Name","aria-label","Search Name",1,"form-control",3,"keyup"],["empname",""],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[3,"click",4,"ngIf"],[3,"click"],[1,"fas","fa-images",2,"color","skyblue","font-size","20px"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"col-sm-6"],[1,"row",2,"margin-left","10px"],["for","newpassword"],["width","250px","height","250px",2,"vertical-align","middle",3,"src"]],template:function(e,t){if(1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"mat-radio-group",2),d.NdJ("ngModelChange",function(e){return t.pageselection=e})("change",function(){return t.makeBold()}),d.TgZ(3,"mat-radio-button",3),d._uU(4,"Control Center "),d.qZA(),d._uU(5,"\xa0 "),d.TgZ(6,"mat-radio-button",4),d._uU(7,"Log Error"),d.qZA(),d.qZA(),d.qZA(),d.YNc(8,Ee,17,7,"div",5),d.YNc(9,Be,47,14,"ng-template",null,6,d.W1O),d.YNc(11,Pe,20,4,"ng-template",null,7,d.W1O),d.qZA()),2&e){const e=d.MAs(10);d.xp6(2),d.Q6J("ngModel",t.pageselection),d.xp6(1),d.Q6J("checked",!0),d.xp6(5),d.Q6J("ngIf","controlcenter"==t.pageselection)("ngIfElse",e)}},directives:[P.VQ,g.JJ,g.On,P.U0,a.O5,g._Y,g.JL,g.F,g.YN,g.Kr,a.sg,le,ue.iA,o.jx,g.Wl,he.Hq,pe.V,ue.Ei,p.d,m.Ui,m.XI,g.EJ,m.mT,ge.v],styles:[""]}),e})();function ze(e,t){if(1&e&&(d.TgZ(0,"tr",10),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.qZA(),d.TgZ(13,"td"),d._uU(14),d.qZA(),d.TgZ(15,"td"),d._uU(16),d.qZA(),d.qZA()),2&e){const e=t.$implicit,i=t.index;d.xp6(1),d.Tol(e.colorClass+" p-2"),d.xp6(1),d.Oqu(i+1),d.xp6(1),d.Tol(e.colorClass),d.xp6(1),d.Oqu(e.MACAddress),d.xp6(1),d.Tol(e.colorClass),d.xp6(1),d.Oqu(e.GateId),d.xp6(1),d.Tol(e.colorClass),d.xp6(1),d.Oqu(e.Alias),d.xp6(1),d.Tol(e.colorClass),d.xp6(1),d.Oqu(e.TotalRecord),d.xp6(1),d.Tol(e.colorClass),d.xp6(1),d.Oqu(e.TodayRecord),d.xp6(1),d.Tol(e.colorClass),d.xp6(1),d.Oqu(e.Status),d.xp6(1),d.Tol(e.colorClass),d.xp6(1),d.Oqu(e.LastPunchDate)}}let je=(()=>{class e{constructor(e,t){this.device=e,this.common=t,this.spinner=c.aS,this.notFound=!1,this.colorClass="text-success"}ngOnInit(){this.getDeviceStatus()}getDeviceStatus(){this.device.getDeviceStatus().subscribe(e=>{if(1==e.errorcode){this.deviceList=e.data,this.deviceList_1=this.deviceList;for(let e of this.deviceList){let t=!1;"5"==e.Device_Function&&(t=!0);let i=null==e.DT?2:e.DT;e.colorClass=1==i?"status1":0!=i||t?t?"status2":"status3":"status4"}}else 2==e.errorcode&&(this.notFound=!0)},e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Device Status"};this.common.saveLog(t,"ApiException")})}statusSelection(e){this.deviceList="ON"==e.target.value?this.deviceList_1.filter(e=>"online"==e.Status):"OFF"==e.target.value?this.deviceList_1.filter(e=>"offline"==e.Status):this.deviceList_1}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(u.E),d.Y36(h.v))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-device-status"]],decls:30,vars:4,consts:[[1,"container-flex","mt-5"],[1,"table-responsive","mt-2","col-lg-12",2,"overflow-y","visible","height","500px"],[1,"table","table-sm","table-bordered","table-hover"],["type","button",1,"p-2","hovericon",2,"border-radius","20px",3,"click"],["fas","","icon","sync","size","lg",2,"color","yellow"],[1,"p-2"],[1,"form-control",3,"change"],[3,"value"],["selected","",3,"value"],["style","font-weight: bold;text-align: center;",4,"ngFor","ngForOf"],[2,"font-weight","bold","text-align","center"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"table",2),d.TgZ(3,"thead"),d.TgZ(4,"tr"),d.TgZ(5,"th",3),d.NdJ("click",function(){return t.getDeviceStatus()}),d._UZ(6,"mdb-icon",4),d.qZA(),d.TgZ(7,"th"),d._uU(8,"MAC-Address"),d.qZA(),d.TgZ(9,"th"),d._uU(10,"Gate-Id"),d.qZA(),d.TgZ(11,"th"),d._uU(12,"Alias"),d.qZA(),d.TgZ(13,"th"),d._uU(14,"No. of records till today"),d.qZA(),d.TgZ(15,"th"),d._uU(16,"No. of records today"),d.qZA(),d.TgZ(17,"th",5),d._uU(18,"Status "),d.TgZ(19,"select",6),d.NdJ("change",function(e){return t.statusSelection(e)}),d.TgZ(20,"option",7),d._uU(21,"ONLINE"),d.qZA(),d.TgZ(22,"option",7),d._uU(23,"OFFLINE"),d.qZA(),d.TgZ(24,"option",8),d._uU(25,"ALL"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(26,"th"),d._uU(27,"Last Punch Time"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(28,"tbody"),d.YNc(29,ze,17,24,"tr",9),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(20),d.Q6J("value","ON"),d.xp6(2),d.Q6J("value","OFF"),d.xp6(2),d.Q6J("value","ALL"),d.xp6(5),d.Q6J("ngForOf",t.deviceList))},directives:[m.Ui,m.XI,g.YN,g.Kr,a.sg],styles:[".hovericon[_ngcontent-%COMP%]{background-color:#000}.hovericon[_ngcontent-%COMP%]:hover{background-color:#a9a9a9}.status4[_ngcontent-%COMP%]{background-color:#d9534f66}.status3[_ngcontent-%COMP%]{background-color:#f0ad4e66}.status2[_ngcontent-%COMP%]{background-color:#0275d866}.status1[_ngcontent-%COMP%]{background-color:#5cb85c66}"]}),e})();function We(e,t){1&e&&(d.TgZ(0,"small",22),d.TgZ(1,"sup"),d._uU(2,"* "),d.qZA(),d._uU(3,"Date cannot be blank"),d.qZA())}function Ve(e,t){if(1&e&&(d.TgZ(0,"option",14),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("value",e.GateId),d.xp6(1),d.AsE("",e.GateId," - ",e.Alias,"")}}function $e(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"select",35),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2)._status=t})("change",function(t){return d.CHM(e),d.oxw(2).statusSelection(t)}),d.TgZ(1,"option",14),d._uU(2,"IN"),d.qZA(),d.TgZ(3,"option",14),d._uU(4,"OUT"),d.qZA(),d.TgZ(5,"option",36),d._uU(6,"IN/OUT"),d.qZA(),d.qZA()}if(2&e){const e=d.oxw(2);d.Q6J("ngModel",e._status),d.xp6(1),d.Q6J("value","in"),d.xp6(2),d.Q6J("value","out"),d.xp6(2),d.Q6J("value","inout")}}function Ke(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.qZA(),d.qZA()),2&e){const e=t.$implicit;d.xp6(2),d.Oqu(e.ID),d.xp6(2),d.Oqu(e.Name),d.xp6(2),d.Oqu(e.RealDate),d.xp6(2),d.Oqu(e.GateId),d.xp6(2),d.Oqu(e.RealTime),d.xp6(2),d.Oqu(e.InOutStatus)}}function Xe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",23),d.TgZ(1,"table",24),d.TgZ(2,"thead"),d.TgZ(3,"tr"),d.TgZ(4,"th",25),d._uU(5,"Emp. ID "),d.TgZ(6,"form",26),d.TgZ(7,"input",27,28),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw()._empid=t})("keyup",function(){d.CHM(e);const t=d.MAs(8);return d.oxw().getEmpId(t.value)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(9,"th",25),d.TgZ(10,"form",26),d._uU(11,"Name "),d.TgZ(12,"input",29,30),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw()._empname=t})("keyup",function(){d.CHM(e);const t=d.MAs(13);return d.oxw().getEmpName(t.value)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(14,"th",25),d._uU(15,"DATE"),d.qZA(),d.TgZ(16,"th",25),d._uU(17,"Gate-ID"),d.qZA(),d.TgZ(18,"th",25),d._uU(19,"Time "),d.TgZ(20,"span",31),d.NdJ("click",function(){return d.CHM(e),d.oxw().sortList()}),d._UZ(21,"mdb-icon",32),d.qZA(),d.qZA(),d.TgZ(22,"th",25),d._uU(23,"Status "),d.YNc(24,$e,7,4,"select",33),d.qZA(),d.qZA(),d.qZA(),d.TgZ(25,"tbody"),d.YNc(26,Ke,13,6,"tr",34),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(7),d.Q6J("ngModel",e._empid),d.xp6(5),d.Q6J("ngModel",e._empname)("autocomplete",e.autocmpl),d.xp6(12),d.Q6J("ngIf",e.showStatusDropdown),d.xp6(2),d.Q6J("ngForOf",e.showpunchesList)}}function et(e,t){1&e&&(d.TgZ(0,"div",37),d.TgZ(1,"div",38),d.TgZ(2,"h1",22),d._uU(3,"No Data Found"),d.qZA(),d.qZA(),d.qZA())}let tt=(()=>{class e{constructor(e,t,i){this.list=e,this.datepipe=t,this.common=i,this.spinner=c.aS,this.gatelist=[],this.punchesList=[],this.showtable=1,this.empid="",this.empname="",this.export=!0,this.status="in/out",this.showStatusDropdown=!1,this.dateerror=!1,this._status="inout"}ngOnInit(){var e=this;return(0,l.Z)(function*(){e.punchtype="inout",document.getElementById(e.punchtype).style.fontWeight="bold";let t=yield e.list.getGateMasterList().toPromise();if(null!=t.data){if(0!=t.data.length){t=t.data;for(let i=0;i<t.length;i++)t[i].Alias.toLowerCase().includes("deleted")||e.gatelist.push(t[i])}}else e.gatelist=[];e.gateId="All",e.date=e.datepipe.transform(new Date,"yyyy-MM-dd"),e.getDailyPunches(),e.autocmpl=e.makeid(10)})()}makeid(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=i.length,o=0;o<e;o++)t+=i.charAt(Math.floor(Math.random()*n));return t}makeBold(){var e=document.getElementById(this.punchtype),t=["in","out","inout"];for(let i=0;i<t.length;i++)t[i]!=this.punchtype&&(document.getElementById(t[i]).style.fontWeight="");e.style.fontWeight="bold"}dateChanged(){this.showtable=1,this.export=!0}getDailyPunches(){var e=this;if(""!=this.date){this.dateerror=!1;var t=new Date(this.date);t=this.datepipe.transform(t,"dd/MM/yyyy");var i={CIDIn:this.common.getCid(),gateId:this.gateId,date:t,status:this.punchtype,empid:""};this.list.getDailyPunches(i).subscribe(function(){var t=(0,l.Z)(function*(t){e.punchesList=yield t,"No Data Found"==e.punchesList.errormessage?(e.showtable=-1,e.export=!0):(e.punchesList=e.punchesList.data,e.showpunchesList=e.punchesList,e.showtable=0,e._empid="",e._empname="",e._status="inout",e.showStatusDropdown="inout"==e.punchtype,e.export=!1)});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Get Daily Punches"};this.common.saveLog(t,"ApiException")})}else this.dateerror=!0}getEmpId(e){this.empid=""==e?"":e,this.searchData()}getEmpName(e){this.empname=""==e?"":e.toLowerCase(),this.searchData()}statusSelection(e){this.status=e.target.value,this.searchData()}sortList(){this.showpunchesList=this.showpunchesList.reverse()}searchData(){let e;if(""==this.empid&&""==this.empname&&"inout"==this.status)return this.showpunchesList=this.punchesList,void(this.export=!(this.showpunchesList.length>0));e="in"==this.status?"OUT":"out"==this.status?"IN":"inout";var t=[];for(let i=0;i<this.punchesList.length;i++)this.punchesList[i].ID.includes(this.empid)&&this.punchesList[i].Name.toLowerCase().includes(this.empname)&&this.punchesList[i].InOutStatus!=e&&t.push(this.punchesList[i]);this.showpunchesList=t,this.export=!(this.showpunchesList.length>0)}exportExcel(){let e=[];for(let l=0;l<this.showpunchesList.length;l++)e.push([Number(this.showpunchesList[l].ID),this.showpunchesList[l].Name,this.showpunchesList[l].RealDate,this.showpunchesList[l].RealTime,this.showpunchesList[l].InOutStatus,Number(this.showpunchesList[l].GateId)]);const t=this.common.getLocalStorage().ClientName,i=e;this.datepipe.transform(new Date,"dd/MM/yyyy");let n=new f.Workbook,o=n.addWorksheet("Daily Punches"),s=o.addRow(["Daily Transaction Report"]);o.addRow([t]),s.font={name:"Comic Sans MS",family:4,size:16,underline:"double",bold:!0},o.addRow([]),o.addRow(["Date : "+this.datepipe.transform(this.date,"dd MMM yyyy")]),o.addRow([]);let a=o.addRow(["ID","NAME","DATE","TIME","IN/OUT STATUS","GATE-ID"]);a.font={size:12,bold:!0},a.eachCell((e,t)=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFF00"},bgColor:{argb:"FF0000FF"}},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),i.forEach(e=>{let t=o.addRow(e);t.height=30,t.alignment={vertical:"middle",horizontal:"center"},t.eachCell(e=>{e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),o.getColumn(5).width=15,o.getColumn(1).width=15,o.getColumn(2).width=15,o.getColumn(2).alignment={vertical:"middle",horizontal:"center",wrapText:!0},o.getColumn(3).width=15,o.getColumn(4).width=15,o.getColumn(6).width=15,o.getColumn(7).width=15,o.addRow([]);let r=o.addRow(["This is system generated excel sheet."]);r.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFCCFFE5"}},r.getCell(1).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},o.mergeCells(`A${r.number}:F${r.number}`),n.xlsx.writeBuffer().then(e=>{let t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Z.saveAs(t,"DailyTransaction-"+this.date+".xlsx")})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(u.E),d.Y36(a.uU),d.Y36(h.v))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-daily-punches"]],decls:40,vars:10,consts:[[1,"container-flex","mt-5"],[1,"container-flex","row","mt-3","ml-2"],[1,"col-sm-3"],["for","date",1,"form-label"],[2,"color","red"],["type","date","id","date",1,"form-control",3,"ngModel","ngModelChange","change"],["class","text-danger",4,"ngIf"],[1,"col-sm-2"],[1,"form-label"],["aria-labelledby","example-radio-group-label",1,"example-radio-group",3,"ngModel","ngModelChange","change"],["value","in","id","in",1,"example-radio-button",3,"checked"],["id","out","value","out",1,"example-radio-button"],["id","inout","value","inout",1,"example-radio-button"],[1,"browser-default","custom-select",3,"ngModel","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-3","mt-3"],["appHeading","","mdbBtn","","type","submit","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],["appHeading","","mdbBtn","","type","button","size","md","mdbWavesEffect","",1,"btn-sm","buttonhover",3,"disabled","click"],[1,"fas","fa-download",2,"font-size","20px"],["class","table-responsive scrollbig mt-2",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"text-danger"],[1,"table-responsive","scrollbig","mt-2"],[1,"table","table-sm","table-bordered"],["appTableHeader","",1,"sticky-top","text-white"],["autocomplete","off",2,"margin-bottom","-2px"],["type","number","placeholder","Search Id",1,"form-control",3,"ngModel","ngModelChange","keyup"],["empid",""],["type","text","id","empname","placeholder","Search Name","aria-label","search name",1,"form-control",3,"ngModel","autocomplete","ngModelChange","keyup"],["empname",""],[3,"click"],["fas","","icon","sort"],[3,"ngModel","ngModelChange","change",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange","change"],["selected","",3,"value"],[1,"mt-2"],[1,"container-flex","col-sm-12","d-flex","justify-content-center"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"label",3),d._uU(4,"Date"),d.TgZ(5,"sup",4),d._uU(6,"*"),d.qZA(),d.qZA(),d.TgZ(7,"input",5),d.NdJ("ngModelChange",function(e){return t.date=e})("change",function(){return t.dateChanged()}),d.qZA(),d.YNc(8,We,4,0,"small",6),d.qZA(),d.TgZ(9,"div",7),d.TgZ(10,"label",8),d._uU(11,"Select Status"),d.qZA(),d.TgZ(12,"div"),d.TgZ(13,"mat-radio-group",9),d.NdJ("ngModelChange",function(e){return t.punchtype=e})("change",function(){return t.makeBold()}),d.TgZ(14,"mat-radio-button",10),d._uU(15,"In "),d.qZA(),d._uU(16,"\xa0 "),d.TgZ(17,"mat-radio-button",11),d._uU(18,"Out"),d.qZA(),d._uU(19,"\xa0 "),d.TgZ(20,"mat-radio-button",12),d._uU(21,"In/Out"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"div",2),d.TgZ(23,"label",3),d._uU(24,"Select Gate"),d.TgZ(25,"sup",4),d._uU(26,"*"),d.qZA(),d.qZA(),d.TgZ(27,"select",13),d.NdJ("ngModelChange",function(e){return t.gateId=e}),d.TgZ(28,"option",14),d._uU(29,"All Gates"),d.qZA(),d.YNc(30,Ve,2,3,"option",15),d.qZA(),d.qZA(),d.TgZ(31,"div",16),d.TgZ(32,"button",17),d.NdJ("click",function(){return t.getDailyPunches()}),d._uU(33,"Show"),d.qZA(),d._uU(34,"\xa0 "),d.TgZ(35,"button",18),d.NdJ("click",function(){return t.exportExcel()}),d._UZ(36,"i",19),d._uU(37," Download"),d.qZA(),d.qZA(),d.qZA(),d.YNc(38,Xe,27,5,"div",20),d.YNc(39,et,4,0,"div",21),d.qZA()),2&e&&(d.xp6(7),d.Q6J("ngModel",t.date),d.xp6(1),d.Q6J("ngIf",t.dateerror),d.xp6(5),d.Q6J("ngModel",t.punchtype),d.xp6(1),d.Q6J("checked",!0),d.xp6(13),d.Q6J("ngModel",t.gateId),d.xp6(1),d.Q6J("value","All"),d.xp6(2),d.Q6J("ngForOf",t.gatelist),d.xp6(5),d.Q6J("disabled",t.export),d.xp6(3),d.Q6J("ngIf",0==t.showtable),d.xp6(1),d.Q6J("ngIf",-1==t.showtable))},directives:[g.Fj,g.JJ,g.On,a.O5,P.VQ,P.U0,g.EJ,g.YN,g.Kr,a.sg,p.d,m.mT,ge.v,g._Y,g.JL,g.F,g.wV,m.Ui,m.XI],styles:[""]}),e})();var it=i(50236),nt=i(39313),ot=i(88807),st=i(99713),at=i(10250);function rt(e,t){if(1&e&&d._UZ(0,"i",8),2&e){const e=d.oxw(2);d.Tol(e.confirmation.icon),d.Q6J("ngClass","p-confirm-popup-icon")}}function lt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",9),d.NdJ("click",function(){return d.CHM(e),d.oxw(2).reject()}),d.qZA()}if(2&e){const e=d.oxw(2);d.Tol(e.confirmation.rejectButtonStyleClass||"p-button-text"),d.Q6J("icon",e.confirmation.rejectIcon)("label",e.rejectButtonLabel)("ngClass","p-confirm-popup-reject p-button-sm"),d.uIk("aria-label",e.rejectButtonLabel)}}function ct(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",9),d.NdJ("click",function(){return d.CHM(e),d.oxw(2).accept()}),d.qZA()}if(2&e){const e=d.oxw(2);d.Tol(e.confirmation.acceptButtonStyleClass),d.Q6J("icon",e.confirmation.acceptIcon)("label",e.acceptButtonLabel)("ngClass","p-confirm-popup-accept p-button-sm"),d.uIk("aria-label",e.acceptButtonLabel)}}const dt=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},ut=function(e){return{value:"open",params:e}};function ht(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",1),d.NdJ("click",function(t){return d.CHM(e),d.oxw().onOverlayClick(t)})("@animation.start",function(t){return d.CHM(e),d.oxw().onAnimationStart(t)})("@animation.done",function(t){return d.CHM(e),d.oxw().onAnimationEnd(t)}),d.TgZ(1,"div",2,3),d.YNc(3,rt,1,3,"i",4),d.TgZ(4,"span",5),d._uU(5),d.qZA(),d.qZA(),d.TgZ(6,"div",6),d.YNc(7,lt,1,6,"button",7),d.YNc(8,ct,1,6,"button",7),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.Tol(e.styleClass),d.Q6J("ngClass","p-confirm-popup p-component")("ngStyle",e.style)("@animation",d.VKq(12,ut,d.WLB(9,dt,e.showTransitionOptions,e.hideTransitionOptions))),d.xp6(3),d.Q6J("ngIf",e.confirmation.icon),d.xp6(2),d.Oqu(e.confirmation.message),d.xp6(2),d.Q6J("ngIf",!1!==e.confirmation.rejectVisible),d.xp6(1),d.Q6J("ngIf",!1!==e.confirmation.acceptVisible)}}let pt=(()=>{class e{constructor(e,t,i,n,o,s){this.el=e,this.confirmationService=t,this.renderer=i,this.cd=n,this.config=o,this.overlayService=s,this.defaultFocus="accept",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autoZIndex=!0,this.baseZIndex=0,this.subscription=this.confirmationService.requireConfirmation$.subscribe(e=>{e?e.key===this.key&&(this.confirmation=e,this.confirmation.accept&&(this.confirmation.acceptEvent=new d.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new d.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(e){this._visible=e,this.cd.markForCheck()}onAnimationStart(e){if("open"===e.toState){this.container=e.element,document.body.appendChild(this.container),this.align(),this.bindListeners();const t=this.getElementToFocus();t&&t.focus()}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy()}}getElementToFocus(){switch(this.defaultFocus){case"accept":return at.p.findSingle(this.container,".p-confirm-popup-accept");case"reject":return at.p.findSingle(this.container,".p-confirm-popup-reject");case"none":return null}}align(){this.autoZIndex&&ot.P9.set("overlay",this.container,this.config.zIndex.overlay),at.p.absolutePosition(this.container,this.confirmation.target);const e=at.p.getOffset(this.container),t=at.p.getOffset(this.confirmation.target);let i=0;e.left<t.left&&(i=t.left-e.left),this.container.style.setProperty("--overlayArrowLeft",`${i}px`),e.top<t.top&&at.p.addClass(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}accept(){this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide()}reject(){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}bindListeners(){this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let e=at.p.isIOS()?"touchstart":"click";const t=this.el?this.el.nativeElement.ownerDocument:document;this.documentClickListener=this.renderer.listen(t,e,e=>{let t=this.confirmation.target;this.container===e.target||this.container.contains(e.target)||t===e.target||t.contains(e.target)||this.hide()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new at.V(this.confirmation.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&ot.P9.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&document.body.removeChild(this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation.acceptLabel||this.config.getTranslation(o.ws.ACCEPT)}get rejectButtonLabel(){return this.confirmation.rejectLabel||this.config.getTranslation(o.ws.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq),d.Y36(o.YP),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(o.b4),d.Y36(o.F0))},e.\u0275cmp=d.Xpm({type:e,selectors:[["p-confirmPopup"]],hostAttrs:[1,"p-element"],inputs:{key:"key",defaultFocus:"defaultFocus",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",visible:"visible"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-confirm-popup-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-popup-message"],[1,"p-confirm-popup-footer"],["type","button","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],[3,"ngClass"],["type","button","pButton","",3,"icon","label","ngClass","click"]],template:function(e,t){1&e&&d.YNc(0,ht,9,14,"div",0),2&e&&d.Q6J("ngIf",t.visible)},directives:[a.O5,a.mk,a.PC,he.Hq],styles:['.p-confirm-popup{position:absolute;margin-top:10px;top:0;left:0}.p-confirm-popup-flipped{margin-top:0;margin-bottom:10px}.p-confirm-popup:after,.p-confirm-popup:before{bottom:100%;left:calc(0 + 1.25rem);left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-confirm-popup:after{border-width:8px;margin-left:-8px}.p-confirm-popup:before{border-width:10px;margin-left:-10px}.p-confirm-popup-flipped:after,.p-confirm-popup-flipped:before{bottom:auto;top:100%}.p-confirm-popup.p-confirm-popup-flipped:after,.p-confirm-popup.p-confirm-popup-flipped:before{border-bottom-color:transparent}.p-confirm-popup .p-confirm-popup-content{display:flex;align-items:center}'],encapsulation:2,data:{animation:[(0,st.X$)("animation",[(0,st.SB)("void",(0,st.oB)({transform:"scaleY(0.8)",opacity:0})),(0,st.SB)("open",(0,st.oB)({transform:"translateY(0)",opacity:1})),(0,st.eR)("void => open",(0,st.jt)("{{showTransitionParams}}")),(0,st.eR)("open => void",(0,st.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),e})(),gt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[a.ez,he.hJ]]}),e})();function mt(e,t){if(1&e&&(d.TgZ(0,"div"),d.TgZ(1,"div"),d._uU(2),d.qZA(),d.qZA()),2&e){const e=t.$implicit;d.xp6(2),d.AsE("",e.EmployeeId," - ",e.EmployeeName,"")}}function ft(e,t){1&e&&(d.TgZ(0,"small",32),d._uU(1,"Please select Employee ID "),d.qZA())}function Zt(e,t){1&e&&(d.TgZ(0,"small",32),d._uU(1,"Please select date range "),d.qZA())}function bt(e,t){1&e&&(d.TgZ(0,"small",32),d._uU(1,"Please select Date "),d.qZA())}function Tt(e,t){if(1&e&&(d.TgZ(0,"option",24),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("value",e.GateId),d.xp6(1),d.AsE(" ",e.GateId," - ",e.Alias," ")}}function At(e,t){1&e&&(d.TgZ(0,"small",32),d._uU(1,"Please select Gate "),d.qZA())}function vt(e,t){1&e&&(d.TgZ(0,"small",32),d._uU(1,"Please Enter Valid Time "),d.qZA())}function yt(e,t){1&e&&(d.TgZ(0,"small",32),d._uU(1,"Please Enter Valid Time "),d.qZA())}function xt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"div",3),d.TgZ(2,"label",33),d._uU(3,"In Time "),d.TgZ(4,"sup",5),d._uU(5,"*"),d.qZA(),d.qZA(),d.TgZ(6,"div",6),d.TgZ(7,"input",34),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().intime=t}),d.qZA(),d.YNc(8,vt,2,0,"small",9),d.qZA(),d.qZA(),d.TgZ(9,"div",3),d.TgZ(10,"label",33),d._uU(11,"Out Time "),d.TgZ(12,"sup",5),d._uU(13,"*"),d.qZA(),d.qZA(),d.TgZ(14,"div",6),d.TgZ(15,"input",35),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().outtime=t}),d.qZA(),d.YNc(16,yt,2,0,"small",9),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(7),d.Q6J("ngModel",e.intime),d.xp6(1),d.Q6J("ngIf",e.intimeerror),d.xp6(7),d.Q6J("ngModel",e.outtime),d.xp6(1),d.Q6J("ngIf",e.outtimeerror)}}function _t(e,t){1&e&&(d.TgZ(0,"small",32),d._uU(1,"Please Enter Valid Time "),d.qZA())}function qt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"div",3),d.TgZ(2,"label",33),d._uU(3,"Time "),d.TgZ(4,"sup",5),d._uU(5,"*"),d.qZA(),d.qZA(),d.TgZ(6,"div",6),d.TgZ(7,"input",35),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().time=t}),d.qZA(),d.YNc(8,_t,2,0,"small",9),d.qZA(),d.qZA(),d.TgZ(9,"div",3),d.TgZ(10,"label",36),d._uU(11,"IN/OUT Status"),d.TgZ(12,"sup",5),d._uU(13,"*"),d.qZA(),d.qZA(),d.TgZ(14,"div",6),d.TgZ(15,"select",37),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().status=t}),d.TgZ(16,"option",24),d._uU(17,"IN"),d.qZA(),d.TgZ(18,"option",24),d._uU(19,"OUT"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(7),d.Q6J("ngModel",e.time),d.xp6(1),d.Q6J("ngIf",e.timeerror),d.xp6(7),d.Q6J("ngModel",e.status),d.xp6(1),d.Q6J("value","IN"),d.xp6(2),d.Q6J("value","OUT")}}function wt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",17),d.NdJ("click",function(){return d.CHM(e),d.oxw().savePunch()}),d._uU(1,"Save"),d.qZA()}}function Mt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",38),d.NdJ("click",function(){return d.CHM(e),d.oxw().modifyPunch()}),d._uU(1,"Modify"),d.qZA(),d._uU(2,"\xa0 ")}}function kt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"td",45),d.NdJ("click",function(t){d.CHM(e);const i=d.oxw().$implicit;return d.oxw(2).deletePunch(t,i.Date,i.Time,i.Status)}),d._UZ(1,"mdb-icon",47),d.qZA()}}function Ct(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr",44),d.TgZ(1,"td",45),d.NdJ("click",function(){const t=d.CHM(e),i=t.$implicit,n=t.index;return d.oxw(2).setForm(i.Date,i.Gate,i.Status,i.Time,n)}),d._uU(2),d.qZA(),d.TgZ(3,"td",45),d.NdJ("click",function(){const t=d.CHM(e),i=t.$implicit,n=t.index;return d.oxw(2).setForm(i.Date,i.Gate,i.Status,i.Time,n)}),d._uU(4),d.qZA(),d.TgZ(5,"td",45),d.NdJ("click",function(){const t=d.CHM(e),i=t.$implicit,n=t.index;return d.oxw(2).setForm(i.Date,i.Gate,i.Status,i.Time,n)}),d._uU(6),d.qZA(),d.TgZ(7,"td",45),d.NdJ("click",function(){const t=d.CHM(e),i=t.$implicit,n=t.index;return d.oxw(2).setForm(i.Date,i.Gate,i.Status,i.Time,n)}),d._uU(8),d.qZA(),d.YNc(9,kt,2,0,"td",46),d.qZA()}if(2&e){const e=t.$implicit;d.Q6J("id",t.index),d.xp6(1),d.Udp("color","M"==e.TStatus?"blue":""),d.xp6(1),d.Oqu(e.Date),d.xp6(1),d.Udp("color","M"==e.TStatus?"blue":""),d.xp6(1),d.Oqu(e.Gate),d.xp6(1),d.Udp("color","M"==e.TStatus?"blue":""),d.xp6(1),d.Oqu(e.Status),d.xp6(1),d.Udp("color","M"==e.TStatus?"blue":""),d.xp6(1),d.Oqu(e.Time),d.xp6(1),d.Q6J("ngIf","104"==e.Gate)}}function Ut(e,t){if(1&e&&(d.TgZ(0,"div",39),d.TgZ(1,"div"),d.TgZ(2,"table",40),d.TgZ(3,"thead"),d.TgZ(4,"tr"),d.TgZ(5,"th",41),d._uU(6,"Date"),d.qZA(),d.TgZ(7,"th",41),d._uU(8,"Gate"),d.qZA(),d.TgZ(9,"th",41),d._uU(10,"Status"),d.qZA(),d.TgZ(11,"th",41),d._uU(12,"Time"),d.qZA(),d._UZ(13,"th",42),d.qZA(),d.qZA(),d.TgZ(14,"tbody"),d.YNc(15,Ct,10,14,"tr",43),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){const e=d.oxw();d.xp6(15),d.Q6J("ngForOf",e.transaction_list)}}function Et(e,t){1&e&&(d.TgZ(0,"div"),d._uU(1," Modified transaction shown in blue color. "),d.qZA())}function It(e,t){1&e&&(d.TgZ(0,"div"),d.TgZ(1,"h3",48),d._uU(2,"Data Not Available"),d.qZA(),d.qZA())}let St=(()=>{class e{constructor(e,t,i,n,o){this.common=e,this.datepipe=t,this.administration=i,this.toast=n,this.confirmationService=o,this.save=!0,this.iderror=!1,this.daterangeerror=!1,this.date2error=!1,this.gateerror=!1,this.timeerror=!1,this.intimeerror=!1,this.outtimeerror=!1,this.saveButton=!0,this.modifyButton=!1,this.spinner=c.aS,this.yearrange="2010:",this.employees=[],this.dept_list=[],this.transaction_list=[],this.gate_list=[],this.showeditform=!1,this.gate="-1",this.nodata=!1,this.showtable=!1,this.ranges=[{value:[new Date,new Date],label:"Today"},{value:[new Date((new Date).setDate((new Date).getDate()-7)),new Date],label:"Last 7 Days"},{value:[new Date((new Date).getFullYear(),(new Date).getMonth(),1),new Date((new Date).setDate((new Date).getDate()))],label:"This Month"},{value:[new Date((new Date).getFullYear(),(new Date).getMonth()-1,1),new Date((new Date).getFullYear(),(new Date).getMonth(),0)],label:"Last Month"}],this.filteredEmployees=[]}ngOnInit(){this.daterangeConfig={containerClass:"theme-dark-blue",showPreviousMonth:!0,isAnimated:!0,rangeInputFormat:"DD/MM/YYYY",maxDateRange:31,showClearButton:!0,clearPosition:"right",selectWeekDateRange:!0,ranges:this.ranges},this.status="IN",this.yearrange+=(new Date).getFullYear(),this.maxDateValue=new Date,this.maxDateValue.setMonth((new Date).getMonth()),this.maxDateValue.setFullYear((new Date).getFullYear()),this.maxDateValue.setDate((new Date).getDate()),this.getEmpList()}getEmpList(){var e=this;this.common.getEmpList().subscribe(function(){var t=(0,l.Z)(function*(t){e.employees=yield t,e.employees=e.employees.data});return function(e){return t.apply(this,arguments)}}()),this.common.getDepartmentList().subscribe(function(){var t=(0,l.Z)(function*(t){e.dept_list=yield t,e.dept_list=e.dept_list.data});return function(e){return t.apply(this,arguments)}}()),this.administration.getGateMasterList().subscribe(function(){var t=(0,l.Z)(function*(t){let i=yield t;i=i.data;for(let n=0;n<i.length;n++)"2"==i[n].Device_Function||i[n].Alias.toLowerCase().includes("deleted")||e.gate_list.push(i[n])});return function(e){return t.apply(this,arguments)}}())}onCheckDate(){var e=new Date(this.daterange[0]);new Date(this.daterange[1]).getTime(),e.getTime()}showData(){var e=this;if(this.iderror=null==this.empid||""==this.empid,this.daterangeerror=null==this.daterange||null==this.daterange[0]||null==this.daterange[1],this.iderror||this.daterangeerror)return;let t=this.datepipe.transform(this.daterange[0],"dd/MM/yyyy"),i=this.datepipe.transform(this.daterange[1],"dd/MM/yyyy"),n={EmpId:this.empid.EmployeeId,FromDate:t.toString(),ToDate:i.toString()};this.administration.getListTransaction(n).subscribe(function(){var t=(0,l.Z)(function*(t){let i=yield t;1==i.errorcode?(e.transaction_list=[],e.transaction_list=i.data,e.showtable=!0,e.nodata=!1):(e.transaction_list=[],e.nodata=!0,e.showtable=!1)});return function(e){return t.apply(this,arguments)}}())}setAlphanumeric(){this.alphanumeric=this.empid.AlphaNumeric,this.showtable=!1}savePunch(){var e=this;if(this.iderror=null==this.empid||""==this.empid,this.date2error=null==this.date,this.gateerror=null==this.gate||"-1"==this.gate,this.intimeerror=!(null!=this.intime&&!this.intime.includes("--")),this.outtimeerror=!(null!=this.outtime&&!this.outtime.includes("--")),!this.intimeerror&&this.outtimeerror&&(this.outtimeerror=!1,this.outtime="00:00:00"),this.intimeerror&&!this.outtimeerror&&(this.intimeerror=!1,this.intime="00:00:00"),this.iderror||this.gateerror||this.outtimeerror||this.intimeerror||this.date2error)return;let t=this.date.split("-"),i=this.intime.split(":");2==i.length&&(this.intime+=":00");let n=this.outtime.split(":");2==n.length&&(this.outtime+=":00"),null==this.status&&(this.status="IN");let o={Cid:this.common.getCid(),DeletedGate:"",OldGate:"",Olddate:"",OldTime:"",OldINIOStatus:"",mDate:"",LoginId:"etam"+this.common.getCid(),DDL_Emp_Id:this.empid.EmployeeId,EmpName:this.empid.EmployeeName,DDL_Gate:this.gate,txt_Dt:this.datepipe.transform(this.date,"dd/MM/yyyy"),txt_In_Time:this.intime,txt_Out_Time:this.outtime,InmDT:this.millisToMinutesAndSeconds(new Date(t[0],Number(t[1])-1,t[2],i[0],i[1]).getTime()).toString(),OutMdt:this.millisToMinutesAndSeconds(new Date(t[0],Number(t[1])-1,t[2],n[0],n[1]).getTime()).toString(),DDL_IOStatus:this.status};this.administration.saveTransaction(o).subscribe(function(){var t=(0,l.Z)(function*(t){let i=yield t;1==i.errorcode?(e.toast.success("Success","Punch Inserted Successfully!!!"),e.common.insertLog("Administration/TransactionEdit/SavePunch-"+e.empid.EmployeeId+" - "+o.txt_Dt),e.showData(),e.outtime="--:--:--",e.intime="--:--:--"):(e.toast.error(i.errorstring,"Failed to insert punch!!!"),e.outtime="--:--:--",e.intime="--:--:--")});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Save Transaction"};this.common.saveLog(t,"ApiException")})}resetValue(){this.save=!0,this.saveButton=!0,this.modifyButton=!1,this.daterangeerror=!1,this.iderror=!1,this.date2error=!1,this.gateerror=!1,this.timeerror=!1,this.status="IN",null!=this.selected&&(this.selected.style.backgroundColor="",this.selected.style.fontWeight="normal")}modifyPunch(){var e=this;if(this.date2error=null==this.date,this.gateerror=null==this.gate,this.timeerror=null==this.time,this.gateerror||this.timeerror||this.date2error)return;let t=this.transaction_list[this.id],i=this.gate_list.filter(e=>e.GateId==this.gate);i=0==i.length?t.Gate:"";let n=this.date.split("-"),o=this.time.split(":");2==o.length&&(this.time+=":00");let s={Cid:this.common.getCid(),DeletedGate:i,OldGate:t.Gate,Olddate:t.Date,OldTime:t.Time,OldINIOStatus:t.Status,mDate:t.mDate,LoginId:"etam"+this.common.getCid(),DDL_Emp_Id:this.empid.EmployeeId,EmpName:this.empid.EmployeeName,DDL_Gate:this.gate,txt_Dt:this.datepipe.transform(this.date,"dd/MM/yyyy"),txt_In_Time:"IN"==this.status?this.time:"00:00:00",txt_Out_Time:"OUT"==this.status?this.time:"00:00:00",InmDT:"IN"==this.status?this.millisToMinutesAndSeconds(new Date(n[0],Number(n[1])-1,n[2],o[0],o[1]).getTime()).toString():"0",OutMdt:"OUT"==this.status?this.millisToMinutesAndSeconds(new Date(n[0],Number(n[1])-1,n[2],o[0],o[1]).getTime()).toString():"0",DDL_IOStatus:this.status};this.administration.modifyTransaction(s).subscribe(function(){var t=(0,l.Z)(function*(t){let i=yield t;1==i.errorcode?(e.toast.success("Success","Punch Modified Successfully!!!"),e.common.insertLog("Administration/TransactionEdit/ModifyPunch-"+e.empid.EmployeeId+" - "+s.Olddate),e.showData()):e.toast.error(i.errorstring,"Failed to modify punch!!!")});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Modify Transaction"};this.common.saveLog(t,"ApiException")})}millisToMinutesAndSeconds(e){return Math.floor(e/1e3)}setForm(e,t,i,n,o){this.save=!1,this.saveButton=!1,this.modifyButton=!0;let s=e.split("/");this.showeditform=!0,this.date=s[2]+"-"+s[1]+"-"+s[0],this.gate=t,this.status=i,this.time=n,this.id=o,null!=this.selected&&(this.selected.style.backgroundColor="",this.selected.style.fontWeight="normal"),this.selected=document.getElementById(o),this.selected.style.backgroundColor="lightgrey",this.selected.style.fontWeight="bold"}deletePunch(e,t,i,n){var o=this;this.confirmationService.confirm({target:e.target,message:"Are you sure that you want to delete?",icon:"pi pi-exclamation-triangle",accept:()=>{let e=this.common.getLocalStorage();this.administration.deleteTransaction({LoginId:e.LoginId,DDL_Emp_Id:this.empid.EmployeeId,status:n,time:i,txt_Dt:t}).subscribe(function(){var e=(0,l.Z)(function*(e){let t=yield e;1==t.errorcode?(o.toast.success("Punch Deleted Successfully!!!","SUCCESS"),o.showData()):-2==t.errorcode?(o.toast.warning(t.errormessage,"SUCCESS"),o.showData()):o.toast.error("Unable to delete punch!!!","FAILURE "+t.errorcode)});return function(t){return e.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Delete Transaction"};this.common.saveLog(t,"ApiException")})},reject:()=>{}})}filterEmployees(e){let t=[],i=e.query;for(let n=0;n<this.employees.length;n++){let e=this.employees[n];(e.EmployeeName.toLowerCase().includes(i.toLowerCase())||e.EmployeeId.includes(i))&&t.push(e)}this.filteredEmployees=t}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(h.v),d.Y36(a.uU),d.Y36(u.E),d.Y36(B._W),d.Y36(o.YP))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-transaction-edit"]],decls:73,vars:23,consts:[[1,"py-2","container-flex"],[1,"row"],[1,"col-sm-6",2,"border-right","1px solid"],[1,"row","mb-3"],["for","input2",1,"col-sm-4","col-form-label",2,"font-weight","bold"],[2,"color","red"],[1,"col-sm-8"],["name","employees","field","EmployeeName",3,"ngModel","suggestions","dropdown","ngModelChange","onSelect","completeMethod"],["pTemplate","item"],["class","text-danger","style","color: red",4,"ngIf"],["for","input5",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["mdbInput","","type","text","name","alphanumeric","id","input5","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["for","input3",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["type","text","name","daterange","placeholder","Select Date Range","autocomplete","off","bsDaterangepicker","",1,"p-3","form-control",3,"ngModel","maxDate","bsConfig","ngModelChange"],["class","text-danger","style","color: red;",4,"ngIf"],[1,"row","mb-3","ml-1"],[2,"color","red","font-weight","bold"],["appHeading","","mdbBtn","","type","submit","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],["for","input6",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["mdbInput","","type","date","name","date","id","input6",1,"form-control",3,"ngModel","ngModelChange"],["for","input7",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["name","gate",1,"browser-default","custom-select",3,"ngModel","ngModelChange"],["value","-1","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"],["appHeading","","class","buttonhover","mdbBtn","","type","submit","size","md","mdbWavesEffect","",3,"click",4,"ngIf","ngIfElse"],["elseBlock",""],["appHeading","","mdbBtn","","type","reset","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],[1,"col-sm-6"],["class","table-responsive scrollbig",4,"ngIf"],[1,"col-sm-2","col-form-label"],[1,"text-danger",2,"color","red"],["for","input8",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["mdbInput","","type","time","min","00:00:01","max","23:59:59","name","time","id","input8","step","2",1,"form-control",3,"ngModel","ngModelChange"],["mdbInput","","type","time","name","time","id","input8","step","2",1,"form-control",3,"ngModel","ngModelChange"],["for","input9",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["name","status",1,"form-control",3,"ngModel","ngModelChange"],["appHeading","","mdbBtn","","type","button","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],[1,"table-responsive","scrollbig"],[1,"table","table-hover","table-sm"],["appTableHeader","",1,"sticky-top","text-white"],["appTableHeader","",1,"sticky-top"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[3,"click"],[3,"click",4,"ngIf"],["fas","","icon","trash-alt",2,"color","red"],[1,"text-danger"]],template:function(e,t){if(1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"form"),d.TgZ(4,"div",3),d.TgZ(5,"label",4),d._uU(6,"Employee ID "),d.TgZ(7,"sup",5),d._uU(8,"*"),d.qZA(),d.qZA(),d.TgZ(9,"div",6),d.TgZ(10,"p-autoComplete",7),d.NdJ("ngModelChange",function(e){return t.empid=e})("onSelect",function(){return t.setAlphanumeric()})("completeMethod",function(e){return t.filterEmployees(e)}),d.YNc(11,mt,3,2,"ng-template",8),d.qZA(),d.YNc(12,ft,2,0,"small",9),d.qZA(),d.qZA(),d.TgZ(13,"div",3),d.TgZ(14,"label",10),d._uU(15,"Alphanumeric ID"),d.qZA(),d.TgZ(16,"div",6),d.TgZ(17,"input",11),d.NdJ("ngModelChange",function(e){return t.alphanumeric=e}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(18,"div",3),d.TgZ(19,"label",12),d._uU(20,"Select Date Range"),d.TgZ(21,"sup",5),d._uU(22,"*"),d.qZA(),d.qZA(),d.TgZ(23,"div",6),d.TgZ(24,"input",13),d.NdJ("ngModelChange",function(e){return t.daterange=e}),d.qZA(),d.YNc(25,Zt,2,0,"small",14),d.qZA(),d.qZA(),d.TgZ(26,"div",15),d.TgZ(27,"label",16),d._uU(28,"Note : Punches Data Is Available For 60 Days From Current Date... "),d.qZA(),d.qZA(),d.TgZ(29,"button",17),d.NdJ("click",function(){return t.showData()}),d._uU(30," Show "),d.qZA(),d.qZA(),d.TgZ(31,"div"),d.TgZ(32,"form"),d.TgZ(33,"div",3),d.TgZ(34,"label",18),d._uU(35,"Date "),d.TgZ(36,"sup",5),d._uU(37,"*"),d.qZA(),d.qZA(),d.TgZ(38,"div",6),d.TgZ(39,"input",19),d.NdJ("ngModelChange",function(e){return t.date=e}),d.qZA(),d.YNc(40,bt,2,0,"small",9),d.qZA(),d.qZA(),d.TgZ(41,"div",3),d.TgZ(42,"label",20),d._uU(43,"Gate ID "),d.TgZ(44,"sup",5),d._uU(45,"*"),d.qZA(),d.qZA(),d.TgZ(46,"div",6),d.TgZ(47,"select",21),d.NdJ("ngModelChange",function(e){return t.gate=e}),d.TgZ(48,"option",22),d._uU(49,"--Select Gate--"),d.qZA(),d.YNc(50,Tt,2,3,"option",23),d.TgZ(51,"option",24),d._uU(52,"104 - Smart Muster"),d.qZA(),d.TgZ(53,"option",24),d._uU(54,"105 - Manual Punch Insert"),d.qZA(),d.qZA(),d.YNc(55,At,2,0,"small",9),d.qZA(),d.qZA(),d.YNc(56,xt,17,4,"div",25),d.YNc(57,qt,20,5,"div",25),d.YNc(58,wt,2,0,"button",26),d._uU(59,"\xa0 "),d.YNc(60,Mt,3,0,"ng-template",null,27,d.W1O),d.TgZ(62,"button",28),d.NdJ("click",function(){return t.resetValue()}),d._uU(63," Reset "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(64,"div",29),d.YNc(65,Ut,16,1,"div",30),d.YNc(66,Et,2,0,"div",25),d.YNc(67,It,3,0,"div",25),d.qZA(),d.qZA(),d.TgZ(68,"label",31),d.TgZ(69,"sup",5),d._uU(70,"*"),d.qZA(),d._uU(71," Mandatory field"),d.qZA(),d.qZA(),d._UZ(72,"p-confirmPopup")),2&e){const e=d.MAs(61);d.xp6(10),d.Q6J("ngModel",t.empid)("suggestions",t.filteredEmployees)("dropdown",!0),d.xp6(2),d.Q6J("ngIf",t.iderror),d.xp6(5),d.Q6J("ngModel",t.alphanumeric),d.xp6(7),d.Q6J("ngModel",t.daterange)("maxDate",t.maxDateValue)("bsConfig",t.daterangeConfig),d.xp6(1),d.Q6J("ngIf",t.daterangeerror),d.xp6(14),d.Q6J("ngModel",t.date),d.xp6(1),d.Q6J("ngIf",t.date2error),d.xp6(7),d.Q6J("ngModel",t.gate),d.xp6(3),d.Q6J("ngForOf",t.gate_list),d.xp6(1),d.Q6J("value","104"),d.xp6(2),d.Q6J("value","105"),d.xp6(2),d.Q6J("ngIf",t.gateerror),d.xp6(1),d.Q6J("ngIf",t.saveButton),d.xp6(1),d.Q6J("ngIf",t.modifyButton),d.xp6(1),d.Q6J("ngIf",t.save)("ngIfElse",e),d.xp6(7),d.Q6J("ngIf",t.showtable),d.xp6(1),d.Q6J("ngIf",t.showtable),d.xp6(1),d.Q6J("ngIf",t.nodata)}},directives:[g._Y,g.JL,g.F,it.Qc,g.JJ,g.On,o.jx,a.O5,g.Fj,m.Hq,nt.TB,nt.FR,p.d,m.mT,g.EJ,g.YN,g.Kr,a.sg,pt,ge.v,m.Ui,m.XI],styles:["[_nghost-%COMP%]     .p-autoComplete{width:23vw}@media screen and (max-width:640px){[_nghost-%COMP%]     .p-autoComplete{width:15rem}}"]}),e})();function Dt(e,t){if(1&e&&(d.TgZ(0,"option",116),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("value",e.MACAddress),d.xp6(1),d.AsE(" ",e.GateId," - ",e.Alias," ")}}function Nt(e,t){1&e&&(d.TgZ(0,"h2",117),d._uU(1,"Online"),d.qZA())}function Lt(e,t){1&e&&(d.TgZ(0,"h2",5),d._uU(1,"Offline"),d.qZA())}function Jt(e,t){1&e&&(d.TgZ(0,"div",118),d.TgZ(1,"sup",119),d._uU(2,"*"),d.qZA(),d._uU(3," All fields are mandatory."),d.qZA())}const Ft=function(){return{standalone:!0}};let Ot=(()=>{class e{constructor(e,t,i){this.list=e,this.toast=t,this.common=i,this.error=!1,this.spinner=c.aS,this.gateId="select",this.timezone="select"}ngOnInit(){this.getGateList()}getGateList(){var e=this;return(0,l.Z)(function*(){let t=[];if(e.gatelist=yield e.list.getDeviceStatus().toPromise(),null!=e.gatelist.data){e.gatelist=e.gatelist.data;for(let i=0;i<e.gatelist.length;i++)"online"!==e.gatelist[i].Status.toLowerCase()&&"offline"!==e.gatelist[i].Status.toLowerCase()||t.push(e.gatelist[i]);e.gatelist=t}else e.gatelist.data[0]="No GateId Regeistered"})()}getStatus(){var e=this;"select"!=this.gateId?this.gatelist.filter(function(){var t=(0,l.Z)(function*(t){t.MACAddress==e.gateId&&(e.status=t.Status)});return function(e){return t.apply(this,arguments)}}()):this.status=""}setTime(){var e=this;if("select"==this.gateId||"select"==this.timezone)return void(this.error=!0);this.error=!1;let t={CID:this.common.getCid(),MACAddress:this.gateId,TimeZone:this.timezone.split(" ")[0]};this.list.setDeviceTime(t).subscribe(function(){var t=(0,l.Z)(function*(t){let i=yield t;"success"==i.errorstring||1==i.errorcode?e.toast.success(i.errormessage):e.toast.error("Something went wrong!!")});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Set Device Time"};this.common.saveLog(t,"ApiException")})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(u.E),d.Y36(B._W),d.Y36(h.v))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-device-set-time"]],decls:230,vars:10,consts:[[1,"container-flex","mt-5"],[1,"container-flex","mt-4"],[1,"row"],[1,"col-sm-2"],["for","timezone",1,"form-label"],[1,"text-danger"],[1,"col-sm-8"],["id","timezones","name","timezones",1,"form-control","browser-default","custom-select",3,"ngModel","ngModelChange"],["selected","",3,"value"],["value","GMT+05:30 Chennai, kolkata, Mumbai, New Dehli "],["value","GMT-11:00 Coordinated Universal Time-11"],["value","GMT-12:00 International Date Line West"],["value","GMT-11:00 Samoa"],["value","GMT-10:00 Hawaii"],["value","GMT-09:00 Alaska"],["value","GMT-08:00 Baja California"],["value","GMT-08:00 Pacific Timer (US & Canada)"],["value","GMT-07:00 Arizona"],["value","GMT-07:00 Chihuahua, La Paz, Mazatlan"],["value","GMT-07:00 Mountain Time (US & Canada)"],["value","GMT-06:00 Cenrtal America"],["value","GMT-06:00 Cenrtal Time (US & Canada)"],["value","GMT-06:00 Guadalajara, Mexico City, Monterrey"],["value","GMT-06:00 Saskatchewan"],["value","GMT-05:00 Bogota, Lima, Quito"],["value","GMT-05:00 Eastern Time (US & Canada)"],["value","GMT-05:00 Indiana (East)"],["value","GMT-04:30 Caracas"],["value","GMT-04:00 Asuncion"],["value","GMT-04:00 Atlantic Time (Canada)"],["value","GMT-04:00 Cuiaba"],["value","GMT-04:00 Georgetown, La Paz, Manaus, San Juan"],["value","GMT-04:00 Santiago"],["value","GMT-03:30 Newfoundland"],["value","GMT-03:00 Brasilia"],["value","GMT-03:00 Buenos, Aires"],["value","GMT-03:00 Cayenne, Fortaleza"],["value","GMT-03:00 Greenland"],["value","GMT-03:00 Montevideo"],["value","GMT-02:00 Coordinated Universal Time-02"],["value","GMT-02:00 Mid-Atlantic"],["value","GMT-01:00 Azores"],["value","GMT-01:00 Cape Verde Is."],["value","GMT+00:00 Casablanca"],["value","GMT+00:00 Coordinated Universal Time"],["value","GMT+00:00 Dublin, Edinburgh, Lisbon, London"],["value","GMT+00:00 Monrovia, Reykjavik"],["value","GMT+01:00 Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"],["value","GMT+01:00 Belgrade, Bratislava, Budapest, Ljubljana, Prague"],["value","GMT+01:00 Brussels, Copenhagen, Magrid, Paris"],["value","GMT+01:00 Sarajevo, Skopje, Warsaw, Zagreb"],["value","GMT+01:00 West Central Africa"],["value","GMT+01:00 Windhoek"],["value","GMT+02:00 Amman"],["value","GMT+02:00 Athens, Bucharest, Istanbul"],["value","GMT+02:00 Beirut"],["value","GMT+02:00 Cairo"],["value","GMT+02:00 Damascus"],["value","GMT+02:00 Harare, Pretoria"],["value","GMT+02:00 Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius"],["value","GMT+02:00 Jerusalem"],["value","GMT+02:00 Minsk"],["value","GMT+03:00 Baghdad"],["value","GMT+03:00 Kuwait, Riyadh"],["value","GMT+03:00 Moscow, St.Petersburg, Volgograd"],["value","GMT+03:00 Nairobi"],["value","GMT+03:30 Tehran"],["value","GMT+04:00 Abu Dhabi, Muscat"],["value","GMT+04:00 Baku"],["value","GMT+04:00 Port Louis"],["value","GMT+04:00 Tbilisi"],["value","GMT+04:00 Yerevan"],["value","GMT+04:30 Kabul"],["value","GMT+05:00 Ekaterinburg"],["value","GMT+05:00 Islamabad, Karachi"],["value","GMT+05:00 Tashkent"],["value","GMT+05:30 Sri Jayawardenepura"],["value","GMT+05:45 Kathmandu"],["value","GMT+06:00 Astana"],["value","GMT+06:00 Dhaka"],["value","GMT+06:00 Novosibirsk"],["value","GMT+06:30 Yangon (Rangoon)"],["value","GMT+07:00 Bangkok, Hanoi, Jakarta"],["value","GMT+07:00 Krasnoyarsk"],["value","GMT+08:00 Beijing, Chongqing, Hong Kong, Urumqi"],["value","GMT+08:00 Irkutsk"],["value","GMT+08:00 Kuala Lumpur, Singapore"],["value","GMT+08:00 Perth"],["value","GMT+08:00 Taipei"],["value","GMT+08:00 Ulaanbaatar"],["value","GMT+09:00 Osaka, Sapporo, Tokyo"],["value","GMT+09:00 Seoul"],["value","GMT+09:00 Yakutsk"],["value","GMT+09:30 Adelaide"],["value","GMT+09:30 Darwin"],["value","GMT+10:00 Brisbane"],["value","GMT+10:00 Canberra, Melbourne, Sydney"],["value","GMT+10:00 Guam, Port Moresby"],["value","GMT+10:00 Hobart"],["value","GMT+10:00 Vladivostok"],["value","GMT+11:00 Magadan"],["value","GMT+11:00 Solomon Is., New Caledonia"],["value","GMT+12:00 Auckland, Wellington"],["value","GMT+12:00 Coordinated Universal Time+12"],["value","GMT+12:00 Fiji"],["value","GMT+13:00 Nuku'alofa"],[1,"row","mt-2"],["for","gatelist",1,"form-label"],["id","gatelist",1,"browser-default","custom-select",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"container-flex","row","mt-2"],["appHeading","","mdbBtn","","type","submit","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],["appHeading","","mdbBtn","","type","reset","size","md","mdbWavesEffect","",1,"buttonhover"],["class","alert alert-danger mt-2 p-3",4,"ngIf"],[3,"value"],[1,"text-success"],[1,"alert","alert-danger","mt-2","p-3"],[2,"color","red !important"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"form"),d.TgZ(3,"div",2),d.TgZ(4,"div",3),d.TgZ(5,"label",4),d._uU(6,"Time Zone"),d.TgZ(7,"sup",5),d._uU(8,"*"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(9,"div",6),d.TgZ(10,"select",7),d.NdJ("ngModelChange",function(e){return t.timezone=e}),d.TgZ(11,"option",8),d._uU(12,"--Select TimeZone--"),d.qZA(),d.TgZ(13,"option",9),d._uU(14," GMT+05:30 Chennai, kolkata, Mumbai, New Dehli "),d.qZA(),d.TgZ(15,"option",10),d._uU(16," GMT-11:00 Coordinated Universal Time-11 "),d.qZA(),d.TgZ(17,"option",11),d._uU(18," GMT-12:00 International Date Line West "),d.qZA(),d.TgZ(19,"option",12),d._uU(20,"GMT-11:00 Samoa"),d.qZA(),d.TgZ(21,"option",13),d._uU(22,"GMT-10:00 Hawaii"),d.qZA(),d.TgZ(23,"option",14),d._uU(24,"GMT-09:00 Alaska"),d.qZA(),d.TgZ(25,"option",15),d._uU(26," GMT-08:00 Baja California "),d.qZA(),d.TgZ(27,"option",16),d._uU(28," GMT-08:00 Pacific Timer (US & Canada) "),d.qZA(),d.TgZ(29,"option",17),d._uU(30,"GMT-07:00 Arizona"),d.qZA(),d.TgZ(31,"option",18),d._uU(32," GMT-07:00 Chihuahua, La Paz, Mazatlan "),d.qZA(),d.TgZ(33,"option",19),d._uU(34," GMT-07:00 Mountain Time (US & Canada) "),d.qZA(),d.TgZ(35,"option",20),d._uU(36," GMT-06:00 Cenrtal America "),d.qZA(),d.TgZ(37,"option",21),d._uU(38," GMT-06:00 Cenrtal Time (US & Canada) "),d.qZA(),d.TgZ(39,"option",22),d._uU(40," GMT-06:00 Guadalajara, Mexico City, Monterrey "),d.qZA(),d.TgZ(41,"option",23),d._uU(42," GMT-06:00 Saskatchewan "),d.qZA(),d.TgZ(43,"option",24),d._uU(44," GMT-05:00 Bogota, Lima, Quito "),d.qZA(),d.TgZ(45,"option",25),d._uU(46," GMT-05:00 Eastern Time (US & Canada) "),d.qZA(),d.TgZ(47,"option",26),d._uU(48," GMT-05:00 Indiana (East) "),d.qZA(),d.TgZ(49,"option",27),d._uU(50,"GMT-04:30 Caracas"),d.qZA(),d.TgZ(51,"option",28),d._uU(52,"GMT-04:00 Asuncion"),d.qZA(),d.TgZ(53,"option",29),d._uU(54," GMT-04:00 Atlantic Time (Canada) "),d.qZA(),d.TgZ(55,"option",30),d._uU(56,"GMT-04:00 Cuiaba"),d.qZA(),d.TgZ(57,"option",31),d._uU(58," GMT-04:00 Georgetown, La Paz, Manaus, San Juan "),d.qZA(),d.TgZ(59,"option",32),d._uU(60,"GMT-04:00 Santiago"),d.qZA(),d.TgZ(61,"option",33),d._uU(62," GMT-03:30 Newfoundland "),d.qZA(),d.TgZ(63,"option",34),d._uU(64,"GMT-03:00 Brasilia"),d.qZA(),d.TgZ(65,"option",35),d._uU(66," GMT-03:00 Buenos, Aires "),d.qZA(),d.TgZ(67,"option",36),d._uU(68," GMT-03:00 Cayenne, Fortaleza "),d.qZA(),d.TgZ(69,"option",37),d._uU(70,"GMT-03:00 Greenland"),d.qZA(),d.TgZ(71,"option",38),d._uU(72,"GMT-03:00 Montevideo"),d.qZA(),d.TgZ(73,"option",39),d._uU(74," GMT-02:00 Coordinated Universal Time-02 "),d.qZA(),d.TgZ(75,"option",40),d._uU(76," GMT-02:00 Mid-Atlantic "),d.qZA(),d.TgZ(77,"option",41),d._uU(78,"GMT-01:00 Azores"),d.qZA(),d.TgZ(79,"option",42),d._uU(80," GMT-01:00 Cape Verde Is. "),d.qZA(),d.TgZ(81,"option",43),d._uU(82,"GMT+00:00 Casablanca"),d.qZA(),d.TgZ(83,"option",44),d._uU(84," GMT+00:00 Coordinated Universal Time "),d.qZA(),d.TgZ(85,"option",45),d._uU(86," GMT+00:00 Dublin, Edinburgh, Lisbon, London "),d.qZA(),d.TgZ(87,"option",46),d._uU(88," GMT+00:00 Monrovia, Reykjavik "),d.qZA(),d.TgZ(89,"option",47),d._uU(90," GMT+01:00 Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna "),d.qZA(),d.TgZ(91,"option",48),d._uU(92," GMT+01:00 Belgrade, Bratislava, Budapest, Ljubljana, Prague "),d.qZA(),d.TgZ(93,"option",49),d._uU(94," GMT+01:00 Brussels, Copenhagen, Magrid, Paris "),d.qZA(),d.TgZ(95,"option",50),d._uU(96," GMT+01:00 Sarajevo, Skopje, Warsaw, Zagreb "),d.qZA(),d.TgZ(97,"option",51),d._uU(98," GMT+01:00 West Central Africa "),d.qZA(),d.TgZ(99,"option",52),d._uU(100,"GMT+01:00 Windhoek"),d.qZA(),d.TgZ(101,"option",53),d._uU(102,"GMT+02:00 Amman"),d.qZA(),d.TgZ(103,"option",54),d._uU(104," GMT+02:00 Athens, Bucharest, Istanbul "),d.qZA(),d.TgZ(105,"option",55),d._uU(106,"GMT+02:00 Beirut"),d.qZA(),d.TgZ(107,"option",56),d._uU(108,"GMT+02:00 Cairo"),d.qZA(),d.TgZ(109,"option",57),d._uU(110,"GMT+02:00 Damascus"),d.qZA(),d.TgZ(111,"option",58),d._uU(112," GMT+02:00 Harare, Pretoria "),d.qZA(),d.TgZ(113,"option",59),d._uU(114," GMT+02:00 Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius "),d.qZA(),d.TgZ(115,"option",60),d._uU(116,"GMT+02:00 Jerusalem"),d.qZA(),d.TgZ(117,"option",61),d._uU(118,"GMT+02:00 Minsk"),d.qZA(),d.TgZ(119,"option",62),d._uU(120,"GMT+03:00 Baghdad"),d.qZA(),d.TgZ(121,"option",63),d._uU(122," GMT+03:00 Kuwait, Riyadh "),d.qZA(),d.TgZ(123,"option",64),d._uU(124," GMT+03:00 Moscow, St.Petersburg, Volgograd "),d.qZA(),d.TgZ(125,"option",65),d._uU(126,"GMT+03:00 Nairobi"),d.qZA(),d.TgZ(127,"option",66),d._uU(128,"GMT+03:30 Tehran"),d.qZA(),d.TgZ(129,"option",67),d._uU(130," GMT+04:00 Abu Dhabi, Muscat "),d.qZA(),d.TgZ(131,"option",68),d._uU(132,"GMT+04:00 Baku"),d.qZA(),d.TgZ(133,"option",69),d._uU(134,"GMT+04:00 Port Louis"),d.qZA(),d.TgZ(135,"option",70),d._uU(136,"GMT+04:00 Tbilisi"),d.qZA(),d.TgZ(137,"option",71),d._uU(138,"GMT+04:00 Yerevan"),d.qZA(),d.TgZ(139,"option",72),d._uU(140,"GMT+04:30 Kabul"),d.qZA(),d.TgZ(141,"option",73),d._uU(142," GMT+05:00 Ekaterinburg "),d.qZA(),d.TgZ(143,"option",74),d._uU(144," GMT+05:00 Islamabad, Karachi "),d.qZA(),d.TgZ(145,"option",75),d._uU(146,"GMT+05:00 Tashkent"),d.qZA(),d.TgZ(147,"option",76),d._uU(148," GMT+05:30 Sri Jayawardenepura "),d.qZA(),d.TgZ(149,"option",77),d._uU(150,"GMT+05:45 Kathmandu"),d.qZA(),d.TgZ(151,"option",78),d._uU(152,"GMT+06:00 Astana"),d.qZA(),d.TgZ(153,"option",79),d._uU(154,"GMT+06:00 Dhaka"),d.qZA(),d.TgZ(155,"option",80),d._uU(156,"GMT+06:00 Novosibirsk"),d.qZA(),d.TgZ(157,"option",81),d._uU(158," GMT+06:30 Yangon (Rangoon) "),d.qZA(),d.TgZ(159,"option",82),d._uU(160," GMT+07:00 Bangkok, Hanoi, Jakarta "),d.qZA(),d.TgZ(161,"option",83),d._uU(162,"GMT+07:00 Krasnoyarsk"),d.qZA(),d.TgZ(163,"option",84),d._uU(164," GMT+08:00 Beijing, Chongqing, Hong Kong, Urumqi "),d.qZA(),d.TgZ(165,"option",85),d._uU(166,"GMT+08:00 Irkutsk"),d.qZA(),d.TgZ(167,"option",86),d._uU(168," GMT+08:00 Kuala Lumpur, Singapore "),d.qZA(),d.TgZ(169,"option",87),d._uU(170,"GMT+08:00 Perth"),d.qZA(),d.TgZ(171,"option",88),d._uU(172,"GMT+08:00 Taipei"),d.qZA(),d.TgZ(173,"option",89),d._uU(174,"GMT+08:00 Ulaanbaatar"),d.qZA(),d.TgZ(175,"option",90),d._uU(176," GMT+09:00 Osaka, Sapporo, Tokyo "),d.qZA(),d.TgZ(177,"option",91),d._uU(178,"GMT+09:00 Seoul"),d.qZA(),d.TgZ(179,"option",92),d._uU(180,"GMT+09:00 Yakutsk"),d.qZA(),d.TgZ(181,"option",93),d._uU(182,"GMT+09:30 Adelaide"),d.qZA(),d.TgZ(183,"option",94),d._uU(184,"GMT+09:30 Darwin"),d.qZA(),d.TgZ(185,"option",95),d._uU(186,"GMT+10:00 Brisbane"),d.qZA(),d.TgZ(187,"option",96),d._uU(188," GMT+10:00 Canberra, Melbourne, Sydney "),d.qZA(),d.TgZ(189,"option",97),d._uU(190," GMT+10:00 Guam, Port Moresby "),d.qZA(),d.TgZ(191,"option",98),d._uU(192,"GMT+10:00 Hobart"),d.qZA(),d.TgZ(193,"option",99),d._uU(194,"GMT+10:00 Vladivostok"),d.qZA(),d.TgZ(195,"option",100),d._uU(196,"GMT+11:00 Magadan"),d.qZA(),d.TgZ(197,"option",101),d._uU(198," GMT+11:00 Solomon Is., New Caledonia "),d.qZA(),d.TgZ(199,"option",102),d._uU(200," GMT+12:00 Auckland, Wellington "),d.qZA(),d.TgZ(201,"option",103),d._uU(202," GMT+12:00 Coordinated Universal Time+12 "),d.qZA(),d.TgZ(203,"option",104),d._uU(204,"GMT+12:00 Fiji"),d.qZA(),d.TgZ(205,"option",105),d._uU(206,"GMT+13:00 Nuku'alofa"),d.qZA(),d._UZ(207,"option"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(208,"div",106),d.TgZ(209,"div",3),d.TgZ(210,"label",107),d._uU(211,"Gate Id"),d.TgZ(212,"sup",5),d._uU(213,"*"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(214,"div",6),d.TgZ(215,"select",108),d.NdJ("ngModelChange",function(e){return t.gateId=e})("change",function(){return t.getStatus()}),d.TgZ(216,"option",8),d._uU(217,"--Select Gates--"),d.qZA(),d.YNc(218,Dt,2,3,"option",109),d.qZA(),d.qZA(),d.TgZ(219,"div",3),d.YNc(220,Nt,2,0,"h2",110),d.YNc(221,Lt,2,0,"h2",111),d.qZA(),d.qZA(),d.TgZ(222,"div",112),d.TgZ(223,"div",3),d.TgZ(224,"button",113),d.NdJ("click",function(){return t.setTime()}),d._uU(225," Set Time "),d.qZA(),d.qZA(),d.TgZ(226,"div",3),d.TgZ(227,"button",114),d._uU(228," Reset "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(229,Jt,4,0,"div",115),d.qZA(),d.qZA()),2&e&&(d.xp6(10),d.Q6J("ngModel",t.timezone),d.xp6(1),d.Q6J("value","select"),d.xp6(204),d.Q6J("ngModel",t.gateId)("ngModelOptions",d.DdM(9,Ft)),d.xp6(1),d.Q6J("value","select"),d.xp6(2),d.Q6J("ngForOf",t.gatelist),d.xp6(2),d.Q6J("ngIf","online"==t.status),d.xp6(1),d.Q6J("ngIf","offline"==t.status),d.xp6(8),d.Q6J("ngIf",t.error))},directives:[g._Y,g.JL,g.F,g.EJ,g.JJ,g.On,g.YN,g.Kr,a.sg,a.O5,p.d,m.mT],styles:[""]}),e})();function Gt(e,t){1&e&&(d.TgZ(0,"small",18),d.TgZ(1,"sup"),d._uU(2,"* "),d.qZA(),d._uU(3,"Date cannot be blank"),d.qZA())}function Rt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"select",31),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2)._status=t})("change",function(t){return d.CHM(e),d.oxw(2).statusSelection(t)}),d.TgZ(1,"option",32),d._uU(2,"IN"),d.qZA(),d.TgZ(3,"option",32),d._uU(4,"OUT"),d.qZA(),d.TgZ(5,"option",33),d._uU(6,"IN/OUT"),d.qZA(),d.qZA()}if(2&e){const e=d.oxw(2);d.Q6J("ngModel",e._status),d.xp6(1),d.Q6J("value","IN"),d.xp6(2),d.Q6J("value","OUT"),d.xp6(2),d.Q6J("value","IN/OUT")}}function Yt(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.qZA(),d.TgZ(13,"td"),d._uU(14),d.qZA(),d.qZA()),2&e){const e=t.$implicit;d.xp6(2),d.Oqu(e.Id),d.xp6(2),d.Oqu(e.Name),d.xp6(2),d.Oqu(e.Time),d.xp6(2),d.Oqu(e.Status),d.xp6(2),d.Oqu(e.Location),d.xp6(2),d.Oqu(e.Longitude),d.xp6(2),d.Oqu(e.Latitude)}}function Qt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",19),d.TgZ(1,"table",20),d.TgZ(2,"thead"),d.TgZ(3,"tr"),d.TgZ(4,"th",21),d.TgZ(5,"form",22),d._uU(6,"Emp. ID "),d.TgZ(7,"input",23,24),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw()._empid=t})("keyup",function(){d.CHM(e);const t=d.MAs(8);return d.oxw().getEmpId(t.value)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(9,"th",21),d.TgZ(10,"form",22),d._uU(11," Name "),d.TgZ(12,"input",25,26),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw()._empname=t})("keyup",function(){d.CHM(e);const t=d.MAs(13);return d.oxw().getEmpName(t.value)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(14,"th",21),d._uU(15,"Time "),d.TgZ(16,"span",27),d.NdJ("click",function(){return d.CHM(e),d.oxw().sortList()}),d._UZ(17,"mdb-icon",28),d.qZA(),d.qZA(),d.TgZ(18,"th",21),d._uU(19,"Status "),d.YNc(20,Rt,7,4,"select",29),d.qZA(),d.TgZ(21,"th",21),d._uU(22,"Location"),d.qZA(),d.TgZ(23,"th",21),d._uU(24,"Longitude"),d.qZA(),d.TgZ(25,"th",21),d._uU(26,"Latitude"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(27,"tbody"),d.YNc(28,Yt,15,7,"tr",30),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(7),d.Q6J("ngModel",e._empid),d.xp6(5),d.Q6J("ngModel",e._empname),d.xp6(8),d.Q6J("ngIf",e.showStatusDropdown),d.xp6(8),d.Q6J("ngForOf",e.showpunchesList)}}function Bt(e,t){1&e&&(d.TgZ(0,"div",34),d.TgZ(1,"div",35),d.TgZ(2,"h1",18),d._uU(3,"No Data Found"),d.qZA(),d.qZA(),d.qZA())}let Pt=(()=>{class e{constructor(e,t,i){this.list=e,this.datepipe=t,this.common=i,this.spinner=c.aS,this.punchesList=[],this.showtable=1,this.empid="",this.empname="",this.status="IN/OUT",this.export=!0,this.showStatusDropdown=!1,this.dateerror=!1,this._status="IN/OUT"}ngOnInit(){var e=this;return(0,l.Z)(function*(){e.punchtype="IN/OUT",document.getElementById(e.punchtype).style.fontWeight="bold",e.date=e.datepipe.transform(new Date,"yyyy-MM-dd"),e.getDailyPunches()})()}makeBold(){var e=document.getElementById(this.punchtype),t=["IN","OUT","IN/OUT"];for(let i=0;i<t.length;i++)t[i]!=this.punchtype&&(document.getElementById(t[i]).style.fontWeight="");e.style.fontWeight="bold"}dateChanged(){this.showtable=1,this.export=!0}getDailyPunches(){var e=this;if(""!=this.date){this.dateerror=!1;var t=new Date(this.date);t=this.datepipe.transform(t,"dd/MM/yyyy"),this.date=this.date;var i={CID:this.common.getCid(),Date:t,Status:this.punchtype};this.list.getDailyQueryMobile(i).subscribe(function(){var t=(0,l.Z)(function*(t){e.punchesList=yield t,1!=e.punchesList.errorcode?(e.showtable=-1,e.export=!0):(e.punchesList=e.punchesList.data,e.punchesList=e.punchesList.sort((e,t)=>e.Time<t.Time?-1:1),e.showpunchesList=e.punchesList,e.showtable=0,e._empid="",e._empname="",e._status="IN/OUT",e.showStatusDropdown="IN/OUT"==e.punchtype,e.export=!1)});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Daily Query Mobile"};this.common.saveLog(t,"ApiException")})}else this.dateerror=!0}getEmpId(e){this.empid=""==e?"":e,this.searchData()}getEmpName(e){this.empname=""==e?"":e.toLowerCase(),this.searchData()}sortList(){this.showpunchesList=this.showpunchesList.reverse()}searchData(){let e;if(""==this.empid&&""==this.empname&&"IN/OUT"==this.status)return this.showpunchesList=this.punchesList,void(this.export=!(this.showpunchesList.length>0));e="IN"==this.status?"OUT":"OUT"==this.status?"IN":"IN/OUT";var t=[];for(let i=0;i<this.punchesList.length;i++)this.punchesList[i].Id.includes(this.empid)&&this.punchesList[i].Name.toLowerCase().includes(this.empname)&&this.punchesList[i].Status!=e&&t.push(this.punchesList[i]);this.showpunchesList=t,this.export=!(this.showpunchesList.length>0)}statusSelection(e){this.status=e.target.value,this.searchData()}exportExcel(){let e=[];for(let l=0;l<this.showpunchesList.length;l++)e.push([Number(this.showpunchesList[l].Id),this.showpunchesList[l].Name,this.showpunchesList[l].Time,this.showpunchesList[l].Status,this.showpunchesList[l].Location,parseFloat(this.showpunchesList[l].Longitude),parseFloat(this.showpunchesList[l].Latitude)]);const t=this.common.getLocalStorage().ClientName,i=e;this.datepipe.transform(new Date,"dd/MM/yyyy");let n=new f.Workbook,o=n.addWorksheet("Daily Query Mobile"),s=o.addRow(["Mobile Transaction Report"]);o.addRow([t]),s.font={name:"Comic Sans MS",family:4,size:16,underline:"double",bold:!0},o.addRow([]),o.addRow(["Date : "+this.datepipe.transform(this.date,"dd MMM yyyy")]),o.addRow([]);let a=o.addRow(["ID","NAME","TIME","STATUS","LOCATION","LONGITUDE","LATITUDE"]);a.font={size:12,bold:!0},a.eachCell((e,t)=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFF00"},bgColor:{argb:"FF0000FF"}},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),i.forEach(e=>{let t=o.addRow(e);t.height=30,t.alignment={vertical:"middle",horizontal:"center"},t.eachCell(e=>{e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),o.getColumn(5).alignment={vertical:"middle",horizontal:"center",wrapText:!0},o.getColumn(5).width=35,o.getColumn(1).width=14,o.getColumn(2).width=16,o.getColumn(3).width=12,o.getColumn(4).width=13,o.getColumn(6).width=15,o.getColumn(7).width=15,o.addRow([]);let r=o.addRow(["This is system generated excel sheet."]);r.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFCCFFE5"}},r.getCell(1).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},o.mergeCells(`A${r.number}:G${r.number}`),n.xlsx.writeBuffer().then(e=>{let t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Z.saveAs(t,"MobileTransaction-"+this.date+".xlsx")})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(u.E),d.Y36(a.uU),d.Y36(h.v))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-daily-query-mobile"]],decls:31,vars:7,consts:[[1,"container-flex","mt-5"],[1,"container-flex","row","mt-3","d-flex","justify-content-center"],[1,"col-sm-3"],["for","date",1,"form-label"],[2,"color","red"],["type","date","id","date",1,"form-control",3,"ngModel","ngModelChange","change"],["class","text-danger",4,"ngIf"],[1,"form-label"],["aria-labelledby","example-radio-group-label",1,"example-radio-group",3,"ngModel","ngModelChange","change"],["value","IN","id","IN",1,"example-radio-button",3,"checked"],["id","OUT","value","OUT",1,"example-radio-button"],["id","IN/OUT","value","IN/OUT",1,"example-radio-button"],[1,"col-sm-2"],["appHeading","","mdbBtn","","type","submit","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],["appHeading","","mdbBtn","","size","md","mdbWavesEffect","",1,"buttonhover",3,"disabled","click"],[1,"fas","fa-download",2,"font-size","20px"],["class","table-responsive scrollbig mt-2",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"text-danger"],[1,"table-responsive","scrollbig","mt-2"],[1,"table","table-sm","table-bordered"],["appTableHeader","",1,"sticky-top","text-white","p-1"],["autocomplete","off",2,"margin-bottom","-2px"],["type","number","placeholder","Search Id",1,"form-control",3,"ngModel","ngModelChange","keyup"],["empid",""],["type","text","name","employeename","placeholder","Search Name","aria-label","Search Name",1,"form-control",3,"ngModel","ngModelChange","keyup"],["empname",""],[3,"click"],["fas","","icon","sort"],[3,"ngModel","ngModelChange","change",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange","change"],[3,"value"],["selected","",3,"value"],[1,"mt-2"],[1,"container-flex","col-sm-12","d-flex","justify-content-center"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"label",3),d._uU(4,"Date"),d.TgZ(5,"sup",4),d._uU(6,"*"),d.qZA(),d.qZA(),d.TgZ(7,"input",5),d.NdJ("ngModelChange",function(e){return t.date=e})("change",function(){return t.dateChanged()}),d.qZA(),d.YNc(8,Gt,4,0,"small",6),d.qZA(),d.TgZ(9,"div",2),d.TgZ(10,"label",7),d._uU(11,"Select Status"),d.qZA(),d.TgZ(12,"div"),d.TgZ(13,"mat-radio-group",8),d.NdJ("ngModelChange",function(e){return t.punchtype=e})("change",function(){return t.makeBold()}),d.TgZ(14,"mat-radio-button",9),d._uU(15,"In "),d.qZA(),d._uU(16,"\xa0 "),d.TgZ(17,"mat-radio-button",10),d._uU(18,"Out"),d.qZA(),d._uU(19,"\xa0 "),d.TgZ(20,"mat-radio-button",11),d._uU(21,"In/Out"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"div",12),d.TgZ(23,"button",13),d.NdJ("click",function(){return t.getDailyPunches()}),d._uU(24,"Show"),d.qZA(),d.qZA(),d.TgZ(25,"div",2),d.TgZ(26,"button",14),d.NdJ("click",function(){return t.exportExcel()}),d._UZ(27,"i",15),d._uU(28,"\xa0Download"),d.qZA(),d.qZA(),d.qZA(),d.YNc(29,Qt,29,4,"div",16),d.YNc(30,Bt,4,0,"div",17),d.qZA()),2&e&&(d.xp6(7),d.Q6J("ngModel",t.date),d.xp6(1),d.Q6J("ngIf",t.dateerror),d.xp6(5),d.Q6J("ngModel",t.punchtype),d.xp6(1),d.Q6J("checked",!0),d.xp6(12),d.Q6J("disabled",t.export),d.xp6(3),d.Q6J("ngIf",0==t.showtable),d.xp6(1),d.Q6J("ngIf",-1==t.showtable))},directives:[g.Fj,g.JJ,g.On,a.O5,P.VQ,P.U0,p.d,m.mT,ge.v,g._Y,g.JL,g.F,g.wV,m.Ui,m.XI,a.sg,g.EJ,g.YN,g.Kr],styles:[""]}),e})();function Ht(e,t){if(1&e&&(d.TgZ(0,"option"),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.AsE(" ",e.EmployeeId," - ",e.EmployeeName," ")}}function zt(e,t){1&e&&(d.TgZ(0,"small",26),d._uU(1,"Please select Employee "),d.qZA())}function jt(e,t){if(1&e&&(d.TgZ(0,"option",27),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("value",e),d.xp6(1),d.Oqu(e)}}function Wt(e,t){1&e&&(d.TgZ(0,"small",26),d._uU(1,"Please Select Year "),d.qZA())}function Vt(e,t){if(1&e&&(d.TgZ(0,"option",27),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("value",e),d.xp6(1),d.Oqu(e)}}function $t(e,t){1&e&&(d.TgZ(0,"small",26),d._uU(1,"Please Select Month "),d.qZA())}function Kt(e,t){1&e&&(d.TgZ(0,"small",26),d._uU(1,"Please Enter Present Days "),d.qZA())}function Xt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",21),d.NdJ("click",function(){return d.CHM(e),d.oxw().saveData()}),d._uU(1,"Save"),d.qZA()}}function ei(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",21),d.NdJ("click",function(){return d.CHM(e),d.oxw().modifyData()}),d._uU(1,"Modify"),d.qZA(),d._uU(2,"\xa0 ")}}function ti(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr",32),d.TgZ(1,"td",33),d.NdJ("click",function(){const t=d.CHM(e),i=t.$implicit,n=t.index;return d.oxw(2).setDays(i.TotalPresent,i.Month,n)}),d._uU(2),d.qZA(),d.TgZ(3,"td",33),d.NdJ("click",function(){const t=d.CHM(e),i=t.$implicit,n=t.index;return d.oxw(2).setDays(i.TotalPresent,i.Month,n)}),d._uU(4),d.qZA(),d.TgZ(5,"td",33),d.NdJ("click",function(t){const i=d.CHM(e).$implicit;return d.oxw(2).deleteDays(t,i)}),d._UZ(6,"mdb-icon",34),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit;d.Q6J("id",t.index),d.xp6(2),d.Oqu(e.Month),d.xp6(2),d.Oqu(e.TotalPresent)}}function ii(e,t){if(1&e&&(d.TgZ(0,"table",28),d.TgZ(1,"thead"),d.TgZ(2,"tr"),d.TgZ(3,"th",29),d._uU(4,"Month"),d.qZA(),d.TgZ(5,"th",29),d._uU(6,"Present Days"),d.qZA(),d._UZ(7,"th",30),d.qZA(),d.qZA(),d.TgZ(8,"tbody"),d.YNc(9,ti,7,3,"tr",31),d.qZA(),d.qZA()),2&e){const e=d.oxw();d.xp6(9),d.Q6J("ngForOf",e.totalDays)}}let ni=(()=>{class e{constructor(e,t,i,n){this.confirmationService=e,this.common=t,this.administration=i,this.toast=n,this.iderror=!1,this.yearerror=!1,this.montherror=!1,this.pdayserror=!1,this.savedata=!0,this.employees=[],this.month="",this.year_list=[],this.totalDays=[],this.month_list=["January","February","March","April","May","June","July","August","September","October","November","December"]}ngOnInit(){this.getEmpList(),this.year=(new Date).getFullYear(),this.month=-1}getEmpList(){var e=this;this.common.getEmpList().subscribe(function(){var t=(0,l.Z)(function*(t){e.employees=yield t,e.employees=e.employees.data});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Emp List"};this.common.saveLog(t,"ApiException")});let t=(new Date).getFullYear();for(let i=3;i>=0;i--)this.year_list.push(t-i);this.year_list.push(t+1)}getData(){var e=this;let t={CID:this.common.getCid(),EmpId:this.empid.split("-")[0].trim(),Year:this.year,Month:this.month,PresentDays:""};this.administration.getMonthlyPresentDays(t).subscribe(function(){var t=(0,l.Z)(function*(t){e.totalDays=yield t,1==e.totalDays.errorcode?(e.totalDays=e.totalDays.data,e.showtable=!0):(e.totalDays=[],e.showtable=!1)});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Monthly Present Days"};this.common.saveLog(t,"ApiException")})}saveData(){var e=this;if(this.montherror="-1"==this.month,this.iderror=""==this.empid.trim(),this.pdayserror=""==this.presentdays||null==this.presentdays,this.pdayserror||this.montherror||this.iderror)return;let t={CID:this.common.getCid(),EmpId:this.empid.split("-")[0].trim(),Year:this.year,Month:this.month_list.indexOf(this.month)+1,PresentDays:this.presentdays};this.administration.saveMonthPresentDays(t).subscribe(function(){var i=(0,l.Z)(function*(i){let n=yield i;1==n.errorcode?(e.toast.success("Data Saved..","Success"),e.common.insertLog("Administration/MEPD/save-"+JSON.stringify(t)),e.month="-1",e.presentdays="",e.getData()):e.toast.error("Error occured..",n.errorstring)});return function(e){return i.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Save Monthly Present Days"};this.common.saveLog(t,"ApiException")})}modifyData(){var e=this;if(this.montherror="-1"==this.month,this.iderror=""==this.empid.trim(),this.pdayserror=""==this.presentdays||null==this.presentdays,this.pdayserror||this.montherror||this.iderror)return;let t={CID:this.common.getCid(),EmpId:this.empid.split("-")[0].trim(),Year:this.year,Month:this.month_list.indexOf(this.month)+1,PresentDays:this.presentdays};this.administration.updateMonthPresentDays(t).subscribe(function(){var i=(0,l.Z)(function*(i){let n=yield i;1==n.errorcode?(e.toast.success("Data modified..","Success"),e.common.insertLog("Administration/MEPD/modified-"+JSON.stringify(t)),e.month="-1",e.presentdays="",e.getData()):e.toast.error(-10==n.errorcode?"Something Went Wrong":n.errorstring,"Failure")});return function(e){return i.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Update Monthly Present Days"};this.common.saveLog(t,"ApiException")})}resetValue(){this.empid="",this.year=(new Date).getFullYear(),this.month=-1,this.presentdays="",this.savedata=!0,this.totalDays=[],this.showtable=!1}setDays(e,t,i){this.presentdays=e,this.month=t,this.savedata=!1,null!=this.selected&&(this.selected.style.backgroundColor="",this.selected.style.fontWeight="normal"),this.selected=document.getElementById(i),this.selected.style.backgroundColor="lightgrey",this.selected.style.fontWeight="bold"}getDays(){let e=this.totalDays.filter(e=>e.Month==this.month);0!=e.length?(this.presentdays=Number(e[0].TotalPresent),this.savedata=!1):(this.presentdays="",this.savedata=!0)}deleteDays(e,t){var i=this;this.confirmationService.confirm({target:e.target,message:"Are you sure that you want to delete?",icon:"pi pi-exclamation-triangle",accept:()=>{let e={CID:this.common.getCid(),EmpId:this.empid.split("-")[0].trim(),Year:this.year.toString(),Month:this.month_list.indexOf(t.Month)+1,PresentDays:t.TotalPresent};this.administration.deleteMonthPresentDays(e).subscribe(function(){var e=(0,l.Z)(function*(e){1==(yield e).errorcode?(i.toast.success("Data deleted..","Success"),i.month="-1",i.presentdays="",i.getData()):i.toast.error("Something went wrong!!")});return function(t){return e.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Delete Monthly present Days"};this.common.saveLog(t,"ApiException")})},reject:()=>{}})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(o.YP),d.Y36(h.v),d.Y36(u.E),d.Y36(B._W))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-monthly-employee-wise-present-days"]],decls:56,vars:14,consts:[[1,"py-2","container-flex"],[1,"row","mt-2"],[1,"col-sm-6",2,"border-right","solid 1px"],[1,"row","mb-3"],["for","input1",1,"col-sm-4","col-form-label",2,"font-weight","bold"],[2,"color","red"],[1,"col-sm-8"],["mdbInput","","list","employee","name","emp",1,"form-control",3,"ngModel","ngModelChange","change"],["id","employee"],[4,"ngFor","ngForOf"],["class","text-danger","style","color: red;",4,"ngIf"],["for","input2",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["name","year",1,"browser-default","custom-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","input3",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["name","month",1,"browser-default","custom-select",3,"ngModel","ngModelChange","change"],["value","-1","selected",""],["for","input4",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["mdbInput","","type","number","min","1","oninput","this.value = Math.abs(this.value)","name","presentdays","id","input4",1,"form-control",3,"ngModel","ngModelChange"],["appHeading","","class","buttonhover","mdbBtn","","type","button","size","md","mdbWavesEffect","",3,"click",4,"ngIf","ngIfElse"],["elseBlock",""],["appHeading","","mdbBtn","","type","button","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],[1,"col-sm-6"],[1,"table-responsive","scroll"],["class","table table-hover table-sm",4,"ngIf"],[1,"col-sm-2","col-form-label"],[1,"text-danger",2,"color","red"],[3,"value"],[1,"table","table-hover","table-sm"],["appTableHeader","",1,"sticky-top","text-white"],["appTableHeader","",1,"sticky-top"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[3,"click"],["fas","","icon","trash-alt",2,"color","red"]],template:function(e,t){if(1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"form"),d.TgZ(4,"div",3),d.TgZ(5,"label",4),d._uU(6,"Employee ID "),d.TgZ(7,"sup",5),d._uU(8,"*"),d.qZA(),d.qZA(),d.TgZ(9,"div",6),d.TgZ(10,"input",7),d.NdJ("ngModelChange",function(e){return t.empid=e})("change",function(){return t.getData()}),d.qZA(),d.TgZ(11,"datalist",8),d.YNc(12,Ht,2,2,"option",9),d.qZA(),d.YNc(13,zt,2,0,"small",10),d.qZA(),d.qZA(),d.TgZ(14,"div",3),d.TgZ(15,"label",11),d._uU(16,"Year "),d.TgZ(17,"sup",5),d._uU(18,"*"),d.qZA(),d.qZA(),d.TgZ(19,"div",6),d.TgZ(20,"select",12),d.NdJ("ngModelChange",function(e){return t.year=e})("change",function(){return t.getData()}),d.YNc(21,jt,2,2,"option",13),d.qZA(),d.YNc(22,Wt,2,0,"small",10),d.qZA(),d.qZA(),d.TgZ(23,"div",3),d.TgZ(24,"label",14),d._uU(25,"Month "),d.TgZ(26,"sup",5),d._uU(27,"*"),d.qZA(),d.qZA(),d.TgZ(28,"div",6),d.TgZ(29,"select",15),d.NdJ("ngModelChange",function(e){return t.month=e})("change",function(){return t.getDays()}),d.TgZ(30,"option",16),d._uU(31,"--Select Month--"),d.qZA(),d.YNc(32,Vt,2,2,"option",13),d.qZA(),d.YNc(33,$t,2,0,"small",10),d.qZA(),d.qZA(),d.TgZ(34,"div",3),d.TgZ(35,"label",17),d._uU(36,"Present Days "),d.TgZ(37,"sup",5),d._uU(38,"*"),d.qZA(),d.qZA(),d.TgZ(39,"div",6),d.TgZ(40,"input",18),d.NdJ("ngModelChange",function(e){return t.presentdays=e}),d.qZA(),d.YNc(41,Kt,2,0,"small",10),d.qZA(),d.qZA(),d.YNc(42,Xt,2,0,"button",19),d._uU(43,"\xa0 "),d.YNc(44,ei,3,0,"ng-template",null,20,d.W1O),d.TgZ(46,"button",21),d.NdJ("click",function(){return t.resetValue()}),d._uU(47,"Reset"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(48,"div",22),d.TgZ(49,"div",23),d.YNc(50,ii,10,1,"table",24),d.qZA(),d.qZA(),d.qZA(),d.TgZ(51,"label",25),d.TgZ(52,"sup",5),d._uU(53,"*"),d.qZA(),d._uU(54," Mandatory field"),d.qZA(),d.qZA(),d._UZ(55,"p-confirmPopup")),2&e){const e=d.MAs(45);d.xp6(10),d.Q6J("ngModel",t.empid),d.xp6(2),d.Q6J("ngForOf",t.employees),d.xp6(1),d.Q6J("ngIf",t.iderror),d.xp6(7),d.Q6J("ngModel",t.year),d.xp6(1),d.Q6J("ngForOf",t.year_list),d.xp6(1),d.Q6J("ngIf",t.yearerror),d.xp6(7),d.Q6J("ngModel",t.month),d.xp6(3),d.Q6J("ngForOf",t.month_list),d.xp6(1),d.Q6J("ngIf",t.montherror),d.xp6(7),d.Q6J("ngModel",t.presentdays),d.xp6(1),d.Q6J("ngIf",t.pdayserror),d.xp6(1),d.Q6J("ngIf",t.savedata)("ngIfElse",e),d.xp6(8),d.Q6J("ngIf",t.showtable)}},directives:[g._Y,g.JL,g.F,g.Fj,m.Hq,g.JJ,g.On,a.sg,a.O5,g.EJ,g.YN,g.Kr,g.qQ,g.wV,p.d,m.mT,pt,ge.v,m.Ui,m.XI],styles:[""]}),e})();var oi=i(97368),si=i(82608);const ai=["component1"];function ri(e,t){1&e&&(d.TgZ(0,"small",18),d._uU(1,"Please select Department "),d.qZA())}function li(e,t){if(1&e&&(d.TgZ(0,"option",19),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("value",e.DesignName),d.xp6(1),d.hij(" ",e.DesignName," ")}}function ci(e,t){1&e&&(d.TgZ(0,"small",18),d._uU(1,"Please select Designation "),d.qZA())}let di=(()=>{class e{constructor(e,t,i){this.common=e,this.administration=t,this.toast=i,this.selectedEmployee=[],this.spinner=c.aS,this.nameerror=!1,this.name1error=!1,this.typeerror=!1,this.markAttendace=!1,this.deptname=[],this.showtable=!0,this.dept_list=[],this.desig_list=[]}ngOnInit(){var e=this;this.common.getDepartmentList().subscribe(function(){var t=(0,l.Z)(function*(t){e.dept_list=yield t,e.dept_list=e.dept_list.data});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Get Department List"};this.common.saveLog(t,"ApiException")}),this.common.getDesignationList().subscribe(function(){var t=(0,l.Z)(function*(t){e.desig_list=yield t,e.desig_list=e.desig_list.data});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Get Designation List"};this.common.saveLog(t,"ApiException")}),this.designname="-1"}showDialog(){this.dialogVisible=!0}showEmployeeByDept(){if(this.nameerror=0==this.deptname.length,this.designname="-1",this.deptname.length==this.dept_list.length)this.empsearch.showEmployeeByDepts("All");else{let e=[];for(let t=0;t<this.deptname.length;t++)this.dept_list.filter(i=>{i.DeptId==this.deptname[t]&&e.push(i.DeptName)});this.empsearch.showEmployeeByDepts(e)}}resetMobileSetting(){var e=this;if(this.nameerror=0==this.deptname.length,this.nameerror)return;if(this.selectedEmployee=this.empsearch.selectedEmployee,0==this.selectedEmployee.length)return void this.toast.warning("Please Select atleast one employee!!");let t=[];for(let i=0;i<this.selectedEmployee.length;i++)t.push(this.selectedEmployee[i].EmployeeId);this.administration.resetMobileSetting({empid:t}).subscribe(function(){var i=(0,l.Z)(function*(i){let n=yield i;1==n.errorcode?(e.toast.success(n.errormessage),e.common.insertLog("Administration/ResetMobileSetting/-"+t),e.empsearch.selectedEmployee=[],e.selectedEmployee=[]):e.toast.error(n.errormessage)});return function(e){return i.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Reset Mobile Setting"};this.common.saveLog(t,"ApiException")})}showEmployeeByDesg(){this.empsearch.showEmployeeByDesg(this.designname)}resetValue(){this.empsearch.selectedEmployee=[]}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(h.v),d.Y36(u.E),d.Y36(B._W))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-reset-mobile-settings"]],viewQuery:function(e,t){if(1&e&&d.Gf(ai,5),2&e){let e;d.iGM(e=d.CRH())&&(t.empsearch=e.first)}},decls:33,vars:6,consts:[[1,"py-2","container-flex"],[1,"row"],[1,"col-sm-6",2,"border-right","1px solid"],[1,"row","mb-3"],["for","input1",1,"col-sm-4","col-form-label",2,"font-weight","bold"],[2,"color","red"],[1,"col-sm-8"],["optionLabel","DeptName","defaultLabel","--Select a Department--","optionValue","DeptId","name","deptname","display","chip",3,"options","ngModel","ngModelChange","onChange"],["class","text-danger","style","color: red",4,"ngIf"],["for","input2",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["name","designname",1,"browser-default","custom-select",3,"ngModel","ngModelChange","change"],["value","-1","selected",""],[3,"value",4,"ngFor","ngForOf"],["appHeading","","mdbBtn","","type","button","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],["appHeading","","mdbBtn","","type","reset","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],[1,"col-sm-6"],["component1",""],[1,"col-sm-2","col-form-label"],[1,"text-danger",2,"color","red"],[3,"value"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"form"),d.TgZ(4,"div",3),d.TgZ(5,"label",4),d._uU(6,"Department "),d.TgZ(7,"sup",5),d._uU(8,"*"),d.qZA(),d.qZA(),d.TgZ(9,"div",6),d.TgZ(10,"p-multiSelect",7),d.NdJ("ngModelChange",function(e){return t.deptname=e})("onChange",function(){return t.showEmployeeByDept()}),d.qZA(),d.YNc(11,ri,2,0,"small",8),d.qZA(),d.qZA(),d.TgZ(12,"div",3),d.TgZ(13,"label",9),d._uU(14,"Designation "),d.qZA(),d.TgZ(15,"div",6),d.TgZ(16,"select",10),d.NdJ("ngModelChange",function(e){return t.designname=e})("change",function(){return t.showEmployeeByDesg()}),d.TgZ(17,"option",11),d._uU(18,"--Select Designation--"),d.qZA(),d.YNc(19,li,2,2,"option",12),d.qZA(),d.YNc(20,ci,2,0,"small",8),d.qZA(),d.qZA(),d.TgZ(21,"button",13),d.NdJ("click",function(){return t.resetMobileSetting()}),d._uU(22," Reset Mobile Settings"),d.qZA(),d._uU(23,"\xa0 "),d.TgZ(24,"button",14),d.NdJ("click",function(){return t.resetValue()}),d._uU(25," Reset "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(26,"div",15),d._UZ(27,"app-employeesearch",null,16),d.qZA(),d.qZA(),d.TgZ(29,"label",17),d.TgZ(30,"label",5),d._uU(31,"*"),d.qZA(),d._uU(32," Mandatory field"),d.qZA(),d.qZA()),2&e&&(d.xp6(10),d.Q6J("options",t.dept_list)("ngModel",t.deptname),d.xp6(1),d.Q6J("ngIf",t.nameerror),d.xp6(5),d.Q6J("ngModel",t.designname),d.xp6(3),d.Q6J("ngForOf",t.desig_list),d.xp6(1),d.Q6J("ngIf",t.name1error))},directives:[g._Y,g.JL,g.F,oi.NU,g.JJ,g.On,a.O5,g.EJ,g.YN,g.Kr,a.sg,p.d,m.mT,si.r],styles:["[_nghost-%COMP%]     .p-multiselect{width:24vw}@media screen and (max-width:640px){[_nghost-%COMP%]     .p-multiselect{width:68vw}}"]}),e})();var ui=i(92871),hi=i(69892);function pi(e,t){1&e&&(d.TgZ(0,"small",26),d._uU(1,"Please select Department "),d.qZA())}function gi(e,t){if(1&e&&(d.TgZ(0,"option",27),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("value",e.DesignName),d.xp6(1),d.hij(" ",e.DesignName," ")}}function mi(e,t){1&e&&(d.TgZ(0,"small",26),d._uU(1,"Please select Designation "),d.qZA())}function fi(e,t){if(1&e&&(d.TgZ(0,"option",27),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("value",e.LocationCode),d.xp6(1),d.Oqu(e.LocationDescription)}}function Zi(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",3),d.TgZ(1,"div",28),d.TgZ(2,"label",29),d._uU(3,"Allow GeoFencing"),d.qZA(),d.TgZ(4,"div",30),d.TgZ(5,"input",31),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().geofencing=t}),d.qZA(),d.TgZ(6,"label",32),d.TgZ(7,"b"),d._uU(8,"Yes"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(9,"div",30),d.TgZ(10,"input",33),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().geofencing=t}),d.qZA(),d.TgZ(11,"label",34),d.TgZ(12,"b"),d._uU(13,"No"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(14,"div",35),d.TgZ(15,"div",36),d.TgZ(16,"label",37),d._uU(17,"Mobile Location"),d.qZA(),d.TgZ(18,"select",38),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().location=t}),d.YNc(19,fi,2,2,"option",12),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(5),d.Q6J("ngModel",e.geofencing),d.xp6(5),d.Q6J("ngModel",e.geofencing),d.xp6(8),d.Q6J("ngModel",e.location),d.xp6(1),d.Q6J("ngForOf",e.location_list)}}function bi(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",50),d.TgZ(1,"form",51),d.TgZ(2,"span",52),d._UZ(3,"i",53),d.TgZ(4,"input",54),d.NdJ("input",function(t){return d.CHM(e),d.oxw(),d.MAs(2).filterGlobal(null==t.target?null:t.target.value,"contains")}),d.qZA(),d.qZA(),d.qZA(),d.qZA()}}function Ti(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"th",55),d.TgZ(2,"p-tableHeaderCheckbox",56),d.NdJ("click",function(){return d.CHM(e),d.oxw(2).onRowSelect()}),d.qZA(),d.qZA(),d.TgZ(3,"th"),d._uU(4,"ID"),d.qZA(),d.TgZ(5,"th"),d._uU(6,"Name"),d.qZA(),d.qZA()}}function Ai(e,t){if(1&e&&(d.TgZ(0,"tr",57),d._UZ(1,"td",58),d.TgZ(2,"td"),d._uU(3),d.qZA(),d.TgZ(4,"td"),d._uU(5),d.qZA(),d.qZA()),2&e){const e=t.$implicit,i=t.rowIndex;d.Q6J("pSelectableRow",e)("pSelectableRowIndex",i),d.xp6(3),d.Oqu(e.EmployeeId),d.xp6(2),d.Oqu(e.EmployeeName)}}function vi(e,t){1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"th"),d._uU(2,"ID"),d.qZA(),d.TgZ(3,"th"),d._uU(4,"Name"),d.qZA(),d._UZ(5,"th"),d.qZA())}function yi(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td",59),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw(2).deselectId(t.EmployeeId)}),d._UZ(6,"i",60),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit;d.xp6(2),d.Oqu(e.EmployeeId),d.xp6(2),d.Oqu(e.EmployeeName)}}function xi(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",61),d.NdJ("click",function(){return d.CHM(e),d.oxw(2).dialogVisible=!1}),d.qZA()}}const _i=function(){return["EmployeeId","EmployeeName","AlphaNumeric"]},qi=function(){return{width:"50vw"}},wi=function(){return{height:"300px"}};function Mi(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"p-table",39,40),d.NdJ("selectionChange",function(t){return d.CHM(e),d.oxw().selectedEmployee=t})("onRowSelect",function(){return d.CHM(e),d.oxw().onRowSelect()})("onRowUnselect",function(){return d.CHM(e),d.oxw().onRowSelect()}),d.YNc(3,bi,5,0,"ng-template",41),d.YNc(4,Ti,7,0,"ng-template",42),d.YNc(5,Ai,6,4,"ng-template",43),d.qZA(),d.TgZ(6,"div",44),d.TgZ(7,"div",23),d.TgZ(8,"p"),d._uU(9),d.qZA(),d.qZA(),d.TgZ(10,"div",23),d.TgZ(11,"button",45),d.NdJ("click",function(){return d.CHM(e),d.oxw().showDialog()}),d.qZA(),d.TgZ(12,"p-dialog",46),d.NdJ("visibleChange",function(t){return d.CHM(e),d.oxw().dialogVisible=t}),d.TgZ(13,"p-table",47),d.YNc(14,vi,6,0,"ng-template",42),d.YNc(15,yi,7,2,"ng-template",43),d.qZA(),d.YNc(16,xi,1,0,"ng-template",48),d.qZA(),d.qZA(),d.qZA(),d.TgZ(17,"label",49),d._uU(18," Note : Only Employees having Mobile Number will be listed in Employee List.."),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(1),d.Q6J("value",e.employees)("scrollable",!0)("selection",e.selectedEmployee)("globalFilterFields",d.DdM(14,_i)),d.xp6(8),d.hij("Selected Employees : ",e.selectedEmployee.length,""),d.xp6(3),d.Akn(d.DdM(15,qi)),d.Q6J("resizable",!1)("modal",!0)("maximizable",!0)("visible",e.dialogVisible)("contentStyle",d.DdM(16,wi)),d.xp6(1),d.Q6J("value",e.selectedEmployee)("scrollable",!0)}}let ki=(()=>{class e{constructor(e,t,i,n){this.common=e,this.administration=t,this.toast=i,this.datepipe=n,this.vw=!1,this.spinner=c.aS,this.nameerror=!1,this.name1error=!1,this.typeerror=!1,this.markAttendace=!1,this.deptname=[],this.viewattendance=!1,this.markattendance=!1,this.markleave=!1,this.applyrequest=!1,this.approverequest=!1,this.geofencing="no",this.disabledviewattendance=!1,this.disabledmarkattendance=!1,this.disabledmarkleave=!1,this.selectedEmployee=[],this.showtable=!1,this.dept_list=[],this.desig_list=[],this.location_list=[]}ngOnInit(){var e=this;this.deptname=[],this.designname="-1",this.common.getEmpList().subscribe(function(){var t=(0,l.Z)(function*(t){let i=yield t;1==i.errorcode?(e.allEmployees=i.data,e.allEmployees=e.allEmployees.filter(e=>""!=e.Mobile_No)):e.allEmployees=[]});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Emp List"};this.common.saveLog(t,"ApiException")}),this.common.getDepartmentList().subscribe(function(){var t=(0,l.Z)(function*(t){e.dept_list=yield t,e.dept_list=e.dept_list.data});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Department List"};this.common.saveLog(t,"ApiException")}),this.common.getDesignationList().subscribe(function(){var t=(0,l.Z)(function*(t){e.desig_list=yield t,e.desig_list=e.desig_list.data});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Designation List"};this.common.saveLog(t,"ApiException")}),this.getCIDSetting()}getCIDSetting(){var e=this;this.administration.getMobileSettingCid().subscribe(function(){var t=(0,l.Z)(function*(t){let i=yield t;1==i.errorcode&&null!=i.data&&0!=i.data.length&&(i=i.data[0],e.location_list=i.locations,"Y"==i.MobileApplication?(e.disabledviewattendance=!0,e.viewattendance=!0,e.vw=!0):(e.disabledviewattendance=!0,e.viewattendance=!1,e.vw=!1),e.disabledmarkattendance="Y"!=i.MobileAttendance,e.disabledmarkleave="Y"!=i.MobileLeaveApplication)});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Get Mobile Setting"};this.common.saveLog(t,"ApiException")})}modifyMobileSetting(){var e=this;if(this.nameerror="-1"==this.deptname,this.nameerror)return;if(0==this.selectedEmployee.length)return void this.toast.warning("Please select atleast one employee!!");let t=[];for(let r=0;r<this.selectedEmployee.length;r++)t.push(this.selectedEmployee[r].EmployeeId);let i=this.location_list.filter(e=>e.LocationCode==this.location),n=parseInt(("yes"==this.geofencing?"1":"0")+(1==this.markleave?"1":"0")+(1==this.markattendance?"1":"0")+(1==this.viewattendance||1==this.markattendance?"1":"0"),2);8!=n&&13!=n&&9!=n&&10!=n&&12!=n&&14!=n||(n=1);let o,s,a={empid:t,SM:"true",approveRequest:1==this.approverequest?"true":"false",applyRequest:1==this.applyrequest?"true":"false",SaveMobileUserType:n,MobileLocation:"",MobileLocationCode:""};this.administration.saveMobileSettingEmployee({empid:t,SM:"false",approveRequest:"false",applyRequest:"false",SaveMobileUserType:n,MobileLocation:0==i.length?"":i[0].LocationDescription,MobileLocationCode:this.location}).subscribe(function(){var i=(0,l.Z)(function*(i){o=yield i,e.administration.saveMobileSettingEmployee(a).subscribe(function(){var i=(0,l.Z)(function*(i){s=yield i,1==o.errorcode&&1==s.errorcode?(e.toast.success("Mobile Setting Applied Successfully!!!","Success"),e.common.insertLog("Administration/ApplyMobileSetting/applied-"+t),e.resetValue()):-2==o.errorcode?e.toast.error(o.errormessage):e.toast.error("Something went wrong!!!","Failure")});return function(e){return i.apply(this,arguments)}}(),t=>{let i={Exception:t.message,id:e.common.getLocalStorage().LoginId,Api:"Save Mobile Setting"};e.common.saveLog(i,"ApiException")})});return function(e){return i.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Save Mobile Setting"};this.common.saveLog(t,"ApiException")})}resetValue(){this.deptname=[],this.designname="-1",this.showtable=!1,this.viewattendance=this.vw,this.markattendance=!1,this.markleave=!1,this.applyrequest=!1,this.approverequest=!1,this.selectedEmployee=[]}intToBinary(e,t=""){return e<1?""===t?"0":t:this.intToBinary(Math.floor(e/2),e%2+t)}setForm(){var e=this;this.administration.getMobileSettingEmployee(this.selectedEmployee[0].EmployeeId).subscribe(function(){var t=(0,l.Z)(function*(t){let i=yield t;if(1==i.errorcode&&(null!=i.data||0!=i.data.length)){i=i.data[0];let t=e.intToBinary(Number(i.MobileUserType));if(t=t.toString(),t.length<4){let e=4-t.length;for(;e>0;)t="0"+t,e--}e.geofencing="0"==t[0]?"no":"yes",e.location=i.Locationcode,e.markleave="0"!=t[1],e.markattendance="0"!=t[2],e.viewattendance="0"!=t[3],"1"==i.SMAdditionalFeatures?(e.approverequest=!1,e.applyrequest=!0):"2"==i.SMAdditionalFeatures?(e.approverequest=!0,e.applyrequest=!1):"3"==i.SMAdditionalFeatures?(e.approverequest=!0,e.applyrequest=!0):(e.approverequest=!1,e.applyrequest=!1)}});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Get Mobile Setting Employee"};this.common.saveLog(t,"ApiException")})}onRowSelect(){1==this.selectedEmployee.length?this.setForm():(this.markattendance=!1,this.markleave=!1,this.geofencing="no",this.location="",this.approverequest=!1,this.applyrequest=!1)}showDialog(){this.dialogVisible=!0}showEmployeeByDept(){if(this.checkboxFlag=!1,this.selectedEmployee=[],this.onRowSelect(),this.designname="-1",this.deptname.length==this.dept_list.length)return this.employees=this.allEmployees,this.showtable=!0,void(this.deptemployee=this.employees);if(0==this.deptname.length)return this.employees=[],this.selectedEmployee=[],void(this.showtable=!1);let e=[];for(let i=0;i<this.deptname.length;i++)this.dept_list.filter(t=>{t.DeptId==this.deptname[i]&&e.push(t.DeptName)});let t=[];this.employees=[];for(let i=0;i<e.length;i++)t.push(this.allEmployees.filter(t=>t.Department==e[i]));for(let i=0;i<t.length;i++)for(let e=0;e<t[i].length;e++)this.employees.push(t[i][e]);this.employees.length>0?(this.showtable=!0,this.deptemployee=this.employees):this.showtable=!1}showEmployeeByDesg(){this.employees=this.deptemployee.filter(e=>e.Designation==this.designname),this.showtable=this.employees.length>0}selectAll(){this.checkboxFlag?(this.selectedEmployee=this.employees,this.onRowSelect()):(this.selectedEmployee=[],this.onRowSelect())}deselectId(e){this.selectedEmployee=this.selectedEmployee.filter(t=>t.EmployeeId!=e)}exportExcel(){var e=this;this.administration.reportMobileSetting().subscribe(function(){var t=(0,l.Z)(function*(t){let i=yield t;if(1==i.errorcode)if(null!=i.data||0!=i.data.length){let t=i.data,n=[];for(let e=0;e<t.length;e++)n.push([Number(t[e].ID),t[e].Name,t[e].Location_Description,t[e].Mobile_Setting,t[e].Additional_Features,t[e].UsingSM]);const o="Mobile Setting Report",s=e.common.getLocalStorage().ClientName,a=["ID","NAME","LOCATION DESCRIPTION","MOBILE SETTING","ADDITIONAL FEATURES","USING SM"],r=n,l=e.datepipe.transform(new Date,"dd/MM/yyyy");let c=new f.Workbook,d=c.addWorksheet("Report"),u=d.addRow([o]);d.addRow([s]),u.font={name:"Comic Sans MS",family:4,size:16,underline:"double",bold:!0},d.addRow([]),d.addRow([]);let h=d.addRow(a);h.font={size:12,bold:!0},h.eachCell((e,t)=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFF00"},bgColor:{argb:"FF0000FF"}},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),r.forEach(e=>{let t=d.addRow(e);t.height=30,t.alignment={vertical:"middle"},t.eachCell(e=>{e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),d.getColumn(5).width=22,d.getColumn(5).alignment={vertical:"middle",wrapText:!0},d.getColumn(1).width=15,d.getColumn(2).width=15,d.getColumn(2).alignment={vertical:"middle",wrapText:!0},d.getColumn(3).width=18,d.getColumn(3).alignment={vertical:"middle",wrapText:!0},d.getColumn(4).width=30,d.getColumn(4).alignment={vertical:"middle",wrapText:!0},d.getColumn(6).width=15,d.addRow([]);let p=d.addRow(["This is system generated excel sheet."]);p.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFCCFFE5"}},p.getCell(1).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},d.mergeCells(`A${p.number}:F${p.number}`),c.xlsx.writeBuffer().then(e=>{let t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Z.saveAs(t,"MobileSettingReport-"+l+".xlsx")})}else e.toast.warning("No data available to download!!!");else e.toast.error("Something went wrong!!!","Failure")});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Report Mobile Setting"};this.common.saveLog(t,"ApiException")})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(h.v),d.Y36(u.E),d.Y36(B._W),d.Y36(a.uU))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-apply-mobile-settings"]],decls:63,vars:21,consts:[[1,"py-2","container-flex"],[1,"row"],[1,"col-sm-6",2,"border-right","1px solid"],[1,"row","mb-3"],["for","input1",1,"col-sm-4","col-form-label",2,"font-weight","bold"],[2,"color","red"],[1,"col-sm-8"],["optionLabel","DeptName","defaultLabel","--Select a Department--","optionValue","DeptId","name","deptname","display","chip",3,"options","ngModel","ngModelChange","onChange"],["class","text-danger","style","color: red",4,"ngIf"],["for","input2",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["name","designname",1,"browser-default","custom-select",3,"ngModel","ngModelChange","change"],["value","-1","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-4"],["for","input3",1,"col-form-label",2,"font-weight","bold"],[1,"col"],["name","viewattendance",3,"ngModel","binary","disabled","ngModelChange"],["name","markattendance",3,"ngModel","binary","disabled","ngModelChange"],["name","markleave",3,"ngModel","binary","disabled","ngModelChange"],["class","row mb-3",4,"ngIf"],["name","applyrequest",3,"ngModel","binary","ngModelChange"],["name","approverequest",3,"ngModel","binary","ngModelChange"],["appHeading","","mdbBtn","","type","button","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],[1,"col-sm-6"],[4,"ngIf"],[1,"col-sm-6","col-form-label"],[1,"text-danger",2,"color","red"],[3,"value"],[1,"col-sm-4","mt-2"],[1,"col-form-label",2,"font-weight","bold"],[1,"form-check"],["type","radio","value","yes","name","AllowGeoFencing","id","yes",1,"form-check-input",3,"ngModel","ngModelChange"],["for","yes",1,"form-check-label"],["type","radio","value","no","name","AllowGeoFencing1","id","no","checked","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","no",1,"form-check-label"],[1,"col-sm-8","mt-2"],[1,"form-outline"],["for","mobileloc",1,"col-form-label",2,"font-weight","bold"],["name","location",1,"form-control",3,"ngModel","ngModelChange"],["responsiveLayout","scroll","scrollHeight","280px","selectionMode","multiple","styleClass","p-datatable-sm","dataKey","EmployeeId",3,"value","scrollable","selection","globalFilterFields","selectionChange","onRowSelect","onRowUnselect"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"row","p-3"],["type","button","pButton","","label","View Selection",1,"p-button-help","p-button-raised","p-button-rounded","p-button-sm",3,"click"],["header","Selected Employees","appendTo","body",3,"resizable","modal","maximizable","visible","contentStyle","visibleChange"],["scrollHeight","flex","styleClass","p-datatable-sm","responsive","true",3,"value","scrollable"],["pTemplate","footer"],[1,"col-form-label",2,"color","red"],[1,"p-d-flex"],["autocomplete","off"],[1,"p-input-icon-left","p-ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],[2,"width","3rem"],[3,"click"],[3,"pSelectableRow","pSelectableRowIndex"],[2,"width","1rem"],["type","button",1,"text-danger",3,"click"],[1,"fas","fa-times"],["type","button","pButton","","pRipple","","icon","pi pi-times","label","Dismiss",1,"p-button-text",3,"click"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"form"),d.TgZ(4,"div",3),d.TgZ(5,"label",4),d._uU(6,"Department "),d.TgZ(7,"sup",5),d._uU(8,"*"),d.qZA(),d.qZA(),d.TgZ(9,"div",6),d.TgZ(10,"p-multiSelect",7),d.NdJ("ngModelChange",function(e){return t.deptname=e})("onChange",function(){return t.showEmployeeByDept()}),d.qZA(),d.YNc(11,pi,2,0,"small",8),d.qZA(),d.qZA(),d.TgZ(12,"div",3),d.TgZ(13,"label",9),d._uU(14,"Designation "),d.qZA(),d.TgZ(15,"div",6),d.TgZ(16,"select",10),d.NdJ("ngModelChange",function(e){return t.designname=e})("change",function(){return t.showEmployeeByDesg()}),d.TgZ(17,"option",11),d._uU(18,"--Select Designation--"),d.qZA(),d.YNc(19,gi,2,2,"option",12),d.qZA(),d.YNc(20,mi,2,0,"small",8),d.qZA(),d.qZA(),d.TgZ(21,"div",3),d.TgZ(22,"div",13),d.TgZ(23,"label",14),d._uU(24,"Attendance Features "),d.qZA(),d.qZA(),d.TgZ(25,"div",6),d.TgZ(26,"div",1),d.TgZ(27,"div",15),d.TgZ(28,"p-checkbox",16),d.NdJ("ngModelChange",function(e){return t.viewattendance=e}),d.qZA(),d._uU(29," View Attendance "),d.qZA(),d.TgZ(30,"div",15),d.TgZ(31,"p-checkbox",17),d.NdJ("ngModelChange",function(e){return t.markattendance=e}),d.qZA(),d._uU(32," Mark Attendance "),d.qZA(),d.TgZ(33,"div",15),d.TgZ(34,"p-checkbox",18),d.NdJ("ngModelChange",function(e){return t.markleave=e}),d.qZA(),d._uU(35," Mark Leave "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(36,Zi,20,4,"div",19),d.TgZ(37,"div",3),d.TgZ(38,"div",13),d.TgZ(39,"label",14),d._uU(40,"SM Features "),d.qZA(),d.qZA(),d.TgZ(41,"div",6),d.TgZ(42,"div",1),d.TgZ(43,"div",15),d.TgZ(44,"p-checkbox",20),d.NdJ("ngModelChange",function(e){return t.applyrequest=e}),d.qZA(),d._uU(45," Apply Request "),d.qZA(),d.TgZ(46,"div",15),d.TgZ(47,"p-checkbox",21),d.NdJ("ngModelChange",function(e){return t.approverequest=e}),d.qZA(),d._uU(48," Approve Request "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(49,"button",22),d.NdJ("click",function(){return t.modifyMobileSetting()}),d._uU(50,"Modify"),d.qZA(),d._uU(51,"\xa0 "),d.TgZ(52,"button",22),d.NdJ("click",function(){return t.resetValue()}),d._uU(53,"Reset"),d.qZA(),d._uU(54,"\xa0 "),d.TgZ(55,"button",22),d.NdJ("click",function(){return t.exportExcel()}),d._uU(56,"Report"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(57,"div",23),d.YNc(58,Mi,19,17,"div",24),d.qZA(),d.qZA(),d.TgZ(59,"label",25),d.TgZ(60,"label",5),d._uU(61,"*"),d.qZA(),d._uU(62," Mandatory field"),d.qZA(),d.qZA()),2&e&&(d.xp6(10),d.Q6J("options",t.dept_list)("ngModel",t.deptname),d.xp6(1),d.Q6J("ngIf",t.nameerror),d.xp6(5),d.Q6J("ngModel",t.designname),d.xp6(3),d.Q6J("ngForOf",t.desig_list),d.xp6(1),d.Q6J("ngIf",t.name1error),d.xp6(8),d.Q6J("ngModel",t.viewattendance)("binary",!0)("disabled",t.disabledviewattendance),d.xp6(3),d.Q6J("ngModel",t.markattendance)("binary",!0)("disabled",t.disabledmarkattendance),d.xp6(3),d.Q6J("ngModel",t.markleave)("binary",!0)("disabled",t.disabledmarkleave),d.xp6(2),d.Q6J("ngIf",t.markattendance),d.xp6(8),d.Q6J("ngModel",t.applyrequest)("binary",!0),d.xp6(3),d.Q6J("ngModel",t.approverequest)("binary",!0),d.xp6(11),d.Q6J("ngIf",t.showtable))},directives:[g._Y,g.JL,g.F,oi.NU,g.JJ,g.On,a.O5,g.EJ,g.YN,g.Kr,a.sg,ui.XZ,p.d,m.mT,g._,g.Fj,ue.iA,o.jx,he.Hq,pe.V,hi.o,ue.Mo,ue.Ei],styles:["form[_ngcontent-%COMP%]{padding-left:20px}[_nghost-%COMP%]     .p-multiselect{width:24vw}@media screen and (max-width:640px){[_nghost-%COMP%]     .p-multiselect{width:68vw}}"]}),e})();function Ci(e,t){if(1&e&&(d.TgZ(0,"option"),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.AsE(" ",e.EmployeeId," - ",e.EmployeeName," ")}}function Ui(e,t){1&e&&(d.TgZ(0,"small",22),d._uU(1,"Please select Employee ID "),d.qZA())}function Ei(e,t){1&e&&(d.TgZ(0,"small",22),d._uU(1,"Please select date "),d.qZA())}function Ii(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr",27),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.qZA(),d.TgZ(13,"td"),d._uU(14),d.qZA(),d.TgZ(15,"td",28),d.NdJ("click",function(t){const i=d.CHM(e).index;return d.oxw(2).deletePunch(t,i)}),d._UZ(16,"mdb-icon",29),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit;d.Q6J("id",t.index),d.xp6(2),d.Oqu(e.EnteredFrom),d.xp6(2),d.Oqu(e.RealDate),d.xp6(2),d.Oqu(e.RealTime),d.xp6(2),d.Oqu(e.OldDate),d.xp6(2),d.Oqu(e.OldTime),d.xp6(2),d.Oqu(e.InOutStatus),d.xp6(2),d.Oqu(e.ProcessStatus)}}function Si(e,t){if(1&e&&(d.TgZ(0,"table",23),d.TgZ(1,"thead"),d.TgZ(2,"tr"),d.TgZ(3,"th",24),d._uU(4,"Gate"),d.qZA(),d.TgZ(5,"th",24),d._uU(6,"Date"),d.qZA(),d.TgZ(7,"th",24),d._uU(8,"Time"),d.qZA(),d.TgZ(9,"th",24),d._uU(10,"Old Date"),d.qZA(),d.TgZ(11,"th",24),d._uU(12,"Old Time"),d.qZA(),d.TgZ(13,"th",24),d._uU(14,"Status"),d.qZA(),d.TgZ(15,"th",24),d._uU(16,"Process Status"),d.qZA(),d.TgZ(17,"th",24),d._uU(18,"Operation"),d.qZA(),d._UZ(19,"th",25),d.qZA(),d.qZA(),d.TgZ(20,"tbody"),d.YNc(21,Ii,17,8,"tr",26),d.qZA(),d.qZA()),2&e){const e=d.oxw();d.xp6(21),d.Q6J("ngForOf",e.modifiedpunches)}}function Di(e,t){1&e&&(d.TgZ(0,"div"),d.TgZ(1,"h3",30),d._uU(2,"Data Not Available"),d.qZA(),d.qZA())}let Ni=(()=>{class e{constructor(e,t,i,n,o){this.confirmationService=e,this.datepipe=t,this.common=i,this.administration=n,this.toast=o,this.showtable=!1,this.yearrange="2010:",this.iderror=!1,this.dateerror=!1,this.date1error=!1,this.employees=[],this.nodata=!1,this.ranges=[{value:[new Date,new Date],label:"Today"},{value:[new Date((new Date).setDate((new Date).getDate()-7)),new Date],label:"Last 7 Days"},{value:[new Date((new Date).getFullYear(),(new Date).getMonth(),1),new Date((new Date).setDate((new Date).getDate()))],label:"This Month"},{value:[new Date((new Date).getFullYear(),(new Date).getMonth()-1,1),new Date((new Date).getFullYear(),(new Date).getMonth(),0)],label:"Last Month"}]}ngOnInit(){var e=this;this.daterangeConfig={containerClass:"theme-dark-blue",showPreviousMonth:!0,isAnimated:!0,rangeInputFormat:"DD/MM/YYYY",maxDateRange:31,showClearButton:!0,clearPosition:"right",selectWeekDateRange:!0,ranges:this.ranges},this.maxDateValue=new Date,this.maxDateValue.setMonth((new Date).getMonth()),this.maxDateValue.setFullYear((new Date).getFullYear()),this.maxDateValue.setDate((new Date).getDate()),this.common.getEmpList().subscribe(function(){var t=(0,l.Z)(function*(t){e.employees=yield t,e.employees=e.employees.data});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Emp List"};this.common.saveLog(t,"ApiException")})}showPunches(){var e=this;if(this.iderror=null==this.empid||""==this.empid.trim(),this.dateerror=null==this.daterange||null==this.daterange[0]||null==this.daterange[1],this.iderror||this.dateerror)return;let t=this.datepipe.transform(this.daterange[0],"dd/MM/yyyy"),i=this.datepipe.transform(this.daterange[1],"dd/MM/yyyy"),n={CID:this.common.getCid(),EmpId:this.empid.split("-")[0].trim(),FromDate:t,ToDate:i};this.administration.showEnteredAndModifiedPunches(n).subscribe(function(){var t=(0,l.Z)(function*(t){e.modifiedpunches=yield t,null!=e.modifiedpunches.data?0!=e.modifiedpunches.data.length?(e.modifiedpunches=e.modifiedpunches.data,e.nodata=!1,e.showtable=!0):(e.nodata=!0,e.showtable=!1):(e.modifiedpunches=[],e.nodata=!0,e.showtable=!1)});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Show Entered & modified Punches"};this.common.saveLog(t,"ApiException")})}resetValue(){this.modifiedpunches=[],this.showtable=!1}setValues(){let e=this.employees.filter(e=>e.EmployeeId==this.empid.split("-")[0].trim());this.alphanumeric=e[0].AlphaNumeric}deletePunch(e,t){var i=this;this.confirmationService.confirm({target:e.target,message:"Are you sure that you want to delete?",icon:"pi pi-exclamation-triangle",accept:()=>{let e={EmpId:this.empid.split("-")[0].trim(),RealDate:this.modifiedpunches[t].RealDate,RealTime:this.modifiedpunches[t].RealTime,mDate:this.modifiedpunches[t].mDate,InOutStatus:this.modifiedpunches[t].InOutStatus,ProcessStatus:this.modifiedpunches[t].ProcessStatus};this.administration.deleteModifiedPunches(e).subscribe(function(){var t=(0,l.Z)(function*(t){let n=yield t;1==n.errorcode?(i.toast.success(n.errormessage,n.errorstring),i.common.insertLog("Administration/EAMP/deleted-"+i.empid+" - "+e.RealDate),i.showPunches()):i.toast.error(n.errormessage,n.errorstring)});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Delete Modified Punches"};this.common.saveLog(t,"ApiException")})},reject:()=>{}})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(o.YP),d.Y36(a.uU),d.Y36(h.v),d.Y36(u.E),d.Y36(B._W))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-entered-and-modified-punches"]],decls:42,vars:10,consts:[[1,"py-2","container-flex"],[1,"row"],[1,"col-sm-6",2,"border-right","1px solid"],[1,"row","mb-3"],["for","input1",1,"col-sm-4","col-form-label",2,"font-weight","bold"],[2,"color","red"],[1,"col-sm-8"],["mdbInput","","name","empid","list","employee",1,"form-control",3,"ngModel","ngModelChange","change"],["id","employee"],[4,"ngFor","ngForOf"],["class","text-danger","style","color: red;",4,"ngIf"],["for","input3",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["mdbInput","","type","text","id","input2","name","alphanumeric","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["for","input5",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["type","text","name","daterange","placeholder","Select Date Range","autocomplete","off","bsDaterangepicker","",1,"p-3","form-control",3,"ngModel","maxDate","bsConfig","ngModelChange"],["appHeading","","mdbBtn","","type","button","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],["appHeading","","mdbBtn","","type","reset","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],[1,"col-sm-6"],[1,"table-responsive","scrollbig"],["class","table table-hover table-sm",4,"ngIf"],[4,"ngIf"],[1,"col-sm-2","col-form-label"],[1,"text-danger",2,"color","red"],[1,"table","table-hover","table-sm"],["appTableHeader","",1,"sticky-top","text-white"],["appTableHeader","",1,"sticky-top"],["style","text-align: center;",3,"id",4,"ngFor","ngForOf"],[2,"text-align","center",3,"id"],[3,"click"],["fas","","icon","trash-alt",2,"color","red"],[1,"text-danger"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"form"),d.TgZ(4,"div",3),d.TgZ(5,"label",4),d._uU(6,"Employee ID "),d.TgZ(7,"sup",5),d._uU(8,"*"),d.qZA(),d.qZA(),d.TgZ(9,"div",6),d.TgZ(10,"input",7),d.NdJ("ngModelChange",function(e){return t.empid=e})("change",function(){return t.setValues()}),d.qZA(),d.TgZ(11,"datalist",8),d.YNc(12,Ci,2,2,"option",9),d.qZA(),d.YNc(13,Ui,2,0,"small",10),d.qZA(),d.qZA(),d.TgZ(14,"div",3),d.TgZ(15,"label",11),d._uU(16,"Alphanumeric ID"),d.qZA(),d.TgZ(17,"div",6),d.TgZ(18,"input",12),d.NdJ("ngModelChange",function(e){return t.alphanumeric=e}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(19,"div",3),d.TgZ(20,"label",13),d._uU(21,"Select Date Range"),d.TgZ(22,"sup",5),d._uU(23,"*"),d.qZA(),d.qZA(),d.TgZ(24,"div",6),d.TgZ(25,"input",14),d.NdJ("ngModelChange",function(e){return t.daterange=e}),d.qZA(),d._UZ(26,"br"),d.YNc(27,Ei,2,0,"small",10),d.qZA(),d.qZA(),d.TgZ(28,"button",15),d.NdJ("click",function(){return t.showPunches()}),d._uU(29,"Show"),d.qZA(),d._uU(30,"\xa0 "),d.TgZ(31,"button",16),d.NdJ("click",function(){return t.resetValue()}),d._uU(32,"Reset"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(33,"div",17),d.TgZ(34,"div",18),d.YNc(35,Si,22,1,"table",19),d.YNc(36,Di,3,0,"div",20),d.qZA(),d.qZA(),d.qZA(),d.TgZ(37,"label",21),d.TgZ(38,"sup",5),d._uU(39,"*"),d.qZA(),d._uU(40," Mandatory field"),d.qZA(),d.qZA(),d._UZ(41,"p-confirmPopup")),2&e&&(d.xp6(10),d.Q6J("ngModel",t.empid),d.xp6(2),d.Q6J("ngForOf",t.employees),d.xp6(1),d.Q6J("ngIf",t.iderror),d.xp6(5),d.Q6J("ngModel",t.alphanumeric),d.xp6(7),d.Q6J("ngModel",t.daterange)("maxDate",t.maxDateValue)("bsConfig",t.daterangeConfig),d.xp6(2),d.Q6J("ngIf",t.dateerror),d.xp6(8),d.Q6J("ngIf",t.showtable),d.xp6(1),d.Q6J("ngIf",t.nodata))},directives:[g._Y,g.JL,g.F,g.Fj,m.Hq,g.JJ,g.On,a.sg,a.O5,nt.TB,nt.FR,p.d,m.mT,pt,g.YN,g.Kr,ge.v,m.Ui,m.XI],styles:[""]}),e})();function Li(e,t){if(1&e&&(d.TgZ(0,"option"),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.AsE(" ",e.EmployeeId," - ",e.EmployeeName," ")}}function Ji(e,t){1&e&&(d.TgZ(0,"small",17),d._uU(1,"Please select Employee ID "),d.qZA())}function Fi(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",2),d.TgZ(1,"label",18),d._uU(2,"Module "),d.qZA(),d.TgZ(3,"div",19),d.TgZ(4,"mat-radio-group",20),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().module=t})("change",function(){return d.CHM(e),d.oxw().getMenuList()}),d.TgZ(5,"mat-radio-button",21),d._uU(6,"ETAM "),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(4),d.Q6J("ngModel",e.module),d.xp6(1),d.Q6J("value","ETAM")}}function Oi(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",25),d.TgZ(1,"p-checkbox",26),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).selectedMenus=t}),d.qZA(),d._uU(2),d.qZA()}if(2&e){const e=t.$implicit,i=t.index,n=d.oxw(2);d.xp6(1),d.Q6J("value",e)("ngModel",n.selectedMenus)("inputId",i),d.xp6(1),d.hij("\xa0",n.menu_list[e]," ")}}function Gi(e,t){if(1&e&&(d.TgZ(0,"div",2),d.TgZ(1,"label",22),d._uU(2,"Menu "),d.TgZ(3,"sup",4),d._uU(4,"*"),d.qZA(),d.qZA(),d.TgZ(5,"div",5),d.TgZ(6,"div",23),d.YNc(7,Oi,3,4,"div",24),d.qZA(),d.qZA(),d.qZA()),2&e){const e=d.oxw();d.xp6(7),d.Q6J("ngForOf",e.keys)}}let Ri=(()=>{class e{constructor(e,t,i){this.administration=e,this.toast=t,this.common=i,this.iderror=!1,this.menuerror=!1,this.ro_list=[],this.selectedMenus=[],this.menu_list=[],this.keys=[]}ngOnInit(){this.getROList()}getROList(){var e=this;this.administration.getROList().subscribe(function(){var t=(0,l.Z)(function*(t){e.ro_list=yield t,e.ro_list=1!=e.ro_list.errorcode||null==e.ro_list.data&&0==e.ro_list.data.length?[]:e.ro_list.data});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"RO List"};this.common.saveLog(t,"ApiException")})}getMenuList(){var e=this;if(this.administration.getModuleList(this.module).subscribe(function(){var t=(0,l.Z)(function*(t){e.menu_list=yield t,e.menu_list=e.menu_list.data[0],e.keys=Object.keys(e.menu_list),e.keys=e.keys.map(e=>Number(e))});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Get Module List"};this.common.saveLog(t,"ApiException")}),!this.allro){let t=[this.empid.split("-")[0].trim(),this.alphanumericid];this.administration.getEmployeeMenu(t).subscribe(function(){var t=(0,l.Z)(function*(t){let i=yield t;null==i.data&&0==i.data.length||(i=i.data,i=i.map(e=>Number(e)),e.selectedMenus=i)});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Get Employee Menu"};this.common.saveLog(t,"ApiException")})}}savemenu(){var e=this;if(this.allro||(this.iderror=null==this.empid||""==this.empid),this.iderror)return;if(!this.module)return void this.toast.warning("Please select Module!!");let t=this.keys.filter(e=>!this.selectedMenus.includes(e)),i=[];if(this.allro){let e=this.ro_list.map(e=>e.AlphaNumeric);i={CID:this.common.getCid(),allro:"true",empid:"",ROList:e,uid:"",save:this.selectedMenus,delete:t}}else i={CID:this.common.getCid(),allro:"false",empid:this.empid.split("-")[0].trim(),ROList:[],uid:this.alphanumericid,save:this.selectedMenus,delete:t};this.administration.saveAssignMenu(i).subscribe(function(){var t=(0,l.Z)(function*(t){1==(yield t).errorcode?(e.toast.success("Menu Assigned successfully","Success"),e.common.insertLog(e.allro?"Administration/AssignMenu-AllRO":"Administration/AssignMenu-"+e.empid),e.resetValue()):e.toast.error("Menu assigned failed!!!","Failure")});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Save Assign Menu"};this.common.saveLog(t,"ApiException")})}setValues(){let e=this.ro_list.filter(e=>e.EmployeeId==this.empid.split("-")[0].trim());this.alphanumericid=e[0].AlphaNumeric}resetValue(){this.allro=!1,document.getElementById("employeeid").disabled=!1,this.module="",this.empid="",this.alphanumericid=""}disabledForm(){let e=document.getElementById("employeeid");this.allro?(this.empid="",this.alphanumericid="",e.disabled=!0,this.selectedMenus=[]):(this.empid="",this.alphanumericid="",e.disabled=!1)}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(u.E),d.Y36(B._W),d.Y36(h.v))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-assign-menu"]],decls:32,vars:8,consts:[[1,"py-2","container-flex"],[1,"container-flex"],[1,"row","mb-3"],["for","input2",1,"col-sm-4","col-form-label",2,"font-weight","bold"],[2,"color","red"],[1,"col-sm-8"],["mdbInput","","name","empid","id","employeeid","list","employee","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","change"],["id","employee"],[4,"ngFor","ngForOf"],["class","text-danger","style","color: red",4,"ngIf"],["name","group","id","allro",3,"ngModel","binary","ngModelChange","onChange"],["for","input3",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["mdbInput","","type","text","name","alphanumeric","id","input3","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["class","row mb-3",4,"ngIf"],["appHeading","","mdbBtn","","type","button","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],["appHeading","","mdbBtn","","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],[1,"col-sm-2","col-form-label"],[1,"text-danger",2,"color","red"],["for","input5",1,"col-sm-4","col-form-label",2,"font-weight","bold"],[1,"col-sm-3"],["aria-labelledby","example-radio-group-label","name","module",1,"example-radio-group",3,"ngModel","ngModelChange","change"],["id","ETAM",1,"example-radio-button",3,"value"],["for","input6",1,"col-sm-4","col-form-label",2,"font-weight","bold"],[1,"p-fluid","p-grid","p-formgrid"],["class","p-sm-2",4,"ngFor","ngForOf"],[1,"p-sm-2"],["name","group1",3,"value","ngModel","inputId","ngModelChange"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"form"),d.TgZ(3,"div",2),d.TgZ(4,"label",3),d._uU(5,"Employee ID "),d.TgZ(6,"sup",4),d._uU(7,"*"),d.qZA(),d.qZA(),d.TgZ(8,"div",5),d.TgZ(9,"input",6),d.NdJ("ngModelChange",function(e){return t.empid=e})("change",function(){return t.setValues()}),d.qZA(),d.TgZ(10,"datalist",7),d.YNc(11,Li,2,2,"option",8),d.qZA(),d.YNc(12,Ji,2,0,"small",9),d._UZ(13,"br"),d.TgZ(14,"p-checkbox",10),d.NdJ("ngModelChange",function(e){return t.allro=e})("onChange",function(){return t.disabledForm()}),d.qZA(),d._uU(15,"\xa0All RO "),d.qZA(),d.qZA(),d.TgZ(16,"div",2),d.TgZ(17,"label",11),d._uU(18,"User ID "),d.qZA(),d.TgZ(19,"div",5),d.TgZ(20,"input",12),d.NdJ("ngModelChange",function(e){return t.alphanumericid=e}),d.qZA(),d.qZA(),d.qZA(),d.YNc(21,Fi,7,2,"div",13),d.YNc(22,Gi,8,1,"div",13),d.TgZ(23,"button",14),d.NdJ("click",function(){return t.savemenu()}),d._uU(24," Save"),d.qZA(),d._uU(25,"\xa0 "),d.TgZ(26,"button",15),d.NdJ("click",function(){return t.resetValue()}),d._uU(27," Reset "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(28,"label",16),d.TgZ(29,"sup",4),d._uU(30,"*"),d.qZA(),d._uU(31," Mandatory field"),d.qZA(),d.qZA()),2&e&&(d.xp6(9),d.Q6J("ngModel",t.empid),d.xp6(2),d.Q6J("ngForOf",t.ro_list),d.xp6(1),d.Q6J("ngIf",t.iderror),d.xp6(2),d.Q6J("ngModel",t.allro)("binary",!0),d.xp6(6),d.Q6J("ngModel",t.alphanumericid),d.xp6(1),d.Q6J("ngIf",t.empid||t.allro),d.xp6(1),d.Q6J("ngIf",t.module&&(t.empid||t.allro)))},directives:[g._Y,g.JL,g.F,g.Fj,m.Hq,g.JJ,g.On,a.sg,a.O5,ui.XZ,p.d,m.mT,g.YN,g.Kr,P.VQ,P.U0],styles:[""]}),e})();function Yi(e,t){if(1&e&&(d.TgZ(0,"option",8),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("value",e),d.xp6(1),d.hij(" ",e," ")}}function Qi(e,t){1&e&&(d.TgZ(0,"div"),d.TgZ(1,"div",9),d.TgZ(2,"div",10),d.TgZ(3,"h1",11),d._uU(4,"Administration"),d.qZA(),d.qZA(),d.TgZ(5,"div",10),d.TgZ(6,"ul"),d.TgZ(7,"li"),d.TgZ(8,"h4"),d._uU(9,"Select Option "),d._UZ(10,"mdb-icon",12),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA())}function Bi(e,t){1&e&&(d.TgZ(0,"div"),d._UZ(1,"app-control-centre"),d.qZA())}function Pi(e,t){1&e&&(d.TgZ(0,"div"),d._UZ(1,"app-device-status"),d.qZA())}function Hi(e,t){1&e&&(d.TgZ(0,"div"),d._UZ(1,"app-daily-punches"),d.qZA())}function zi(e,t){1&e&&(d.TgZ(0,"div"),d._UZ(1,"app-transaction-edit"),d.qZA())}function ji(e,t){1&e&&(d.TgZ(0,"div"),d._UZ(1,"app-device-set-time"),d.qZA())}function Wi(e,t){1&e&&(d.TgZ(0,"div"),d._UZ(1,"app-daily-query-mobile"),d.qZA())}function Vi(e,t){1&e&&(d.TgZ(0,"small",22),d.TgZ(1,"sup"),d._uU(2,"* "),d.qZA(),d._uU(3,"Date cannot be blank"),d.qZA())}function $i(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"div",13),d.TgZ(2,"div",14),d.TgZ(3,"div",15),d.TgZ(4,"label",16),d._uU(5,"From Date"),d.TgZ(6,"sup",17),d._uU(7,"*"),d.qZA(),d.qZA(),d.TgZ(8,"input",18),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().date=t}),d.qZA(),d.YNc(9,Vi,4,0,"small",19),d.qZA(),d.TgZ(10,"div",20),d.TgZ(11,"button",21),d.NdJ("click",function(){return d.CHM(e),d.oxw().downloadTextFile()}),d._uU(12," Download "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(8),d.Q6J("ngModel",e.date),d.xp6(1),d.Q6J("ngIf",e.dateerror)}}function Ki(e,t){1&e&&(d.TgZ(0,"div"),d._UZ(1,"app-monthly-employee-wise-present-days"),d.qZA())}function Xi(e,t){1&e&&(d.TgZ(0,"div"),d._UZ(1,"app-reset-mobile-settings"),d.qZA())}function en(e,t){1&e&&(d.TgZ(0,"div"),d._UZ(1,"app-apply-mobile-settings"),d.qZA())}function tn(e,t){1&e&&(d.TgZ(0,"div"),d._UZ(1,"app-entered-and-modified-punches"),d.qZA())}function nn(e,t){1&e&&(d.TgZ(0,"div"),d._UZ(1,"app-assign-menu"),d.qZA())}const on=[{path:"",component:(()=>{class e{constructor(e,t,i,n,o){this.router=e,this.route=t,this.datepipe=i,this.administrtion=n,this.common=o,this.dateerror=!1,this.spinner=c.aS,this.navbaroptions=["Control Centre","Device Status","Daily Punches","Transaction Edit","Monthly Employee Wise Present Days","Entered and Modified Punches","Assign Menu"],this.selectedRoute="--Select Option--"}ngOnInit(){this.date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.clientInfo=this.common.getLocalStorage(),null!=this.clientInfo.Text_File_Generation&&"Y"==this.clientInfo.Text_File_Generation&&this.navbaroptions.push("Download Text File"),null!=this.clientInfo.Mobile_Application&&"Y"==this.clientInfo.Mobile_Application&&(this.navbaroptions.push("Apply Mobile Setting"),this.navbaroptions.push("Reset Mobile Setting"),this.navbaroptions.push("Daily Query Mobile"))}getSelectedRoute(e){this.selectedRoute=e.target.value}downloadTextFile(){var e=this;if(""==this.date)return void(this.dateerror=!0);this.dateerror=!1;var t=new Date(this.date);let i="";t=this.datepipe.transform(t,"dd/MM/yyyy"),this.administrtion.downloadTextFile(t).subscribe(function(){var t=(0,l.Z)(function*(t){let n=yield t;for(let e=0;e<n.data.length;e++)i+=n.data[e]+"\r\n";const o=new Blob([i],{type:"text/plain"}),s="AT"+e.datepipe.transform(e.date,"ddMMyyyy")+".txt";let a=document.createElement("a");a.download=s,null!=window.webkitURL?a.href=window.webkitURL.createObjectURL(o):(a.href=window.URL.createObjectURL(o),a.style.display="none",document.body.appendChild(a)),a.click()});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Download Text File"};this.common.saveLog(t,"ApiException")})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(r.F0),d.Y36(r.gz),d.Y36(a.uU),d.Y36(u.E),d.Y36(h.v))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-navbar-administration"]],decls:21,vars:17,consts:[[3,"fgsColor","fgsType"],[1,"mt-2","p-4"],[1,"col-sm-12","mb-2"],["appHeading","","name","selectedRoute",1,"py-3","text-center",2,"font-size","large","width","100%",3,"change"],["value","--Select Option--","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"value"],[1,"mt-5","p-2"],[1,"d-flex","justify-content-center"],[1,"text-primary"],["fas","","icon","arrow-up"],[1,"container-flex","mt-5"],[1,"container-flex","row","mt-3","d-flex","justify-content-center"],[1,"col-sm-3"],["for","date",1,"form-label"],[2,"color","red"],["type","date","id","date",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"col-sm-2","mt-3"],["appHeading","","mdbBtn","","type","submit","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],[1,"text-danger"]],template:function(e,t){1&e&&(d._UZ(0,"ngx-ui-loader",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"select",3),d.NdJ("change",function(e){return t.getSelectedRoute(e)}),d.TgZ(4,"option",4),d._uU(5,"--Select Option--"),d.qZA(),d.YNc(6,Yi,2,2,"option",5),d.qZA(),d.qZA(),d.TgZ(7,"div",6),d.YNc(8,Qi,11,0,"div",7),d.YNc(9,Bi,2,0,"div",7),d.YNc(10,Pi,2,0,"div",7),d.YNc(11,Hi,2,0,"div",7),d.YNc(12,zi,2,0,"div",7),d.YNc(13,ji,2,0,"div",7),d.YNc(14,Wi,2,0,"div",7),d.YNc(15,$i,13,2,"div",7),d.YNc(16,Ki,2,0,"div",7),d.YNc(17,Xi,2,0,"div",7),d.YNc(18,en,2,0,"div",7),d.YNc(19,tn,2,0,"div",7),d.YNc(20,nn,2,0,"div",7),d.qZA(),d.qZA()),2&e&&(d.Q6J("fgsColor","white")("fgsType",t.spinner.rectangleBouncePulseOut),d.xp6(6),d.Q6J("ngForOf",t.navbaroptions),d.xp6(1),d.Q6J("ngSwitch",t.selectedRoute),d.xp6(1),d.Q6J("ngSwitchCase","--Select Option--"),d.xp6(1),d.Q6J("ngSwitchCase","Control Centre"),d.xp6(1),d.Q6J("ngSwitchCase","Device Status"),d.xp6(1),d.Q6J("ngSwitchCase","Daily Punches"),d.xp6(1),d.Q6J("ngSwitchCase","Transaction Edit"),d.xp6(1),d.Q6J("ngSwitchCase","Device Set Time"),d.xp6(1),d.Q6J("ngSwitchCase","Daily Query Mobile"),d.xp6(1),d.Q6J("ngSwitchCase","Download Text File"),d.xp6(1),d.Q6J("ngSwitchCase","Monthly Employee Wise Present Days"),d.xp6(1),d.Q6J("ngSwitchCase","Reset Mobile Setting"),d.xp6(1),d.Q6J("ngSwitchCase","Apply Mobile Setting"),d.xp6(1),d.Q6J("ngSwitchCase","Entered and Modified Punches"),d.xp6(1),d.Q6J("ngSwitchCase","Assign Menu"))},directives:[c.Jj,p.d,g.YN,g.Kr,a.sg,a.RF,a.n9,m.Ui,m.XI,He,je,tt,St,Ot,Pt,g.Fj,g.JJ,g.On,a.O5,m.mT,ni,di,ki,Ni,Ri],styles:[""]}),e})()}];let sn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[r.Bz.forChild(on)],r.Bz]}),e})();var an=i(42693),rn=i(37160),ln=i(91709);const cn={bgsColor:"blue",bgsType:c.aS.rectangleBouncePulseOut};let dn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({providers:[B._W,u.E,{provide:ee,useValue:{color:"warn"}},{provide:P._J,useValue:{color:"warn"}},a.uU,h.v,o.YP],imports:[[a.ez,sn,Q.forRoot(),m.Fq,m.pc,g.u5,g.UX,P.Fk,B.Rh.forRoot(),an.JF,de,c.Js.forRoot(cn),c.Cz.forRoot({showForeground:!0}),rn.o,ln._8,ue.U$,m.rw,hi.j,pe.S,s.G,gt,ui.nD,he.hJ,n.c,oi.q4,it.WN,nt.kn.forRoot()]]}),e})()}}]);