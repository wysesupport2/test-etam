(self.webpackChunketam_prime=self.webpackChunketam_prime||[]).push([[299],{69299:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ApplicationModule:()=>lt});var o=a(41956),i=a(37160),n=a(2619),l=a(31041),s=a(81888),d=a(61116),r=a(16304),c=a(22501),p=a.n(c),u=a(35366),h=a(13287),f=a(9017),g=a(3492),m=a(33074),Z=a(68003),y=a(77080),v=a(50236),_=a(92290),T=a(37456),A=a(87672),x=a(69024),q=a(7436),b=a(7627),M=a(5592),C=a(39313);function L(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"p-selectButton",8),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw().activeItem=t})("onOptionClick",function(t){return u.CHM(e),u.oxw().onOptionSelection(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("options",e.items)("ngModel",e.activeItem)}}function D(e,t){if(1&e&&(u.TgZ(0,"option",11),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.Q6J("value",e),u.xp6(1),u.Oqu(e)}}function w(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"select",9),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw().formtype=t})("change",function(){return u.CHM(e),u.oxw().changeOption()}),u.YNc(1,D,2,2,"option",10),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("ngModel",e.formtype),u.xp6(1),u.Q6J("ngForOf",e.applicationOption)}}function E(e,t){if(1&e&&(u.TgZ(0,"h4"),u.TgZ(1,"b"),u._uU(2,"R.O. - "),u.qZA(),u._uU(3),u.qZA()),2&e){const e=u.oxw();u.xp6(3),u.AsE("",e.ro_details.RO_Id," - ",e.ro_details.RO_Name,"")}}function I(e,t){if(1&e&&(u.TgZ(0,"div"),u.TgZ(1,"div"),u._uU(2),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(2),u.AsE("",e.EmployeeId," - ",e.EmployeeName,"")}}function U(e,t){1&e&&(u.TgZ(0,"small",24),u._uU(1,"Please select Employee ID "),u.qZA())}function N(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"label",19),u._uU(2,"Employee ID "),u.TgZ(3,"sup",20),u._uU(4,"*"),u.qZA(),u.qZA(),u.TgZ(5,"div",15),u.TgZ(6,"form"),u.TgZ(7,"p-autoComplete",21),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).empid_encash=t})("completeMethod",function(t){return u.CHM(e),u.oxw(2).filterEmployees(t)})("onSelect",function(){return u.CHM(e),u.oxw(2).getEncashDetails()}),u.YNc(8,I,3,2,"ng-template",22),u.qZA(),u.YNc(9,U,2,0,"small",23),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(7),u.Q6J("ngModel",e.empid_encash)("suggestions",e.filteredEmployees)("dropdown",!0),u.xp6(2),u.Q6J("ngIf",e.iderror)}}function J(e,t){if(1&e&&(u.TgZ(0,"option",11),u._uU(1),u.ALo(2,"uppercase"),u.qZA()),2&e){const e=t.$implicit;u.Q6J("value",e.Leave_Type),u.xp6(1),u.Oqu(u.lcZ(2,2,e.Leave_Desc))}}function O(e,t){1&e&&(u.TgZ(0,"small",24),u._uU(1,"Please select Leave Type "),u.qZA())}function k(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"label",19),u._uU(2,"Leave Type"),u.TgZ(3,"sup",20),u._uU(4,"*"),u.qZA(),u.qZA(),u.TgZ(5,"div",25),u.TgZ(6,"select",26),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).selectedEncashLeave=t})("change",function(){return u.CHM(e),u.oxw(2).getEncashLeaveBalance()}),u.TgZ(7,"option",27),u._uU(8,"--Select Leave Type--"),u.qZA(),u.YNc(9,J,3,4,"option",10),u.qZA(),u.YNc(10,O,2,0,"small",28),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(6),u.Q6J("ngModel",e.selectedEncashLeave),u.xp6(1),u.Q6J("value","-1"),u.xp6(2),u.Q6J("ngForOf",e.encash_leave_type),u.xp6(1),u.Q6J("ngIf",e.leaveerror)}}function R(e,t){if(1&e&&(u.TgZ(0,"h3",34),u._uU(1),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.AsE("",e.selectedEncashLeaveDetails.Current_Balance," / ",e.selectedEncashLeaveDetails.Current_Year,"")}}function Q(e,t){if(1&e&&(u.TgZ(0,"h3",34),u._uU(1),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.AsE("",e.selectedEncashLeaveDetails.Encashment_Balance," / ",e.selectedEncashLeaveDetails.Encashment_Year,"")}}function S(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",29),u.TgZ(1,"div",18),u.TgZ(2,"label",19),u._uU(3,"Balance Type"),u.TgZ(4,"sup",20),u._uU(5,"*"),u.qZA(),u.qZA(),u.TgZ(6,"div",25),u.TgZ(7,"select",30),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).selectedBalanceType=t})("change",function(){return u.CHM(e),u.oxw(2).getDaysToBeEncashed()}),u.TgZ(8,"option",31),u._uU(9,"Current Balance"),u.qZA(),u.TgZ(10,"option",32),u._uU(11,"Encashment Balance"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",18),u.TgZ(13,"label",19),u._uU(14,"Balance / Leave Year"),u.qZA(),u.TgZ(15,"div",25),u.YNc(16,R,2,2,"h3",33),u.YNc(17,Q,2,2,"h3",33),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(7),u.Q6J("ngModel",e.selectedBalanceType),u.xp6(9),u.Q6J("ngIf","Current Balance"==e.selectedBalanceType),u.xp6(1),u.Q6J("ngIf","Encashment Balance"==e.selectedBalanceType)}}function H(e,t){if(1&e&&(u.TgZ(0,"option"),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.xp6(1),u.Oqu(e)}}function F(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",18),u.TgZ(2,"div",15),u.TgZ(3,"div",18),u.TgZ(4,"label",19),u._uU(5,"No. of Days to be Encashed"),u.TgZ(6,"sup",35),u._uU(7,"*"),u.qZA(),u.qZA(),u.TgZ(8,"div",25),u.TgZ(9,"select",36),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).days_to_be_encashed=t}),u.YNc(10,H,2,1,"option",37),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"div",15),u.TgZ(12,"div",14),u.TgZ(13,"label",38),u._uU(14,"Reason"),u.qZA(),u.TgZ(15,"div",25),u.TgZ(16,"input",39),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).reason_to_encash=t}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(17,"hr"),u.TgZ(18,"div",40),u.TgZ(19,"div",41),u.TgZ(20,"button",42),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).applyEncashment()}),u._uU(21,"Submit"),u.qZA(),u.qZA(),u.TgZ(22,"div",41),u.TgZ(23,"button",42),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).resetEncashValue()}),u._uU(24,"Reset"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(9),u.Q6J("ngModel",e.days_to_be_encashed),u.xp6(1),u.Q6J("ngForOf",e.days),u.xp6(6),u.Q6J("ngModel",e.reason_to_encash)}}function Y(e,t){if(1&e&&(u.TgZ(0,"div"),u.TgZ(1,"div",12),u.TgZ(2,"form",13),u.TgZ(3,"div",14),u.TgZ(4,"div",15),u.YNc(5,N,10,4,"div",16),u.YNc(6,k,11,4,"div",16),u.qZA(),u.YNc(7,S,18,3,"div",17),u.qZA(),u._UZ(8,"hr"),u.YNc(9,F,25,3,"div",5),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Q6J("ngIf",e.RO_Login),u.xp6(1),u.Q6J("ngIf",e.showencashdetails),u.xp6(1),u.Q6J("ngIf",(null!=e.empid_encash.EmployeeId||!e.RO_Login)&&"-1"!=e.selectedEncashLeave),u.xp6(2),u.Q6J("ngIf",e.showencashdetails&&"-1"!=e.selectedEncashLeave)}}function B(e,t){if(1&e&&(u.TgZ(0,"div"),u.TgZ(1,"div"),u._uU(2),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(2),u.AsE("",e.EmployeeId," - ",e.EmployeeName,"")}}function P(e,t){1&e&&(u.TgZ(0,"small",24),u._uU(1,"Please select Employee ID "),u.qZA())}function V(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"label",19),u._uU(2,"Employee ID "),u.TgZ(3,"sup",20),u._uU(4,"*"),u.qZA(),u.qZA(),u.TgZ(5,"div",25),u.TgZ(6,"p-autoComplete",21),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).empid=t})("completeMethod",function(t){return u.CHM(e),u.oxw(2).filterEmployees(t)})("onSelect",function(){return u.CHM(e),u.oxw(2).getEmployeeLeaveDetails()}),u.YNc(7,B,3,2,"ng-template",22),u.qZA(),u.YNc(8,P,2,0,"small",23),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(6),u.Q6J("ngModel",e.empid)("suggestions",e.filteredEmployees)("dropdown",!0),u.xp6(2),u.Q6J("ngIf",e.iderror)}}function $(e,t){if(1&e&&(u.TgZ(0,"option",11),u._uU(1),u.ALo(2,"uppercase"),u.qZA()),2&e){const e=t.$implicit;u.Q6J("value",e.Leave_Type),u.xp6(1),u.hij(" ",u.lcZ(2,2,e.Leave_Desc),"")}}function W(e,t){1&e&&(u.TgZ(0,"small",24),u._uU(1,"Please select Leave Type "),u.qZA())}function j(e,t){if(1&e&&(u.TgZ(0,"h3",34),u.TgZ(1,"abbr",52),u._uU(2,"CB"),u.qZA(),u._uU(3," :\xa0"),u.TgZ(4,"b"),u._uU(5),u.qZA(),u._uU(6,"\xa0"),u.TgZ(7,"abbr",53),u._uU(8,"Min-Max"),u.qZA(),u._uU(9," :\xa0"),u.TgZ(10,"b"),u._uU(11),u.qZA(),u._uU(12,"\xa0"),u.TgZ(13,"abbr",54),u._uU(14,"ALB"),u.qZA(),u._uU(15," :\xa0"),u.TgZ(16,"b"),u._uU(17),u.qZA(),u._uU(18,"\xa0"),u.qZA()),2&e){const e=u.oxw(3);u.xp6(5),u.Oqu(e.lb[0].Current_Balance),u.xp6(6),u.AsE("",e.lb[0].Min_allowed_to_take," - ",e.lb[0].Max_allowed_to_take,""),u.xp6(6),u.Oqu(e.lb[0].Advanced_current_Balance)}}function z(e,t){1&e&&u._UZ(0,"mat-spinner",55),2&e&&u.Q6J("diameter",25)}function G(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",14),u.TgZ(1,"label",19),u._uU(2,"Leave Type"),u.TgZ(3,"sup",20),u._uU(4,"*"),u.qZA(),u.qZA(),u.TgZ(5,"div",49),u.TgZ(6,"select",26),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).selectedLeave=t})("change",function(){return u.CHM(e),u.oxw(2).getLeaveBalance()}),u.TgZ(7,"option",27),u._uU(8,"--Select Leave Type--"),u.qZA(),u.YNc(9,$,3,4,"option",10),u.qZA(),u.YNc(10,W,2,0,"small",28),u.YNc(11,j,19,4,"h3",33),u.qZA(),u.TgZ(12,"div",50),u.YNc(13,z,1,1,"mat-spinner",51),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(6),u.Q6J("ngModel",e.selectedLeave),u.xp6(1),u.Q6J("value","-1"),u.xp6(2),u.Q6J("ngForOf",e.leave_type),u.xp6(1),u.Q6J("ngIf",e.leaveerror),u.xp6(1),u.Q6J("ngIf","-1"!=e.selectedLeave&&"N"==e.lb[0].No_Leave_Balance),u.xp6(2),u.Q6J("ngIf",e.showleavespinner)}}function K(e,t){1&e&&(u.TgZ(0,"small",35),u._uU(1,"Select From Date"),u.qZA())}function X(e,t){1&e&&(u.TgZ(0,"small",35),u._uU(1,"Select To Date"),u.qZA())}function ee(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",66),u.TgZ(1,"mat-radio-group",67),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(4).halftype=t})("change",function(){return u.CHM(e),u.oxw(4).calculateDays()}),u.TgZ(2,"mat-radio-button",68),u._uU(3,"First Half "),u.qZA(),u._uU(4,"\xa0 "),u.TgZ(5,"mat-radio-button",69),u._uU(6,"Second Half"),u.qZA(),u._uU(7,"\xa0 "),u.TgZ(8,"mat-radio-button",70),u._uU(9,"Full Day"),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(4);u.xp6(1),u.Q6J("ngModel",e.halftype),u.xp6(7),u.Q6J("checked",!0)}}function te(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",66),u.TgZ(1,"label",71),u._uU(2,"From-Date"),u.qZA(),u.TgZ(3,"mat-radio-group",72),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(4).from_halftype=t})("change",function(){return u.CHM(e),u.oxw(4).calculateDays()}),u.TgZ(4,"mat-radio-button",73),u._uU(5,"Half Day"),u.qZA(),u._uU(6," \xa0 "),u.TgZ(7,"mat-radio-button",74),u._uU(8,"Full Day "),u.qZA(),u.qZA(),u.TgZ(9,"label",75),u._uU(10,"To-Date"),u.qZA(),u.TgZ(11,"mat-radio-group",76),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(4).to_halftype=t})("change",function(){return u.CHM(e),u.oxw(4).calculateDays()}),u.TgZ(12,"mat-radio-button",77),u._uU(13,"Half Day"),u.qZA(),u._uU(14,"\xa0 "),u.TgZ(15,"mat-radio-button",78),u._uU(16,"Full Day "),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(4);u.xp6(3),u.Q6J("ngModel",e.from_halftype),u.xp6(4),u.Q6J("checked",!0),u.xp6(4),u.Q6J("ngModel",e.to_halftype),u.xp6(4),u.Q6J("checked",!0)}}function ae(e,t){if(1&e&&(u.TgZ(0,"div",18),u.YNc(1,ee,10,2,"div",65),u.YNc(2,te,17,4,"div",65),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",e.datepipe.transform(e.fromdate,"dd-MM-yyyy")==e.datepipe.transform(e.todate,"dd-MM-yyyy")&&e.halfdayleave&&e.lb[0].Min_allowed_to_take<1),u.xp6(1),u.Q6J("ngIf",e.datepipe.transform(e.fromdate,"dd-MM-yyyy")!=e.datepipe.transform(e.todate,"dd-MM-yyyy"))}}function oe(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",14),u.TgZ(1,"div",56),u.TgZ(2,"div",57),u.TgZ(3,"input",58),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).fromdate=t})("click",function(){return u.CHM(e),u.MAs(6).open()}),u.qZA(),u.YNc(4,K,2,0,"small",59),u._UZ(5,"mat-datepicker",60,61),u.qZA(),u.qZA(),u.TgZ(7,"div",56),u.TgZ(8,"div",57),u.TgZ(9,"input",62),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).todate=t})("click",function(){return u.CHM(e),u.MAs(12).open()})("dateInput",function(){return u.CHM(e),u.oxw(2).onValueChange()}),u.qZA(),u.YNc(10,X,2,0,"small",59),u._UZ(11,"mat-datepicker",63,64),u.qZA(),u.qZA(),u.YNc(13,ae,3,2,"div",16),u.qZA()}if(2&e){const e=u.MAs(6),t=u.MAs(12),a=u.oxw(2);u.xp6(3),u.Q6J("ngModel",a.fromdate)("matDatepicker",e)("min",a.fromdate),u.xp6(1),u.Q6J("ngIf",a.fromdateerror&&(""==a.fromdate||null==a.fromdate)),u.xp6(5),u.Q6J("ngModel",a.todate)("matDatepicker",t)("min",a.fromdate),u.xp6(1),u.Q6J("ngIf",a.todateerror&&(""==a.todate||null==a.todate)),u.xp6(1),u.Q6J("startAt",a.fromdate),u.xp6(2),u.Q6J("ngIf",null!=a.fromdate&&null!=a.todate)}}function ie(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"label",79),u._uU(2,"No. Of Days Leave Taken"),u.qZA(),u.TgZ(3,"div",25),u.TgZ(4,"input",80),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).no_of_days_leave_taken=t}),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(4),u.Q6J("ngModel",e.no_of_days_leave_taken)}}function ne(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"label",81),u._uU(2,"Reason for leave"),u.qZA(),u.TgZ(3,"div",25),u.TgZ(4,"input",82),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).reason_for_leave=t}),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(4),u.Q6J("ngModel",e.reason_for_leave)}}function le(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"label",81),u._uU(2,"Upload the required file for evidence or Proof "),u.qZA(),u.TgZ(3,"div",25),u.TgZ(4,"input",83,84),u.NdJ("change",function(){u.CHM(e);const t=u.MAs(5);return u.oxw(2).fileUploaded(t.files)}),u.qZA(),u.qZA(),u.qZA()}}function se(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(2),u.Oqu(e.Date),u.xp6(2),u.Oqu(e.InTime),u.xp6(2),u.Oqu(e.OutTime),u.xp6(2),u.Oqu(e.Status),u.xp6(2),u.Oqu(e.LeaveStatus)}}function de(e,t){if(1&e&&(u.TgZ(0,"div",29),u.TgZ(1,"div",85),u.TgZ(2,"table",86),u.TgZ(3,"thead"),u.TgZ(4,"tr"),u.TgZ(5,"th"),u._uU(6,"Date"),u.qZA(),u.TgZ(7,"th"),u._uU(8,"InTime"),u.qZA(),u.TgZ(9,"th"),u._uU(10,"OutTime"),u.qZA(),u.TgZ(11,"th"),u._uU(12,"Status"),u.qZA(),u.TgZ(13,"th"),u._uU(14,"Leave Status"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(15,"tbody"),u.YNc(16,se,11,5,"tr",37),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(16),u.Q6J("ngForOf",e.leave_days_data)}}function re(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",12),u.TgZ(2,"div",14),u.TgZ(3,"div",15),u.TgZ(4,"form"),u.YNc(5,V,9,4,"div",16),u.YNc(6,G,14,6,"div",43),u.YNc(7,oe,14,10,"div",44),u.YNc(8,ie,5,1,"div",16),u.YNc(9,ne,5,1,"div",16),u.YNc(10,le,6,0,"div",16),u.TgZ(11,"div",14),u.TgZ(12,"div",45),u.TgZ(13,"button",46),u.NdJ("click",function(){return u.CHM(e),u.oxw().applyLeave()}),u._uU(14,"Submit Leave"),u.qZA(),u._uU(15,"\xa0 "),u.TgZ(16,"button",47),u.NdJ("click",function(){return u.CHM(e),u.oxw().resetValue()}),u._uU(17,"Reset"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(18,"p-messages",48),u.NdJ("valueChange",function(t){return u.CHM(e),u.oxw().leaveStatus=t}),u.qZA(),u.qZA(),u.qZA(),u.YNc(19,de,17,1,"div",17),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw();u.xp6(5),u.Q6J("ngIf",e.RO_Login),u.xp6(1),u.Q6J("ngIf",e.empid.EmployeeId||!e.RO_Login),u.xp6(1),u.Q6J("ngIf","-1"!=e.selectedLeave),u.xp6(1),u.Q6J("ngIf","-1"!=e.selectedLeave),u.xp6(1),u.Q6J("ngIf","-1"!=e.selectedLeave),u.xp6(1),u.Q6J("ngIf","-1"!=e.selectedLeave),u.xp6(3),u.Q6J("disabled",e.unabletoapply),u.xp6(5),u.Q6J("value",e.leaveStatus)("enableService",!1),u.xp6(1),u.Q6J("ngIf",e.showLeaveTable)}}function ce(e,t){1&e&&(u.TgZ(0,"small",35),u._uU(1,"Select From Date"),u.qZA())}function pe(e,t){1&e&&(u.TgZ(0,"small",35),u._uU(1,"Select To Date"),u.qZA())}function ue(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr",96),u.TgZ(1,"td",97),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(3).setLeaveTable(t)}),u._uU(2),u.qZA(),u.TgZ(3,"td",97),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(3).setLeaveTable(t)}),u._uU(4),u.qZA(),u.TgZ(5,"td",97),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(3).setLeaveTable(t)}),u._uU(6),u.qZA(),u.TgZ(7,"td",97),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(3).setLeaveTable(t)}),u._uU(8),u.qZA(),u.TgZ(9,"td",97),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(3).setLeaveTable(t)}),u._uU(10),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit;u.Q6J("id",e.RefNo),u.xp6(2),u.Oqu(e.RefNo),u.xp6(2),u.Oqu(e.Description),u.xp6(2),u.Oqu(e.FromDate),u.xp6(2),u.Oqu(e.ToDate),u.xp6(2),u.Oqu(e.Status)}}function he(e,t){if(1&e&&(u.TgZ(0,"div",91),u.TgZ(1,"div",92),u._uU(2,"* Click on row to select leave *"),u.qZA(),u.TgZ(3,"table",93),u.TgZ(4,"thead"),u.TgZ(5,"tr"),u.TgZ(6,"th",94),u._uU(7,"RefNo"),u.qZA(),u.TgZ(8,"th",94),u._uU(9,"Leave Description"),u.qZA(),u.TgZ(10,"th",94),u._uU(11,"From Date"),u.qZA(),u.TgZ(12,"th",94),u._uU(13,"To Date"),u.qZA(),u.TgZ(14,"th",94),u._uU(15,"Status"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(16,"tbody"),u.YNc(17,ue,11,6,"tr",95),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(17),u.Q6J("ngForOf",e.leave_cancellation_list)}}function fe(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"button",98),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).leaveCancel()}),u._uU(1,"Cancel Leave"),u.qZA()}}function ge(e,t){1&e&&u._uU(0," Leave Details ")}function me(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"th",103),u._UZ(2,"p-tableHeaderCheckbox"),u.qZA(),u.TgZ(3,"th"),u._uU(4,"Date"),u.qZA(),u.TgZ(5,"th"),u._uU(6,"Leave Description"),u.qZA(),u.TgZ(7,"th"),u._uU(8,"NO. Of Days"),u.qZA(),u.TgZ(9,"th"),u._uU(10,"Status"),u.qZA(),u.qZA())}function Ze(e,t){if(1&e&&(u.TgZ(0,"tr",104),u._UZ(1,"td",105),u.TgZ(2,"td"),u._uU(3),u.qZA(),u.TgZ(4,"td"),u._uU(5),u.qZA(),u.TgZ(6,"td"),u._uU(7),u.qZA(),u.TgZ(8,"td"),u._uU(9),u.qZA(),u.qZA()),2&e){const e=t.$implicit,a=t.rowIndex,o=u.oxw(3);u.Q6J("pSelectableRow",e)("pSelectableRowIndex",a)("pSelectableRowDisabled","Cancelled"==e.Status||"75"==o.userdetails.userdetails.PeopleGroupId),u.xp6(3),u.Oqu(e.Date),u.xp6(2),u.Oqu(e.Leave_Desc),u.xp6(2),u.Oqu(e.No_Of_Days),u.xp6(2),u.Oqu(e.Status)}}function ye(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",29),u.TgZ(1,"p-table",99),u.NdJ("selectionChange",function(t){return u.CHM(e),u.oxw(2).selectedDates=t}),u.YNc(2,ge,1,0,"ng-template",100),u.YNc(3,me,11,0,"ng-template",101),u.YNc(4,Ze,10,7,"ng-template",102),u.qZA(),u.TgZ(5,"button",98),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).resetLeaveCancellation()}),u._uU(6,"Reset"),u.qZA(),u.TgZ(7,"button",98),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).leaveCancel()}),u._uU(8,"Cancel Leave"),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(1),u.Q6J("value",e.selectedLeaveReference)("scrollable",!0)("selection",e.selectedDates)}}function ve(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",12),u.TgZ(2,"div",14),u.TgZ(3,"div",15),u.TgZ(4,"form",13),u.TgZ(5,"div",87),u.TgZ(6,"div",56),u.TgZ(7,"input",88),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw().fromdate=t})("click",function(){return u.CHM(e),u.MAs(10).open()})("dateInput",function(){return u.CHM(e),u.oxw().leaveCancellationList()}),u.qZA(),u.YNc(8,ce,2,0,"small",59),u._UZ(9,"mat-datepicker",60,61),u.qZA(),u.TgZ(11,"div",56),u.TgZ(12,"input",62),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw().todate=t})("click",function(){return u.CHM(e),u.MAs(15).open()})("dateInput",function(){return u.CHM(e),u.oxw().leaveCancellationList()}),u.qZA(),u.YNc(13,pe,2,0,"small",59),u._UZ(14,"mat-datepicker",63,64),u.qZA(),u.qZA(),u.qZA(),u.YNc(16,he,18,1,"div",89),u.YNc(17,fe,2,0,"button",90),u.qZA(),u.YNc(18,ye,9,3,"div",17),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.MAs(10),t=u.MAs(15),a=u.oxw();u.xp6(7),u.Q6J("ngModel",a.fromdate)("matDatepicker",e),u.xp6(1),u.Q6J("ngIf",a.fromdateerror&&(""==a.fromdate||null==a.fromdate)),u.xp6(4),u.Q6J("ngModel",a.todate)("matDatepicker",t)("min",a.fromdate),u.xp6(1),u.Q6J("ngIf",a.todateerror&&(""==a.todate||null==a.todate)),u.xp6(1),u.Q6J("startAt",a.fromdate),u.xp6(2),u.Q6J("ngIf",a.showLeaveDetails),u.xp6(1),u.Q6J("ngIf",a.executive),u.xp6(1),u.Q6J("ngIf",a.showLeaveRef)}}function _e(e,t){1&e&&(u.TgZ(0,"small",35),u._uU(1,"Select From Date"),u.qZA())}function Te(e,t){1&e&&(u.TgZ(0,"small",35),u._uU(1,"Select To Date"),u.qZA())}function Ae(e,t){1&e&&u._uU(0," Mobile Attendance ")}function xe(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"th",103),u._UZ(2,"p-tableHeaderCheckbox"),u.qZA(),u.TgZ(3,"th"),u._uU(4,"Date"),u.qZA(),u.TgZ(5,"th"),u._uU(6,"Time"),u.qZA(),u.TgZ(7,"th"),u._uU(8,"Location"),u.qZA(),u.TgZ(9,"th"),u._uU(10,"Remark"),u.qZA(),u.TgZ(11,"th"),u._uU(12,"Status"),u.qZA(),u.TgZ(13,"th"),u._uU(14,"InOutStatus"),u.qZA(),u.qZA())}function qe(e,t){if(1&e&&(u.TgZ(0,"tr",104),u._UZ(1,"td",105),u.TgZ(2,"td"),u._uU(3),u.qZA(),u.TgZ(4,"td"),u._uU(5),u.qZA(),u.TgZ(6,"td"),u._uU(7),u.qZA(),u.TgZ(8,"td"),u.TgZ(9,"form",13),u.TgZ(10,"textarea",111),u.NdJ("ngModelChange",function(e){return t.$implicit.Remark=e}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.qZA()),2&e){const e=t.$implicit,a=t.rowIndex;u.Q6J("pSelectableRow",e)("pSelectableRowIndex",a)("pSelectableRowDisabled",""!=e.Status),u.xp6(3),u.Oqu(e.Date),u.xp6(2),u.Oqu(e.Time),u.xp6(2),u.Oqu(e.Location),u.xp6(3),u.Q6J("disabled",""!=e.Status)("ngModel",e.Remark),u.xp6(2),u.Oqu(e.Status),u.xp6(2),u.Oqu(e.InOutStatus)}}function be(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",34),u.TgZ(1,"p-table",107),u.NdJ("selectionChange",function(t){return u.CHM(e),u.oxw(2).selectedMobileData=t}),u.YNc(2,Ae,1,0,"ng-template",100),u.YNc(3,xe,15,0,"ng-template",108),u.YNc(4,qe,15,10,"ng-template",102),u.qZA(),u.TgZ(5,"button",109),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).applyMobileAttendance()}),u._uU(6,"Apply"),u.qZA(),u.TgZ(7,"button",110),u._uU(8,"Reset"),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(1),u.Q6J("value",e.mobile_attendance_list)("selection",e.selectedMobileData)}}function Me(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",12),u.TgZ(2,"div",14),u.TgZ(3,"div",34),u.TgZ(4,"form",13),u.TgZ(5,"div",87),u.TgZ(6,"div",106),u.TgZ(7,"input",88),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw().FromDate=t})("click",function(){return u.CHM(e),u.MAs(10).open()})("dateInput",function(){return u.CHM(e),u.oxw().mobileAttendanceList()}),u.qZA(),u.YNc(8,_e,2,0,"small",59),u._UZ(9,"mat-datepicker",60,61),u.qZA(),u.TgZ(11,"div",106),u.TgZ(12,"input",62),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw().ToDate=t})("click",function(){return u.CHM(e),u.MAs(15).open()})("dateInput",function(){return u.CHM(e),u.oxw().mobileAttendanceList()}),u.qZA(),u.YNc(13,Te,2,0,"small",59),u._UZ(14,"mat-datepicker",60,64),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(16,be,9,2,"div",33),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.MAs(10),t=u.MAs(15),a=u.oxw();u.xp6(7),u.Q6J("ngModel",a.FromDate)("matDatepicker",e),u.xp6(1),u.Q6J("ngIf",a.FromDateError&&(""==a.FromDate||null==a.FromDate)),u.xp6(4),u.Q6J("ngModel",a.ToDate)("matDatepicker",t)("min",a.FromDate),u.xp6(1),u.Q6J("ngIf",a.ToDateError&&(""==a.ToDate||null==a.ToDate)),u.xp6(3),u.Q6J("ngIf",a.showmobileattendance)}}function Ce(e,t){1&e&&u._UZ(0,"div")}function Le(e,t){if(1&e&&(u.TgZ(0,"div"),u.TgZ(1,"div"),u._uU(2),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(2),u.AsE("",e.EmployeeId," - ",e.EmployeeName,"")}}function De(e,t){1&e&&(u.TgZ(0,"small",24),u._uU(1,"Please select Employee ID "),u.qZA())}function we(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"label",19),u._uU(2,"Employee ID "),u.TgZ(3,"sup",20),u._uU(4,"*"),u.qZA(),u.qZA(),u.TgZ(5,"div",15),u.TgZ(6,"form"),u.TgZ(7,"p-autoComplete",118),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(3).empid_applycoff=t})("completeMethod",function(t){return u.CHM(e),u.oxw(3).filterEmployees(t)})("onClick",function(){return u.CHM(e),u.oxw(3).getEmpListRO()}),u.YNc(8,Le,3,2,"ng-template",22),u.qZA(),u.YNc(9,De,2,0,"small",23),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(3);u.xp6(7),u.Q6J("ngModel",e.empid_applycoff)("suggestions",e.filteredEmployees)("dropdown",!0),u.xp6(2),u.Q6J("ngIf",e.iderror)}}function Ee(e,t){1&e&&(u.TgZ(0,"small",24),u._uU(1,"Please OT Date Range "),u.qZA())}function Ie(e,t){1&e&&(u.TgZ(0,"small",35),u._uU(1,"Select From Date"),u.qZA())}function Ue(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",129),u.TgZ(1,"mat-radio-group",113),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(5).fromdatedaytype=t})("change",function(){return u.CHM(e),u.oxw(5).calculateCoffDays()}),u.TgZ(2,"mat-radio-button",130),u._uU(3,"Half Day"),u.qZA(),u._uU(4,"\xa0 "),u.TgZ(5,"mat-radio-button",131),u._uU(6,"Full Day"),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(5);u.xp6(1),u.Q6J("ngModel",e.fromdatedaytype),u.xp6(1),u.Q6J("checked",!0)}}function Ne(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",132),u.TgZ(1,"mat-radio-group",113),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(5).singledaytype=t})("change",function(){return u.CHM(e),u.oxw(5).calculateCoffDays()}),u.TgZ(2,"mat-radio-button",133),u._uU(3,"First Half"),u.qZA(),u._uU(4,"\xa0 "),u.TgZ(5,"mat-radio-button",134),u._uU(6,"Second Half"),u.qZA(),u._uU(7,"\xa0 "),u.TgZ(8,"mat-radio-button",135),u._uU(9,"Full Day"),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(5);u.xp6(1),u.Q6J("ngModel",e.singledaytype),u.xp6(1),u.Q6J("checked",!0)}}function Je(e,t){if(1&e&&(u.TgZ(0,"div",119),u.YNc(1,Ue,7,2,"div",127),u.YNc(2,Ne,10,2,"div",128),u.qZA()),2&e){const e=u.oxw(4);u.xp6(1),u.Q6J("ngIf",e.datepipe.transform(e.fromdate,"dd/MM/yyyy")!=e.datepipe.transform(e.todate,"dd/MM/yyyy")),u.xp6(1),u.Q6J("ngIf",e.datepipe.transform(e.fromdate,"dd/MM/yyyy")==e.datepipe.transform(e.todate,"dd/MM/yyyy"))}}function Oe(e,t){1&e&&(u.TgZ(0,"small",35),u._uU(1,"Select To Date"),u.qZA())}function ke(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"mat-radio-group",136),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(4).todatedaytype=t})("change",function(){return u.CHM(e),u.oxw(4).calculateCoffDays()}),u.TgZ(1,"mat-radio-button",137),u._uU(2,"Half Day"),u.qZA(),u._uU(3,"\xa0 "),u.TgZ(4,"mat-radio-button",138),u._uU(5,"Full Day"),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(4);u.Q6J("ngModel",e.todatedaytype),u.xp6(1),u.Q6J("checked",!0)}}function Re(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"div",25),u.TgZ(2,"div",56),u.TgZ(3,"div",14),u.TgZ(4,"div",119),u.TgZ(5,"input",120),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(3).fromdate=t})("dateInput",function(){return u.CHM(e),u.oxw(3).onCoffValueChange()})("click",function(){return u.CHM(e),u.MAs(8).open()}),u.qZA(),u.YNc(6,Ie,2,0,"small",59),u._UZ(7,"mat-datepicker",60,61),u.qZA(),u.YNc(9,Je,3,2,"div",121),u.qZA(),u.qZA(),u.TgZ(10,"div",56),u.TgZ(11,"div",14),u.TgZ(12,"div",119),u.TgZ(13,"input",122),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(3).todate=t})("click",function(){return u.CHM(e),u.MAs(16).open()})("dateInput",function(){return u.CHM(e),u.oxw(3).onCoffValueChange()}),u.qZA(),u.YNc(14,Oe,2,0,"small",59),u._UZ(15,"mat-datepicker",63,64),u.qZA(),u.TgZ(17,"div",123),u.YNc(18,ke,6,2,"mat-radio-group",124),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(19,"div",125),u.TgZ(20,"label",126),u._uU(21,"No. Of Days of Leave : "),u.TgZ(22,"b"),u._uU(23),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.MAs(8),t=u.MAs(16),a=u.oxw(3);u.xp6(5),u.Q6J("ngModel",a.fromdate)("matDatepicker",e),u.xp6(1),u.Q6J("ngIf",a.fromdateerror&&(""==a.fromdate||null==a.fromdate)),u.xp6(3),u.Q6J("ngIf",!a.one_day_means),u.xp6(4),u.Q6J("ngModel",a.todate)("matDatepicker",t)("min",a.fromdate),u.xp6(1),u.Q6J("ngIf",a.todateerror&&(""==a.todate||null==a.todate)),u.xp6(1),u.Q6J("startAt",a.fromdate),u.xp6(3),u.Q6J("ngIf",!a.one_day_means&&a.datepipe.transform(a.fromdate,"dd/MM/yyyy")!=a.datepipe.transform(a.todate,"dd/MM/yyyy")),u.xp6(5),u.Oqu(a.no_of_days_leave_taken)}}function Qe(e,t){}function Se(e,t){1&e&&(u.TgZ(0,"th"),u._uU(1,"OneDayMeans"),u.qZA())}function He(e,t){1&e&&(u.TgZ(0,"th"),u._uU(1,"HalfDayMeans"),u.qZA())}function Fe(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"th",139),u._UZ(2,"p-tableHeaderCheckbox"),u.qZA(),u.TgZ(3,"th"),u._uU(4,"Date"),u.qZA(),u.TgZ(5,"th"),u._uU(6,"ExhaustedOTHrs"),u.qZA(),u.TgZ(7,"th"),u._uU(8,"AvailableOTHrs"),u.qZA(),u.YNc(9,Se,2,0,"th",5),u.YNc(10,He,2,0,"th",5),u.TgZ(11,"th"),u._uU(12,"Location"),u.qZA(),u.TgZ(13,"th"),u._uU(14,"Location_Cid"),u.qZA(),u.qZA()),2&e){const e=u.oxw(4);u.xp6(9),u.Q6J("ngIf",e.one_day_means),u.xp6(1),u.Q6J("ngIf",!e.one_day_means)}}function Ye(e,t){if(1&e&&(u.TgZ(0,"tr",140),u._UZ(1,"td",139),u.TgZ(2,"td"),u._uU(3),u.qZA(),u.TgZ(4,"td"),u._uU(5),u.qZA(),u.TgZ(6,"td"),u._uU(7),u.qZA(),u.TgZ(8,"td"),u._uU(9),u.qZA(),u.TgZ(10,"td"),u._uU(11),u.qZA(),u.TgZ(12,"td"),u._uU(13),u.qZA(),u.qZA()),2&e){const e=t.$implicit,a=t.rowIndex;u.Q6J("pSelectableRow",e)("pSelectableRowIndex",a),u.xp6(3),u.Oqu(e.Date),u.xp6(2),u.Oqu(e.ExhaustedOTHrs),u.xp6(2),u.Oqu(e.AvailableOTHrs),u.xp6(2),u.Oqu(e.OneDayMeans),u.xp6(2),u.Oqu(e.Location),u.xp6(2),u.Oqu(e.Location_Cid)}}function Be(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"p-table",99),u.NdJ("selectionChange",function(t){return u.CHM(e),u.oxw(3).selectedCoffList=t}),u.YNc(2,Qe,0,0,"ng-template",100),u.YNc(3,Fe,15,2,"ng-template",101),u.YNc(4,Ye,14,8,"ng-template",102),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("value",e.coffList)("scrollable",!0)("selection",e.selectedCoffList)}}function Pe(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",12),u.TgZ(1,"form"),u.YNc(2,we,10,4,"div",16),u.TgZ(3,"div",18),u.TgZ(4,"label",79),u._uU(5,"OT Date Range"),u.TgZ(6,"sup",20),u._uU(7," *"),u.qZA(),u.qZA(),u.TgZ(8,"div",25),u.TgZ(9,"input",117),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).otdaterange=t})("bsValueChange",function(t){return u.CHM(e),u.oxw(2).onOTValueChange(t)}),u.qZA(),u.YNc(10,Ee,2,0,"small",23),u.qZA(),u.qZA(),u._UZ(11,"hr"),u.YNc(12,Re,24,11,"div",16),u.YNc(13,Be,5,3,"div",5),u.TgZ(14,"div",14),u.TgZ(15,"div",45),u.TgZ(16,"button",47),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).applyCompOff()}),u._uU(17,"Submit Leave"),u.qZA(),u._uU(18,"\xa0 "),u.TgZ(19,"button",47),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).resetValue()}),u._uU(20,"Reset"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(21,"p-messages",48),u.NdJ("valueChange",function(t){return u.CHM(e),u.oxw(2).leaveStatus=t}),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(2),u.Q6J("ngIf",e.RO_Login),u.xp6(7),u.Q6J("ngModel",e.otdaterange)("bsConfig",e.otdaterangeConfig),u.xp6(1),u.Q6J("ngIf",e.otdaterangeerror),u.xp6(2),u.Q6J("ngIf",e.showCompofflist),u.xp6(1),u.Q6J("ngIf",e.showCompofflist),u.xp6(8),u.Q6J("value",e.leaveStatus)("enableService",!1)}}function Ve(e,t){if(1&e&&(u.TgZ(0,"div"),u.TgZ(1,"div"),u._uU(2),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(2),u.AsE("",e.EmployeeId," - ",e.EmployeeName,"")}}function $e(e,t){1&e&&(u.TgZ(0,"small",24),u._uU(1,"Please select Employee ID "),u.qZA())}function We(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"label",19),u._uU(2,"Employee ID "),u.TgZ(3,"sup",20),u._uU(4,"*"),u.qZA(),u.qZA(),u.TgZ(5,"div",15),u.TgZ(6,"form"),u.TgZ(7,"p-autoComplete",21),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(3).empid_cancelcoff=t})("completeMethod",function(t){return u.CHM(e),u.oxw(3).filterEmployees(t)})("onSelect",function(){return u.CHM(e),u.oxw(3).getCompOffCancellationList()}),u.YNc(8,Ve,3,2,"ng-template",22),u.qZA(),u.YNc(9,$e,2,0,"small",23),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(3);u.xp6(7),u.Q6J("ngModel",e.empid_cancelcoff)("suggestions",e.filteredEmployees)("dropdown",!0),u.xp6(2),u.Q6J("ngIf",e.iderror)}}function je(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td",144),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(4).cancelCoff(t)}),u._uU(10,"\u2716"),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit;u.xp6(2),u.Oqu(e.RefNo),u.xp6(2),u.Oqu(e.FromDate),u.xp6(2),u.Oqu(e.ToDate),u.xp6(2),u.Oqu(e.NoOfDays)}}function ze(e,t){if(1&e&&(u.TgZ(0,"div",142),u.TgZ(1,"table",143),u.TgZ(2,"thead"),u.TgZ(3,"tr"),u.TgZ(4,"th",94),u._uU(5,"Ref. No."),u.qZA(),u.TgZ(6,"th",94),u._uU(7,"From Date"),u.qZA(),u.TgZ(8,"th",94),u._uU(9,"To Date"),u.qZA(),u.TgZ(10,"th",94),u._uU(11,"Total Days"),u.qZA(),u.TgZ(12,"th",94),u._uU(13,"Cancel"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(14,"tbody"),u.YNc(15,je,11,4,"tr",37),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw(3);u.xp6(15),u.Q6J("ngForOf",e.coff_cancel_list)}}function Ge(e,t){if(1&e&&(u.TgZ(0,"div",12),u.TgZ(1,"div",14),u.TgZ(2,"div",15),u.YNc(3,We,10,4,"div",16),u.qZA(),u.qZA(),u._UZ(4,"hr"),u.YNc(5,ze,16,1,"div",141),u.qZA()),2&e){const e=u.oxw(2);u.xp6(3),u.Q6J("ngIf",e.RO_Login),u.xp6(2),u.Q6J("ngIf",e.showcanceltable)}}function Ke(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",112),u.TgZ(2,"mat-radio-group",113),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw().coff_formtype=t})("change",function(){return u.CHM(e),u.oxw().changeCompOffForm()}),u.TgZ(3,"mat-radio-button",114),u._uU(4,"Apply "),u.qZA(),u._uU(5,"\xa0 "),u.TgZ(6,"mat-radio-button",115),u._uU(7,"Cancel"),u.qZA(),u.qZA(),u.qZA(),u.YNc(8,Pe,22,8,"div",116),u.YNc(9,Ge,6,2,"div",116),u.qZA()}if(2&e){const e=u.oxw();u.xp6(2),u.Q6J("ngModel",e.coff_formtype),u.xp6(1),u.Q6J("checked",!0),u.xp6(5),u.Q6J("ngIf","apply"==e.coff_formtype),u.xp6(1),u.Q6J("ngIf","cancel"==e.coff_formtype)}}const Xe=[{path:"",component:(()=>{class e{constructor(e,t,a,o,i,n,l,d){this.elms=e,this.common=t,this.datepipe=a,this.toast=o,this.ngxuiloader=i,this.application=n,this.route=l,this.router=d,this.items=[],this.mobile=!1,this.halfdayleave=!1,this.userdetails=[],this.coff_formtype="apply",this.RO_Login=!1,this.employees=[],this.filteredEmployees=[],this.calltime=0,this.leaveBalance=[],this.spinner=s.aS,this.selectedLeave="-1",this.leave_type=[],this.lb=[],this.applicationOption=["Leave/Tour","Leave Cancellation","Compensatory Off","Mobile Attendance","Late Requests","Encashment"],this.FromDateError=!1,this.ToDateError=!1,this.show=!1,this.leaveerror=!1,this.daterangeerror=!1,this.unabletoapply=!0,this.empid=[],this.formData=new FormData,this.showleavespinner=!1,this.totalLeaveDays=0,this.showLeaveTable=!1,this.leave_days_data=[],this.fromdateerror=!1,this.todateerror=!1,this.leave_cancellation_list=[],this.showLeaveDetails=!1,this.showLeaveRef=!1,this.showmobileattendance=!1,this.mobile_attendance_list=[],this.selectedMobileData=[],this.selectedLeaveDetails=[],this.selected=null,this.selectedDates=[],this.executive=!1,this.otdaterange=[],this.otdaterangeerror=!1,this.coffList=[],this.showCompofflist=!1,this.one_day_means=!1,this.empid_applycoff=[],this.empid_cancelcoff=[],this.coff_cancel_list=[],this.showcanceltable=!1,this.totaldays=0,this.hdslot=0,this.singledaytype="fullday",this.fromdatedaytype="fromfull",this.todatedaytype="tofull",this.preapprovedcompoff=!1,this.selectedEncashLeave="-1",this.selectedBalanceType="Current Balance",this.iderror=!1,this.preapproved=!1,this.showencashdetails=!1,this.encash_leave_type=[],this.selectedEncashLeaveDetails=[],this.days_to_be_encashed=1,this.days=[],this.reason_to_encash="",this.preapproved_encash=!1,this.empid_encash=[];let r=navigator.userAgent,c=/android|iphone|kindle|ipad/i.test(r);this.mobile=!!c,this.userdetails=this.common.getLocalStorage(),this.halfdayleave="N"!=this.userdetails.HalfDayLeaveApplication,this.applicationOption=[],"Y"==this.userdetails.LMS.toUpperCase()&&(this.applicationOption.push("Leave/Tour"),this.applicationOption.push("Leave Cancellation")),"Y"==this.userdetails.CompensatoryOff.toUpperCase()&&this.applicationOption.push("Compensatory Off"),"Y"==this.userdetails.EncashmentApprovalAndApply.toUpperCase()&&this.applicationOption.push("Encashment");let p=[];if("Y"==this.userdetails.ESDS){switch(this.userdetails.ChooseShift_As_Binary){case"0":p=[];break;case"1":p=["Late Request"];break;case"2":p=["Mobile Attendance"];break;case"3":p=["Mobile Attendance","Late Request"];break;case"4":p=[];break;case"5":p=["Late Request"];break;case"6":p=["Mobile Attendance"];break;case"7":p=["Mobile Attendance","Late Request"];break;default:p=[]}this.applicationOption.push(...p)}else"Y"!=this.userdetails.ESDS?(p=["Mobile Attendance","Late Request"],this.applicationOption.push(...p)):this.applicationOption=[];for(let s of this.applicationOption)this.items.push({label:s});this.activeItem=this.items[0],this.formtype=this.applicationOption[0]}ngOnInit(){this.common.route||(this.common.invalidRouting(),this.router.navigate(["/employee"])),this.route.queryParams.subscribe(e=>{let t=e[0];try{null!=t&&(t=JSON.parse(atob(t)),"Cancel Leave"==t.operation&&(this.items=[{label:"Leave Cancellation"}],this.applicationOption=["Leave Cancellation"],this.activeItem=this.items[0],this.formtype=this.applicationOption[0],this.fromdate=this.todate=new Date(t.details.split("/")[2],t.details.split("/")[1]-1,t.details.split("/")[0]),this.leaveCancellationList()),this.common.invalidRouting())}catch(a){this.common.invalidRouting(),this.router.navigate(["employee"])}}),this.daterangeConfig={containerClass:"theme-dark-blue",showPreviousMonth:!0,isAnimated:!0,rangeInputFormat:"DD/MM/YYYY",showClearButton:!0,clearPosition:"right",selectWeekDateRange:!0},this.otdaterangeConfig={containerClass:"theme-dark-blue",showPreviousMonth:!0,isAnimated:!0,rangeInputFormat:"DD/MM/YYYY",maxDateRange:30,showClearButton:!0,clearPosition:"right",selectWeekDateRange:!0},"Y"==this.userdetails.userdetails.RO||"Y"==this.userdetails.userdetails.HR?(this.RO_Login=!0,this.getEmpListRO()):this.RO_Login=!1,this.getEmployeeLeaveDetails()}getEmpListRO(){var e=this;this.application.getEmployeeUnderRO(this.userdetails.userdetails.EmpId).subscribe(function(){var t=(0,r.Z)(function*(t){if(e.employees=yield t,null!=e.employees.data&&0!=e.employees.data.length){e.employees=e.employees.data;let t={EmployeeName:e.userdetails.userdetails.Username.split("-")[1].trim(),EmployeeId:e.userdetails.userdetails.EmpId};e.employees.unshift(t)}else{e.employees=[];let t={EmployeeName:e.userdetails.userdetails.Username.split("-")[1].trim(),EmployeeId:e.userdetails.userdetails.EmpId};e.employees.push(t)}});return function(e){return t.apply(this,arguments)}}())}getEmpListHR(){var e=this;this.common.getEmpList().subscribe(function(){var t=(0,r.Z)(function*(t){if(e.employees=yield t,null!=e.employees.data&&0!=e.employees.data.length)e.employees=e.employees.data;else{e.employees=[];let t={EmployeeName:e.common.getLocalStorage().userdetails.Username.split("-")[1].trim(),EmployeeId:e.common.getEmployeeId()};e.employees.push(t)}});return function(e){return t.apply(this,arguments)}}())}filterEmployees(e){let t=[],a=e.query;0==this.filteredEmployees.length&&this.calltime<2&&(this.getEmpListRO(),this.calltime++);for(let o=0;o<this.employees.length;o++){let e=this.employees[o];(e.EmployeeName.toLowerCase().includes(a.toLowerCase())||e.EmployeeId.includes(a))&&t.push(e)}this.filteredEmployees=t}changeCompOffForm(){"cancel"==this.coff_formtype&&this.getCompOffCancellationList()}makeBold(){var e=document.getElementById(this.formtype),t=["apply_comp_off","apply_late_request","apply_mobile_attendance","cancel_leave","apply_leave","apply_encashment"];for(let a=0;a<t.length;a++)t[a]!=this.formtype&&(document.getElementById(t[a]).style.fontWeight="");e.style.fontWeight="bold"}resetValue(){this.dateselected=-1,this.daterange="",this.no_of_days_leave_taken=-1,this.ro_details=null,this.selectedLeave="-1",this.reason_for_leave="",this.empid=[],this.fromdate=this.todate=void 0,this.leaveDoc=void 0,this.unabletoapply=!0}onOptionSelection(e){this.formtype=e.option.label,this.changeOption()}changeOption(){"Encashment"==this.formtype&&this.getEncashDetails()}fileUploaded(e){this.leaveDoc=e,this.formData.append("file",e[0])}onValueChange(){if(null!=this.fromdate&&null!=this.todate){var e=Math.floor((this.todate-this.fromdate)/864e5);this.dateselected=e,this.reason_for_leave="",this.halftype="full",this.from_halftype="from_full",this.to_halftype="to_full";let t={CID:this.common.getCid(),EmpId:this.RO_Login?this.empid.EmployeeId:this.userdetails.userdetails.EmpId,LeaveType:this.selectedLeave,FromDate:this.datepipe.transform(this.fromdate,"dd/MM/yyyy"),ToDate:this.datepipe.transform(this.todate,"dd/MM/yyyy"),HD_Slot:"00"};this.ngxuiloader.start(),this.elms.calculateDays(t).subscribe(e=>{let t=e;this.ngxuiloader.stop(),null!=t.data&&0!=t.data.length?(this.no_of_days_leave_taken=t.data[0].LeaveDays,this.totalLeaveDays=t.data[0].LeaveDays,this.showLeaveTable=!0,this.leave_days_data=t.data):(this.showLeaveTable=!1,this.leave_days_data=[],this.toast.warning(t.errormessage))},e=>{this.ngxuiloader.stop();let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Calculate Days"};this.common.saveLog(t,"ApiException")}),parseFloat(this.lb[0].Current_Balance)<parseFloat(this.no_of_days_leave_taken)&&"N"==this.lb[0].No_Leave_Balance?(this.toast.warning("Cannot Apply - Insufficient Leave Balance"),this.unabletoapply=!0):this.unabletoapply=!1,this.daterangeerror=!1}}calculateDays(){this.no_of_days_leave_taken=this.datepipe.transform(this.fromdate,"dd/MM/yyyy")==this.datepipe.transform(this.todate,"dd/MM/yyyy")?"first_half"==this.halftype||"second_half"==this.halftype?this.totalLeaveDays-.5:this.totalLeaveDays:"from_half"==this.from_halftype&&"to_half"==this.to_halftype?this.totalLeaveDays-1:"from_full"==this.from_halftype&&"to_half"==this.to_halftype||"from_half"==this.from_halftype&&"to_full"==this.to_halftype?this.totalLeaveDays-.5:this.totalLeaveDays,parseFloat(this.lb[0].Current_Balance)<parseFloat(this.no_of_days_leave_taken)&&"N"==this.lb[0].No_Leave_Balance?(this.toast.warning("Cannot Apply - Insufficient Leave Balance"),this.unabletoapply=!0):this.unabletoapply=!1}getEmployeeLeaveDetails(){var e=this;this.elms.getEmployeeLeaveDetails(this.userdetails.userdetails.EmpId).subscribe(function(){var t=(0,r.Z)(function*(t){let a=yield t;null!=a.data&&0!=a.data.length?(e.ro_details=a.data[0],e.showleavespinner=!0,e.elms.getLeaveTypes(e.userdetails.userdetails.EmpId,e.ro_details.RO_Id).subscribe(function(){var t=(0,r.Z)(function*(t){let a=yield t;e.showleavespinner=!1,e.leave_type=null!=a.data&&0!=a.data.length?a.data:[]});return function(e){return t.apply(this,arguments)}}(),t=>{let a={Exception:t.message,id:e.common.getLocalStorage().LoginId,Api:"Get Leave Type"};e.common.saveLog(a,"ApiException")})):e.ro_details=null});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Get Employee Leave Details"};this.common.saveLog(t,"ApiException")}),this.elms.getLeaveBalance(this.userdetails.userdetails.EmpId).subscribe(function(){var t=(0,r.Z)(function*(t){var a=yield t;e.leaveBalance=null!=a.data&&0!=a.data.length?"No Data Found"==a.data.ErrorString?[]:a.data:[]});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Get Leave Balance"};this.common.saveLog(t,"ApiException")})}getLeaveBalance(){"-1"!=this.selectedLeave&&(this.leaveerror=!1);let e=this.leave_type.filter(e=>e.Leave_Type==this.selectedLeave);this.lb=this.leaveBalance.filter(e=>e.Leave_Type==this.selectedLeave.toString()),0!=this.lb.length&&null!=this.lb[0].No_Leave_Balance||"Wyse"==e[0].From?0!=this.lb.length&&null!=this.lb[0].No_Leave_Balance||"Wyse"!=e[0].From||(this.resetValue(),p().fire("Leave Balance is not set for selected leave!!!")):(this.lb=[],this.lb=[{No_Leave_Balance:"Y"}])}applyLeave(){var e=this;let t;if(this.RO_Login&&(null==this.empid||null==this.empid||0==this.empid.length))return void this.toast.warning("Please select employee!!!");if(this.leaveerror="-1"==this.selectedLeave,this.todateerror=null==this.todate||null==this.todate||""==this.todate,this.fromdateerror=null==this.fromdate||null==this.fromdate||""==this.fromdate,this.leaveerror||this.todateerror||this.fromdateerror)return;t=this.datepipe.transform(this.fromdate,"dd/MM/yyyy")==this.datepipe.transform(this.todate,"dd/MM/yyyy")?"first_half"==this.halftype?"1":"second_half"==this.halftype?"2":"0":"from_half"==this.from_halftype&&"to_half"==this.to_halftype?"21":"from_full"==this.from_halftype&&"to_half"==this.to_halftype?"01":"from_half"==this.from_halftype&&"to_full"==this.to_halftype?"20":"00";let a=this.leave_type.filter(e=>e.Leave_Type==this.selectedLeave),o={CID:this.common.getCid(),EmpId:this.RO_Login?this.empid.EmployeeId:this.common.getEmployeeId(),FromDate:this.datepipe.transform(this.fromdate,"dd/MM/yyyy"),ToDate:this.datepipe.transform(this.todate,"dd/MM/yyyy"),NoOfDays:this.no_of_days_leave_taken,Reason:this.reason_for_leave,LeaveType:this.selectedLeave,HD_slot:t,From:a[0].From};this.ngxuiloader.start(),this.elms.leaveApply(o).subscribe(function(){var t=(0,r.Z)(function*(t){let o=yield t;if(e.show=!0,null!=o.data)if(null!=o.data[0].Ref_No){if(null!=e.leaveDoc&&e.elms.uploadDoc(o.data[0].Ref_No,e.formData).toPromise(),e.RO_Login&&e.empid.EmployeeId==e.common.getEmployeeId()||!e.RO_Login){let t={EmpId:e.common.getEmployeeId(),Applied_By:e.common.getEmployeeId(),HOST:window.location.origin,Ref_No:o.data[0].Ref_No};e.leaveStatus=[{severity:"success",detail:o.data[0].ErrorString}],e.common.insertLog("ELMS/Apply_Leave/-"+JSON.stringify(t)),e.ngxuiloader.stop(),e.resetValue()}else if(e.RO_Login&&e.empid.EmployeeId!=e.common.getEmployeeId()){let t={RO_Id:e.common.getEmployeeId(),EmpId:e.empid.EmployeeId,RefNo:o.data[0].Ref_No,Status:"A",From:a[0].From},i={EmpId:e.empid.EmployeeId,Applied_By:e.common.getEmployeeId(),Approved_By:e.common.getEmployeeId(),Ref_No:o.data[0].Ref_No};e.elms.leave_Approve_Reject(t).subscribe(function(){var t=(0,r.Z)(function*(t){let a=yield t;e.leaveStatus=[{severity:"success",detail:a.data[0].ErrorString}],e.common.insertLog("ELMS/Apply_Leave/-"+JSON.stringify(i)),e.ngxuiloader.stop(),e.resetValue()});return function(e){return t.apply(this,arguments)}}(),t=>{let a={Exception:t.message,id:e.common.getLocalStorage().LoginId,Api:"Approve Leave"};e.common.saveLog(a,"ApiException")})}e.leave_days_data=[],e.showLeaveTable=!1}else e.leaveStatus=[{severity:"success",detail:o.data[0].ErrorString}],e.resetValue(),e.ngxuiloader.stop();else e.ngxuiloader.stop(),e.leaveStatus=[{severity:"success",detail:o.data[0].ErrorString}]});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Apply Leave"};this.common.saveLog(t,"ApiException")})}leaveCancellationList(){var e=this;if(this.fromdate>this.todate)this.toast.warning("Fromdate should be less than todate");else if(null!=this.fromdate&&null!=this.todate){let t=this.datepipe.transform(this.fromdate,"dd/MM/yyyy"),a=this.datepipe.transform(this.todate,"dd/MM/yyyy");this.ngxuiloader.start(),this.elms.leaveCancellationList(this.common.getEmployeeId(),t,a).subscribe(function(){var t=(0,r.Z)(function*(t){let a=yield t;e.ngxuiloader.stop(),null!=a.data&&0!=a.data.length?(e.leave_cancellation_list=a.data,e.showLeaveDetails=!0,e.showLeaveRef=!1):(e.leave_cancellation_list=[],e.showLeaveDetails=!1,e.showLeaveRef=!1,e.toast.info("No leaves available to cancel or Already applied for cancellation"))});return function(e){return t.apply(this,arguments)}}(),e=>{this.ngxuiloader.stop(),this.toast.info("Server error")})}}resetLeaveCancellation(){this.selectedLeave=[],this.selectedLeaveDetails=[],this.selectedLeaveReference=[],this.showLeaveDetails=!1,this.showLeaveRef=!1,this.fromdate=null,this.todate=null}mobileAttendanceList(){var e=this;if(this.FromDate>this.ToDate)this.toast.warning("fromdate should be less than todate");else if(null!=this.FromDate&&null!=this.ToDate){let t=this.datepipe.transform(this.FromDate,"dd/MM/yyyy"),a=this.datepipe.transform(this.ToDate,"dd/MM/yyyy"),o=this.common.getEmployeeId();this.application.getMobileAttendanceList(o,t,a).subscribe(function(){var t=(0,r.Z)(function*(t){let a=yield t;if(null!=a.data&&0!=a.data.length){e.mobile_attendance_list=a.data;for(let t=0;t<e.mobile_attendance_list.length;t++)e.mobile_attendance_list[t].ID=t+1;e.showmobileattendance=!0}else e.mobile_attendance_list=[],e.showmobileattendance=!1});return function(e){return t.apply(this,arguments)}}())}}applyMobileAttendance(){var e=this;if(0==this.selectedMobileData.length)return void this.toast.warning("Please select record!!!");let t=this.selectedMobileData;if(null!=t&&0!=t.length){if(t=t.filter(e=>""==e.Status),0==t.length)return this.toast.warning("No fresh records to apply!!!"),void(this.selectedMobileData=[]);let a=this.userdetails.userdetails.EmpId,o=this.userdetails.LoginId;null!=a&&null!=o&&(this.ngxuiloader.start(),this.application.applyMobileAttendance(a,o,t).subscribe(function(){var t=(0,r.Z)(function*(t){let a=yield t;e.ngxuiloader.stop(),1==a.errorcode?(p().fire(a.errormessage),e.selectedMobileData=[],e.mobileAttendanceList()):(p().fire("Something Went Wrong!!!"),e.common.saveLog({Exception:a.errormessage,id:o,Api:"Mobile Attendance Application"},"ApiException"))});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Mobile Attendance Application"};this.common.saveLog(t,"ApiException")}))}}setLeaveTable(e){this.selectedDates=[],null!=this.selected&&(this.selected.style.backgroundColor="",this.selected.style.fontWeight="normal"),this.selected=document.getElementById(e.RefNo),this.selected.style.backgroundColor="lightgrey",this.selected.style.fontWeight="bold",this.selectedLeaveReference=e.Leave_Details,this.selectedLeaveDetails=e,null!=this.selectedLeaveReference?(1==this.selectedLeaveReference.length&&(this.selectedDates=this.selectedLeaveReference),this.executive=!1,this.showLeaveRef=!0):null==this.selectedLeaveReference&&"Mobitrail"==e.From&&(this.executive=!0,this.showLeaveRef=!1)}leaveCancel(){var e=this;let t={};if("wyse"==this.selectedLeaveDetails.From.toLowerCase()){if(0==this.selectedDates.length)return void this.toast.warning("Please select leave!!!");let e=[];this.selectedDates=this.selectedDates.filter(e=>"Cancelled"!=e.Status);for(let t of this.selectedDates)e.push(t.Date);t={CID:this.userdetails.Cid,RefNo:this.selectedLeaveDetails.RefNo,PreApproved:!1,listchk:e,Abbreviation:this.selectedLeaveDetails.I_ABBREVIATION,EmpId:this.userdetails.userdetails.EmpId,FromDate:this.selectedLeaveDetails.FromDate,ToDate:this.selectedLeaveDetails.ToDate,PartialCancel:this.selectedDates.length!=this.selectedLeaveReference.length,Description:this.selectedLeaveDetails.Description,LoginId:this.common.getLocalStorage().LoginId,Reason:"",FromTime:"",ToTime:"",TotalTime:"",SuperUser:"N",SelectAll:this.selectedDates.length==this.selectedLeaveReference.length?"Y":"N",From:this.selectedLeaveDetails.From}}else t={CID:this.userdetails.Cid,RefNo:this.selectedLeaveDetails.RefNo,PreApproved:!1,listchk:[],Abbreviation:this.selectedLeaveDetails.I_ABBREVIATION,EmpId:this.userdetails.userdetails.EmpId,FromDate:this.selectedLeaveDetails.FromDate,ToDate:this.selectedLeaveDetails.ToDate,PartialCancel:!1,Description:this.selectedLeaveDetails.Description,LoginId:this.userdetails.LoginId,Reason:"",FromTime:"",ToTime:"",TotalTime:"",SuperUser:"N",SelectAll:"Y",From:this.selectedLeaveDetails.From};this.ngxuiloader.start(),this.elms.cancelLeave(t).subscribe(function(){var t=(0,r.Z)(function*(t){let a=yield t;e.ngxuiloader.stop(),1==a.errorcode?(p().fire(a.errormessage),e.selectedDates=[],e.selectedLeaveDetails=null,e.leaveCancellationList()):(p().fire(a.errormessage),e.selectedLeaveDetails=null,e.executive&&(null!=e.selected&&(e.selected.style.backgroundColor="",e.selected.style.fontWeight="normal"),e.executive=!1))});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Leave Cancellation"};this.common.saveLog(t,"ApiException")})}onOTValueChange(e){var t=this;if(null!=e&&(this.OTFromDate=this.datepipe.transform(e[0],"dd/MM/yyyy"),this.OTToDate=this.datepipe.transform(e[1],"dd/MM/yyyy"),null!=this.OTFromDate&&null!=this.OTToDate)){let e="";if(this.RO_Login){if(null==this.empid_applycoff.EmployeeId)return;e=this.empid_applycoff.EmployeeId}else e=this.userdetails.userdetails.EmpId;this.ngxuiloader.start(),this.application.availableCoffList(e,this.OTFromDate,this.OTToDate).subscribe(function(){var e=(0,r.Z)(function*(e){let a=yield e;t.ngxuiloader.stop(),null!=a.data&&0!=a.data.length?(t.coffList=a.data,t.one_day_means="N"==t.coffList[0].IsHalfDayCompoff.toUpperCase(),t.showCompofflist=!0):(t.coffList=[],t.showCompofflist=!1)});return function(t){return e.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Get Coff List"};this.common.saveLog(t,"ApiException")})}}applyCompOff(){var e=this;if(this.RO_Login&&null==this.empid_applycoff.EmployeeId)return void this.toast.warning("Please select Employee");if(0==this.otdaterange.length||null==this.otdaterange||null==this.otdaterange)return void this.toast.warning("Please select OT Date Range");if(null==this.fromdate||null==this.todate)return void this.toast.warning("Please select Leave Dates");if(0==this.selectedCoffList.length)return void this.toast.warning("Please select comp off");let t={CID:this.userdetails.Cid,EmpId:this.RO_Login?this.empid_applycoff.EmployeeId:this.userdetails.userdetails.EmpId,RoleId:this.userdetails.Role_Id,SuperUser:"N",FromDate:this.datepipe.transform(this.fromdate,"dd/MM/yyyy"),ToDate:this.datepipe.transform(this.todate,"dd/MM/yyyy"),list:this.selectedCoffList,Days:this.no_of_days_leave_taken,HD_Slot:this.hdslot,RB_Type:"Day",txtOtFrm:this.OTFromDate,txtOtTo:this.OTToDate,PreApproved:!(!this.RO_Login||this.empid_applycoff.EmployeeId==this.userdetails.userdetails.EmpId),LoginId:this.userdetails.LoginId,Cid_All:this.userdetails.Cid_All,Language:this.userdetails.Language_Code};this.ngxuiloader.start(),this.elms.applyCompOff(t).subscribe(function(){var t=(0,r.Z)(function*(t){let a=yield t;e.ngxuiloader.stop(),p().fire(a.errormessage),e.fromdate=e.todate=void 0,e.selectedCoffList=[],e.no_of_days_leave_taken="",e.singledaytype="fullday",e.fromdatedaytype="fromfull",e.todatedaytype="tofull";let o=e.OTFromDate.split("/"),i=e.OTToDate.split("/"),n=[new Date(o[2],o[1]-1,o[0]),new Date(i[2],i[1]-1,i[0])];e.onOTValueChange(n)});return function(e){return t.apply(this,arguments)}}())}getCompOffCancellationList(){var e=this;let t;if(this.RO_Login){if(null==this.empid_cancelcoff.EmployeeId)return;t=this.empid_cancelcoff.EmployeeId}else t=this.userdetails.userdetails.EmpId;null!=t&&(this.ngxuiloader.start(),this.elms.compoffCancellationList(t).subscribe(function(){var t=(0,r.Z)(function*(t){let a=yield t;e.ngxuiloader.stop(),null!=a.data&&0!=a.data.length?(e.coff_cancel_list=a.data,e.showcanceltable=!0):(e.coff_cancel_list=[],e.showcanceltable=!1)});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"coff cancel list"};this.common.saveLog(t,"ApiException")}))}cancelCoff(e){var t=this;let a={CID:this.userdetails.Cid,EmpId:this.RO_Login?this.empid_cancelcoff.EmployeeId:this.userdetails.userdetails.EmpId,RoleId:this.userdetails.Role_Id,SuperUser:"N",PreApproved:!(!this.RO_Login||this.empid_cancelcoff.EmployeeId==this.userdetails.userdetails.EmpId),LoginId:this.userdetails.LoginId,detail:e};this.ngxuiloader.start(),this.elms.compoffCancel(a).subscribe(function(){var e=(0,r.Z)(function*(e){let a=yield e;t.ngxuiloader.stop(),1==a.errorcode?(p().fire(a.errormessage),t.getCompOffCancellationList()):p().fire(a.errormessage)});return function(t){return e.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Cancel Comp Off"};this.common.saveLog(t,"ApiException")})}onCoffValueChange(){if(null!=this.fromdate&&null!=this.todate){var e=Math.floor((this.todate-this.fromdate)/864e5);this.dateselected=e,this.halftype="full",this.from_halftype="from_full",this.to_halftype="to_full";let t={CID:this.common.getCid(),EmpId:this.RO_Login?this.empid_applycoff.EmployeeId:this.userdetails.userdetails.EmpId,LeaveType:this.selectedLeave,FromDate:this.datepipe.transform(this.fromdate,"dd/MM/yyyy"),ToDate:this.datepipe.transform(this.todate,"dd/MM/yyyy"),HD_Slot:"00"};this.elms.calculateDays(t).subscribe(e=>{let t=e;1==t.errorcode&&null!=t.data&&0!=t.data.length?(this.no_of_days_leave_taken=t.data[0].LeaveDays,this.totaldays=this.no_of_days_leave_taken):(p().fire(t.errormessage),this.fromdate=this.todate=void 0)}),this.daterangeerror=!1}}calculateCoffDays(){this.hdslot=this.datepipe.transform(this.fromdate,"dd/MM/yyyy")==this.datepipe.transform(this.todate,"dd/MM/yyyy")?"firsthalf"==this.singledaytype?"1":"secondhalf"==this.singledaytype?"2":"0":"fromhalf"==this.fromdatedaytype&&"tohalf"==this.todatedaytype?"21":"fromhalf"==this.fromdatedaytype&&"tofull"==this.todatedaytype?"20":"fromfull"==this.fromdatedaytype&&"tohalf"==this.todatedaytype?"01":"00",this.no_of_days_leave_taken=this.datepipe.transform(this.fromdate,"dd/MM/yyyy")==this.datepipe.transform(this.todate,"dd/MM/yyyy")?"firsthalf"==this.singledaytype||"secondhalf"==this.singledaytype?this.totaldays-.5:this.totaldays:"fromhalf"==this.fromdatedaytype&&"tohalf"==this.todatedaytype?this.totaldays-1:"fromfull"==this.fromdatedaytype&&"tohalf"==this.todatedaytype||"fromhalf"==this.fromdatedaytype&&"tofull"==this.todatedaytype?this.totaldays-.5:this.totaldays}getEncashDetails(){var e=this;let t;t=this.RO_Login?this.empid_encash.EmployeeId:this.userdetails.userdetails.EmpId,null!=t&&this.elms.getLeaveEncashmentDetails(t).subscribe(function(){var t=(0,r.Z)(function*(t){let a=yield t;null!=a.data&&0!=a.data.length?(e.encash_leave_type=a.data,e.showencashdetails=!0):(e.encash_leave_type=[],e.showencashdetails=!1,e.toast.warning("Not a single leave is available to encash!!!"))});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Leave encash details"};this.common.saveLog(t,"ApiException")})}getEncashLeaveBalance(){let e=this.encash_leave_type.filter(e=>this.selectedEncashLeave==e.Leave_Type);this.selectedEncashLeaveDetails=e[0],this.getDaysToBeEncashed()}getDaysToBeEncashed(){if(this.days=[],"Current Balance"==this.selectedBalanceType){let e=Number(this.selectedEncashLeaveDetails.Current_Balance);for(let t=1;t<=e;t++)this.days.push(t)}else{let e=Number(this.selectedEncashLeaveDetails.Encashment_Balance);for(let t=1;t<=e;t++)this.days.push(t)}}applyEncashment(){var e=this;let t={CID:this.userdetails.Cid,EmpId:this.empid_encash.EmployeeId,LeaveType:this.selectedEncashLeaveDetails.Leave_Type,BalanceType:this.selectedBalanceType,EncashDays:this.days_to_be_encashed,SuperUser:"true"==this.userdetails.SuperUser?"Y":"N",Reason:this.reason_to_encash,PreApproved:this.preapproved_encash};this.ngxuiloader.start(),this.elms.applyEncashment(t).subscribe(function(){var t=(0,r.Z)(function*(t){let a=yield t;e.ngxuiloader.stop(),1==a.errorcode?(e.resetEncashValue(),p().fire(a.errormessage)):p().fire(a.errormessage)});return function(e){return t.apply(this,arguments)}}(),e=>{let t={Exception:e.message,id:this.common.getLocalStorage().LoginId,Api:"Apply Encashment"};this.common.saveLog(t,"ApiException")})}resetEncashValue(){this.empid_encash=[],this.selectedEncashLeave="-1",this.showencashdetails=!1,this.days_to_be_encashed="",this.reason_to_encash="",this.preapproved_encash=!1}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(h.f),u.Y36(f.v),u.Y36(d.uU),u.Y36(g._W),u.Y36(s.LA),u.Y36(m.I),u.Y36(Z.gz),u.Y36(Z.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-applications"]],decls:15,vars:10,consts:[[1,"container","p-2"],[1,"p-2","d-flex","justify-content-center"],["optionLabel","label",3,"options","ngModel","ngModelChange","onOptionClick",4,"ngIf"],["class","form-control",3,"ngModel","ngModelChange","change",4,"ngIf"],[2,"text-align","center"],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["optionLabel","label",3,"options","ngModel","ngModelChange","onOptionClick"],[1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"p-2","border"],["autocomplete","off"],[1,"row"],[1,"col-sm-6"],["class","row mb-3",4,"ngIf"],["class","col-sm-6","style","border-left: 1px solid black;",4,"ngIf"],[1,"row","mb-3"],["for","input2",1,"col-sm-4","col-form-label",2,"font-weight","bold"],[2,"color","red"],["name","employees","field","EmployeeName",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod","onSelect"],["pTemplate","item"],["class","text-danger","style","color: red",4,"ngIf"],[1,"text-danger",2,"color","red"],[1,"col-sm-8"],["name","selectedLeave",1,"browser-default","custom-select",3,"ngModel","ngModelChange","change"],["selected","",3,"value"],["class","text-danger","style","color: red;",4,"ngIf"],[1,"col-sm-6",2,"border-left","1px solid black"],["name","selectedBalanceType",1,"browser-default","custom-select",3,"ngModel","ngModelChange","change"],["value","Current Balance","selected",""],["value","Encashment Balance"],["class","col-sm-12",4,"ngIf"],[1,"col-sm-12"],[1,"text-danger"],["name","days",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"col-sm-4","col-form-label",2,"font-weight","bold"],["type","text","name","reason",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","d-flex","justify-content-center"],[1,"col-sm-4"],["appHeading","",1,"btn",3,"click"],["class","row",4,"ngIf"],["class","row ",4,"ngIf"],["align","center",1,"col"],["mdbBtn","","type","button","appHeading","","size","md","mdbWavesEffect","",1,"buttonhover",3,"disabled","click"],["mdbBtn","","type","button","appHeading","","size","md","mdbWavesEffect","",1,"buttonhover",3,"click"],[3,"value","enableService","valueChange"],[1,"col-sm-7"],[1,"col-sm-1"],["mode","indeterminate","class","mt-2","style","margin: 0 auto;",3,"diameter",4,"ngIf"],["mdbTooltip","Current Balance","placement","bottom",2,"text-decoration","underline"],["mdbTooltip","Min-Max Allowed","placement","bottom",2,"text-decoration","underline"],["mdbTooltip","Advance Leave Balance","placement","bottom",2,"text-decoration","underline"],["mode","indeterminate",1,"mt-2",2,"margin","0 auto",3,"diameter"],[1,"col","p-2"],[1,"p-2"],["placeholder","From Date","inputmode","none",1,"form-control",3,"ngModel","matDatepicker","min","ngModelChange","click"],["class","text-danger",4,"ngIf"],["touchUi",""],["from",""],["placeholder","To Date","tabindex","-1","inputmode","none",1,"form-control",3,"ngModel","matDatepicker","min","ngModelChange","click","dateInput"],["touchUi","",3,"startAt"],["to",""],["class","col d-flex justify-content-center",4,"ngIf"],[1,"col","d-flex","justify-content-center"],["aria-labelledby","example-radio-group-label","name","oneday",1,"example-radio-group",3,"ngModel","ngModelChange","change"],["value","first_half","id","first_half",1,"example-radio-button"],["id","second_half","value","second_half",1,"example-radio-button"],["id","full","value","full",1,"example-radio-button",3,"checked"],["for","fromdate",1,"col","col-form-label",2,"font-weight","bold"],["name","from_halftype",1,"col-sm-3",3,"ngModel","ngModelChange","change"],["id","from_half","value","from_half"],["id","from_full","value","from_full",3,"checked"],["for","todate",1,"col","col-form-label",2,"font-weight","bold"],["name","to_halftype",1,"col-sm-3",3,"ngModel","ngModelChange","change"],["id","to_half","value","to_half"],["id","to_full","value","to_full",3,"checked"],["for","input1",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["name","leave_taken","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["for","input4",1,"col-sm-4","col-form-label",2,"font-weight","bold"],["mdbInput","","type","text","name","reason_for_leave","id","input4","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["type","file","accept",".pdf,.jpeg,.jpg","id","uploadfile",1,"form-control",3,"change"],["file",""],[1,"table","table-responsive","scrollbig"],[1,"table","table-sm"],[1,"row","p-2","d-flex","justify-content-center"],["placeholder","From Date","inputmode","none",1,"form-control",3,"ngModel","matDatepicker","ngModelChange","click","dateInput"],["class","table-responsive scroll",4,"ngIf"],["appHeading","","class","btn btn-md",3,"click",4,"ngIf"],[1,"table-responsive","scroll"],[1,"blink_me"],[1,"table","table-hover","table-sm"],["appTableHeader","",1,"sticky-top","text-white"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[3,"click"],["appHeading","",1,"btn","btn-md",3,"click"],["responsiveLayout","scroll","scrollHeight","280px","selectionMode","multiple","styleClass","p-datatable-sm","dataKey","Date",3,"value","scrollable","selection","selectionChange"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","3rem"],[3,"pSelectableRow","pSelectableRowIndex","pSelectableRowDisabled"],[2,"width","2rem"],[1,"col-sm-3","p-2"],["responsiveLayout","scroll","scrollHeight","280px","scrollDirection","both","selectionMode","multiple","styleClass","p-datatable-sm","dataKey","ID",3,"value","selection","selectionChange"],["pTemplate","header","frozen","true"],["mdbBtn","","appHeading","",1,"btn","btn-md",3,"click"],["mdbBtn","","appHeading","",1,"btn","btn-md"],["type","text","autocomplete","off","placeholder","Remark","rows","3",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"d-flex","justify-content-center"],[3,"ngModel","ngModelChange","change"],["value","apply","id","apply",3,"checked"],["id","cancel","value","cancel"],["class","p-2 border",4,"ngIf"],["type","text","name","daterange","placeholder","Select Date Range","autocomplete","off","bsDaterangepicker","","inputmode","none",1,"form-control",3,"ngModel","bsConfig","ngModelChange","bsValueChange"],["name","employees","field","EmployeeName",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod","onClick"],[1,"col"],["placeholder","Leave From Date","inputmode","none",1,"form-control",3,"ngModel","matDatepicker","ngModelChange","dateInput","click"],["class","col",4,"ngIf"],["placeholder","Leave To Date","tabindex","-1","inputmode","none",1,"form-control",3,"ngModel","matDatepicker","min","ngModelChange","click","dateInput"],[1,"col","mt-2"],["name","todate",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"col-sm-4","mt-2"],[2,"font-weight","bold"],["class","mt-2","name","fromdate",4,"ngIf"],["class","mt-2","name","fromdateone",4,"ngIf"],["name","fromdate",1,"mt-2"],["value","fromhalf",3,"checked"],["value","fromfull"],["name","fromdateone",1,"mt-2"],["value","firsthalf",3,"checked"],["value","secondhalf"],["value","fullday"],["name","todate",3,"ngModel","ngModelChange","change"],["value","tohalf",3,"checked"],["value","tofull"],[2,"max-width","30px"],[3,"pSelectableRow","pSelectableRowIndex"],["class","table-responsive scrollbig",4,"ngIf"],[1,"table-responsive","scrollbig"],[1,"table","table-sm","table-hover"],[2,"color","red",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div"),u.YNc(3,L,1,2,"p-selectButton",2),u.YNc(4,w,2,2,"select",3),u.qZA(),u.qZA(),u.TgZ(5,"div",4),u.YNc(6,E,4,2,"h4",5),u.qZA(),u._UZ(7,"hr"),u.TgZ(8,"div",6),u.YNc(9,Y,10,4,"div",7),u.YNc(10,re,20,10,"div",7),u.YNc(11,ve,19,11,"div",7),u.YNc(12,Me,17,8,"div",7),u.YNc(13,Ce,1,0,"div",7),u.YNc(14,Ke,10,4,"div",7),u.qZA(),u.qZA()),2&e&&(u.xp6(3),u.Q6J("ngIf",!t.mobile),u.xp6(1),u.Q6J("ngIf",t.mobile),u.xp6(2),u.Q6J("ngIf",null!=t.ro_details),u.xp6(2),u.Q6J("ngSwitch",t.formtype),u.xp6(1),u.Q6J("ngSwitchCase","Encashment"),u.xp6(1),u.Q6J("ngSwitchCase","Leave/Tour"),u.xp6(1),u.Q6J("ngSwitchCase","Leave Cancellation"),u.xp6(1),u.Q6J("ngSwitchCase","Mobile Attendance"),u.xp6(1),u.Q6J("ngSwitchCase","Late Request"),u.xp6(1),u.Q6J("ngSwitchCase","Compensatory Off"))},directives:[d.O5,d.RF,d.n9,y.UN,l.JJ,l.On,l.EJ,d.sg,l.YN,l.Kr,l._Y,l.JL,l.F,v.Qc,_.jx,l.Fj,T.d,n.mT,o.V,n.i9,A.$g,x.hl,x.Mq,q.VQ,q.U0,l.nD,b.v,M.iA,M.Mo,M.Ei,C.TB,C.FR],pipes:[d.gd],styles:["mat-radio-button[_ngcontent-%COMP%]{font-size:medium}label[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:small}mat-button-toggle[_ngcontent-%COMP%]{font-size:medium}.blink_me[_ngcontent-%COMP%]{color:red;font-size:small;animation:blinker 2s linear infinite}@keyframes blinker{50%{opacity:0}}"]}),e})()}];let et=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[Z.Bz.forChild(Xe)],Z.Bz]}),e})();var tt=a(92762),at=a(87064),ot=a(48702),it=a(34732),nt=a(97368);let lt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({providers:[{provide:at._A,useClass:ot.t7,deps:[at.Ad,ot.o8]},{provide:at.sG,useValue:it.x}],imports:[[d.ez,et,s.Js,q.Fk,l.u5,n.Fq,i.o,C.kn.forRoot(),o.$,v.WN,tt.vV,y.Qy,x.FA,at.XK,n.z8.forRoot(),M.U$,nt.q4,A.Cq]]}),e})()}}]);